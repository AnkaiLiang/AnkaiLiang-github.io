<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[RushHour]]></title>
      <url>https://AnkaiLiang.github.io/2017/08/17/RushHour/</url>
      <content type="html"><![CDATA[<h1 id="code-link"><a href="#code-link" class="headerlink" title="code link:"></a>code link:</h1><p><a href="https://github.com/AnkaiLiang/RushHour-and-Sudoka" target="_blank" rel="external">link</a></p>
<h1 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h1><center><embed src="/pdf/HW1-2.pdf" width="850" height="1200"></center>


<h1 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h1><center><embed src="/pdf/CS541Task1.pdf" width="850" height="1200"></center>

]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Text-Processing]]></title>
      <url>https://AnkaiLiang.github.io/2017/08/17/Text-processing-in-Linux/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><ul>
<li>link: <a href="http://www.cs.stevens.edu/~jschauma/615/s17-hw5.html" target="_blank" rel="external">http://www.cs.stevens.edu/~jschauma/615/s17-hw5.html</a></li>
</ul>
<p>Objective:</p>
<p>The objective of this assignment is for you to practice the use of the common text processing tools available on the Unix systems.</p>
<p>To do this, you will process a large input data set and extract a few bits of information. Each question / exercise can be answered with a simple pipeline of common Unix commands.</p>
<p>This assignment is worth 20 points.</p>
<p>Summary:</p>
<p>Every System Administrator sooner or later finds herself in the position of having to correlate events from e.g. an http log. In this exercise, we will use the web logs provided by the Wikimedia foundation, allowing us to process a sufficiently large and diverse data set.</p>
<p>The Wikimedia Foundation makes available logs of their web servers at <a href="https://dumps.wikimedia.org/" target="_blank" rel="external">https://dumps.wikimedia.org/</a>. The data and format we’re interested in is described in more detail on this page. In a nutshell, the files contain lines of data containing a small number of fields:</p>
<p>domain page_title count_views total_response_size<br>We will be looking at the data from March 27th, 2016: <a href="https://dumps.wikimedia.org/other/pagecounts-all-sites/2016/2016-03/pagecounts-20160327-000000.gz" target="_blank" rel="external">https://dumps.wikimedia.org/other/pagecounts-all-sites/2016/2016-03/pagecounts-20160327-000000.gz</a></p>
<p>Details:</p>
<p>Create a NetBSD EC2 instance of ami-569ed93c. All your work is to be done on this instance. Your solutions will be tested on such an instance. Do NOT work on your own system; the tools may behave differently and I may not be able to verify your solution..</p>
<p>Answer the following questions. Describe your method, then Provide the exact commands you used to determine the answer, then show the answer. For example, if the question was “How many lines are in the file?”, then your answer might be:</p>
<p>Uncompress the input file and pipe output into wc(1):</p>
<p>$ gzcat pagecounts-20160327-000000.gz | wc -l<br> 9771932<br>Answer all of these questions:</p>
<p>How many unique objects were requested?<br>How many unique objects were requested for en only?<br>Which is the most often requested object for de?<br>How many requests per second were handled during this hour?<br>How much data was transferred in total?<br>Which was the largest object requested for fr?<br>What is the longest word found on the ten most frequently retrieved English Wikipedia pages?</p>
<hr>
<h1 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h1><h1 id="HW5-CS615"><a href="#HW5-CS615" class="headerlink" title="HW5_CS615"></a>HW5_CS615</h1><ul>
<li>Ankai Liang</li>
<li>10411998</li>
</ul>
<h2 id="Create-instance-of-ami-569ed93c-and-log-in"><a href="#Create-instance-of-ami-569ed93c-and-log-in" class="headerlink" title="Create instance of ami-569ed93c and log in"></a>Create instance of ami-569ed93c and log in</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line">➜  ~ git:(master) ✗ aws ec2 run-instances --image-id ami-569ed93c --instance-type t1.micro --key-name keypair3 --security-groups mysg </div><div class="line">&#123;</div><div class="line">    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">    &quot;ReservationId&quot;: &quot;r-0df0169b808767f43&quot;, </div><div class="line">    &quot;Groups&quot;: [], </div><div class="line">    &quot;Instances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;KernelId&quot;: &quot;aki-8f9dcae6&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-04-02T21:01:52.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.53.207&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-00254b998314cf6b6&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-569ed93c&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-53-207.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;12:bf:13:6a:ef:d6&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-526456a6&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-53-207.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.53.207&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-53-207.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-5c5fc570&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-04-02T21:01:52.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.53.207&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;i386&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/sda1&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 0</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div></pre></td><td class="code"><pre><div class="line">➜  ~ git:(master) ✗ aws ec2 describe-instances --filters &quot;Name=image-id,Values=ami-569ed93c&quot; </div><div class="line">&#123;</div><div class="line">    &quot;Reservations&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-0df0169b808767f43&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-34-207-94-168.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-04-02T21:01:52.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;34.207.94.168&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.53.207&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-00254b998314cf6b6&quot;, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-569ed93c&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-53-207.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;12:bf:13:6a:ef:d6&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;34.207.94.168&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-34-207-94-168.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-526456a6&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-53-207.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;34.207.94.168&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-34-207-94-168.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.53.207&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-53-207.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-5c5fc570&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-04-02T21:01:52.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.53.207&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/sda1&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-039aba578c059024c&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-04-02T21:01:53.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;, </div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/sda2&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-0451313c91b503cd5&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-04-02T21:01:53.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;i386&quot;, </div><div class="line">                    &quot;KernelId&quot;: &quot;aki-8f9dcae6&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/sda1&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Gain public DNS : ec2-34-207-94-168.compute-1.amazonaws.com</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">➜  ~ git:(master) ✗ cd documents</div><div class="line">➜  documents git:(master) ✗ ssh -i p.pem root@ec2-34-207-94-168.compute-1.amazonaws.com</div><div class="line">The authenticity of host &apos;ec2-34-207-94-168.compute-1.amazonaws.com (34.207.94.168)&apos; can&apos;t be established.</div><div class="line">ECDSA key fingerprint is SHA256:auJQpbA0bhRxBdP2BjMaJYvLdaBH+PROUgN5O9WE+SQ.</div><div class="line">Are you sure you want to continue connecting (yes/no)? yes</div><div class="line">Warning: Permanently added &apos;ec2-34-207-94-168.compute-1.amazonaws.com,34.207.94.168&apos; (ECDSA) to the list of known hosts.</div><div class="line">NetBSD 7.0 (XEN3PAE_DOMU.201509250726Z)</div><div class="line">Welcome to NetBSD - Amazon EC2 image!</div><div class="line"></div><div class="line">This system is running a snapshot of a stable branch of the NetBSD</div><div class="line">operating system, adapted for running on the Amazon EC2 infrastructure.</div><div class="line"></div><div class="line">The environment is very similar to one provided within a typical Xen domU</div><div class="line">installation. It contains a small, autonomous environment (including a</div><div class="line">compiler toolchain) that you can run to build your own system.</div><div class="line"></div><div class="line">The file system is lightly populated so you have plenty of space to play with.</div><div class="line">Should you need a src or pkgsrc tree, please use the &quot;bootstrap&quot; script found</div><div class="line">under /usr to download them.  You can also use the script to set up</div><div class="line">binary packages using &quot;pkgin&quot;:</div><div class="line"></div><div class="line">                /usr/bootstrap.sh [src|pkgsrc|binpkg|xbase|xsets]</div><div class="line"></div><div class="line">This AMI sends email to the maintainer on first boot, to help get</div><div class="line">an idea of what is in use at any given time.  </div><div class="line"></div><div class="line">You are encouraged to test this image as thoroughly as possible.  Should you</div><div class="line">encounter any problem, please report it back to the development team using the</div><div class="line">send-pr(1) utility (requires a working MTA).  If yours is not properly set up,</div><div class="line">use the web interface at: http://www.NetBSD.org/support/send-pr.html</div><div class="line"></div><div class="line">Thank you for helping us test and improve NetBSD&apos;s quality!</div><div class="line">Terminal type is xterm-256color.</div><div class="line">We recommend that you create a non-root account and use su(1) for root access.</div><div class="line">ip-172-31-53-207#</div></pre></td></tr></table></figure>
<p>Use <code>scp</code> copy the data set into instance.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">➜  ~ git:(master) ✗ scp -i ~/Documents/p.pem ~/Desktop/pagecounts-20160327-000000.gz root@ec2-34-207-94-168.compute-1.amazonaws.com:~/pagecounts-20160327-000000.gz</div><div class="line">pagecounts-20160327-000000.gz                                                            74%   98MB 301.6KB/s   01:51 ETA</div></pre></td></tr></table></figure>
<p>keep Waiting until finished.</p>
<h2 id="Answear-Question"><a href="#Answear-Question" class="headerlink" title="Answear Question"></a>Answear Question</h2><p>Catch a glimpse of the data set. Then I know what the data set looks like.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | head -n 3</div><div class="line">aa File:Boating_accident_injury.jpg 1 10840</div><div class="line">aa File:Cash_payment_timeline_on_foreclosures.jpg 2 17202</div><div class="line">aa File:Loreephotography.com/leona-dargis/_Loan_graphs.jpg 1 4697</div></pre></td></tr></table></figure>
<ol>
<li>How many unique objects were requested?</li>
</ol>
<p>At first time, I found this t1.micor system memory is insufficient. The memory of t1.micor only has 0.613g.<br>I create another C3.large instance of ami-569ed93c. The process of creation is similar as above, so the same will not be repeated here. The new instance Public DNS is ec2-34-205-154-26.compute-1.amazonaws.com.</p>
<p>I also try to use ‘gzcat pagecounts-20160327-000000.gz | cut -f2 -d’ ‘ | sort | uniq | wc -l’. But the memory still insufficient.<br>By reading the documents in <a href="http://www.gnu.org/software/gawk/manual/gawk.html" target="_blank" rel="external">http://www.gnu.org/software/gawk/manual/gawk.html</a>. I figured out this question.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk &apos;BEGIN&#123;count=0&#125; &#123;if (data[$2]++ == 0)&#123;count++&#125;&#125; END&#123;print &quot;There are&quot;, count,&quot; unique objects.&quot;&#125;&apos;</div><div class="line">There are 7682184  unique objects.</div></pre></td></tr></table></figure>
<p>After finish Question3, I used ‘[ ]’ as the delimiter.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk -F &apos;[ ]&apos; &apos;BEGIN&#123;count=0&#125; &#123;if (data[$2]++ == 0)&#123;count++&#125;&#125; END&#123;print &quot;There are&quot;, count,&quot; unique objects.&quot;&#125;&apos;</div><div class="line">There are 7682185  unique objects.</div></pre></td></tr></table></figure>
<p>After reading mail list professor’s reply,<br>I realized “unique pairing of domain and resource name” is a unique objects, so it’s very simple:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | wc -l</div><div class="line"> 9771932</div></pre></td></tr></table></figure>
<ol>
<li>How many unique objects were requested for en only?</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk &apos;BEGIN&#123;count=0&#125; &#123;if ($1 == &quot;en&quot; &amp;&amp; data[$2]++ == 0)&#123;count++&#125;&#125; END&#123;print &quot;There are&quot;, count,&quot; unique objects for en.&quot;&#125;&apos;</div><div class="line">There are 2167954  unique objects for en.</div></pre></td></tr></table></figure>
<p>After finish Question3, I used ‘[ ]’ as the delimiter.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk -F &apos;[ ]&apos; &apos;BEGIN&#123;count=0&#125; &#123;if ($1 == &quot;en&quot; &amp;&amp; data[$2]++ == 0)&#123;count++&#125;&#125; END&#123;print &quot;There are&quot;, count,&quot; unique objects for en.&quot;&#125;&apos;</div><div class="line">There are 2167954  unique objects for en.</div></pre></td></tr></table></figure></p>
<p>I also found a more clear solution:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | grep &quot;^en[ ]&quot; | wc -l</div><div class="line"> 2167954</div></pre></td></tr></table></figure>
<ol>
<li>Which is the most often requested object for de?</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk &apos;BEGIN&#123;maxCount=0; ob=&quot;&quot;&#125; &#123;if ($1 == &quot;de&quot; &amp;&amp; $3&gt;maxCount)&#123;maxCount = $3; ob = $2&#125;&#125; END&#123;print &quot;The most often requested object for de is&quot;, ob, &quot; maxcount is &quot;, maxCount&#125;&apos;</div><div class="line">The most often requested object for de is 575  maxcount is  3489854</div></pre></td></tr></table></figure>
<p>I feel that this result is unnormal. So I check this record.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk &apos;&#123;if ($1==&quot;de&quot; &amp;&amp; ($2 ==&quot;575&quot;)) print $0&#125;&apos;</div><div class="line">de  575 3489854</div></pre></td></tr></table></figure>
<p>Seems like this recode lacked parameter ‘page_title’ (or the ‘page_title’ is null), so the <code>awk</code> recognized parameter ‘count_views’ as ‘page_title’ and ‘total_response_size’ as ‘count_views’. And this is not an accidental phenomena.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk &apos;&#123;if ($4 == &quot;&quot;) print $0&#125;&apos;</div><div class="line">ar  1053 51660428</div><div class="line">ar.m  4 40304</div><div class="line">ar.s  5 163840</div><div class="line">arz  10 559343</div><div class="line">as  2 69937</div><div class="line">ast  1 18563</div><div class="line">av.v  1 905</div><div class="line">...</div></pre></td></tr></table></figure>
<p>I want to specificly set the delimiter is one whitespace. I tried “-F ‘ ‘“, but failed. Then I realized the delimiter is a regular expression. I knew how to do:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk -F &apos;[ ]&apos; &apos;BEGIN&#123;maxCount=0; ob=&quot;&quot;&#125; &#123;if ($1 == &quot;de&quot; &amp;&amp; $3&gt;maxCount)&#123;maxCount = $3; ob = $2&#125;&#125; END&#123;print &quot;The most often requested object for de is&quot;, ob, &quot; maxcount is &quot;, maxCount&#125;&apos;</div><div class="line">The most often requested object for de is Wikipedia:Hauptseite  maxcount is  15235</div></pre></td></tr></table></figure>
<p>The most often requested object for de is Wikipedia:Hauptseite.</p>
<p>I also found a more clear solution (we knew that the object in each row is unique):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | grep &quot;^de[ ]&quot; | sort -t&apos; &apos; -k3,3nr | head -1 | cut -f1,2 -d&apos; &apos;</div><div class="line">de Wikipedia:Hauptseite</div></pre></td></tr></table></figure>
<ol>
<li>How many requests per second were handled during this hour?</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk -F &apos;[ ]&apos; &apos;&#123;count+=$3&#125; END&#123;print count/3600&#125;&apos;</div><div class="line">9999.72</div></pre></td></tr></table></figure>
<p>9999.72 requests per second.</p>
<ol>
<li>How much data was transferred in total?</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk -F &apos;[ ]&apos; &apos;&#123;count+=$4&#125; END&#123;print count&#125;&apos;</div><div class="line">800635232210</div></pre></td></tr></table></figure>
<p>800635232210  data was transferred in total.</p>
<p>I look at the detail of this log in <a href="https://wikitech.wikimedia.org/wiki/Analytics/Data/Pagecounts-all-sites" target="_blank" rel="external">https://wikitech.wikimedia.org/wiki/Analytics/Data/Pagecounts-all-sites</a>.<br>The unit of size is ‘byte’. So there are 800635232210 bytes.</p>
<ol>
<li>Which was the largest object requested for fr?<br>I thought that the size of object equals ‘total_response_size’/‘count_views’.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | awk -F &apos;[ ]&apos; &apos;BEGIN&#123;max=0; ob=&quot;&quot;&#125; &#123;if ($1 == &quot;fr&quot; &amp;&amp; ($4/$3)&gt;max)&#123;max = ($4/$3); ob = $2&#125;&#125; END&#123;print &quot;The largest object requested for fr is&quot;, ob, &quot; the size is &quot;, max&#125;&apos;</div><div class="line">The largest object requested for fr is Projet:Palette/Maintenance/Listes  the size is  1679324</div></pre></td></tr></table></figure>
<p>A more clear version:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | grep &quot;^fr[ ]&quot; | awk -F &apos;[ ]&apos; &apos;&#123;print $0,$4/$3&#125;&apos; | sort -t&apos; &apos; -k5,5nr | head -1 | cut -f1,2 -d&apos; &apos;</div><div class="line">fr Projet:Palette/Maintenance/Listes</div></pre></td></tr></table></figure></p>
<p>The largest object requested for fr is Projet:Palette/Maintenance/Listes</p>
<ol>
<li>What is the longest word found on the ten most frequently retrieved English Wikipedia pages?</li>
</ol>
<p>To solve this proplem, first we should get the ten most frequently retrieved ‘page_title’. English pages means domain is ‘en’ or ‘en.*’<br>At first time, I found some pages can’t crawl anything. Then I found:<br>In <a href="https://wikitech.wikimedia.org/wiki/Analytics/Data/Pagecounts-raw#Aggregation_for_.mw" target="_blank" rel="external">https://wikitech.wikimedia.org/wiki/Analytics/Data/Pagecounts-raw#Aggregation_for_.mw</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Aggregation for .mw</div><div class="line">Note: anomaly retained for backward compatibility! These lines better belong in project-level files. Best to ignore .mw lines.</div><div class="line">...</div><div class="line">So while the .mw abbreviation counts the mobile site, it throws wikipedia, wiktionary into the same bucket. And also, it does not distinguish between page_titles.</div></pre></td></tr></table></figure>
<p>So I did <code>grep</code> to gain the ‘en’ domain except ‘en.mw’ domain wikipedia pages, then sort by ‘counts_view’ and cat the first 10 line.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | grep &quot;^en&quot; | grep -v &quot;^en.mw&quot; | sort -t&apos; &apos; -k3,3nr | head -10 | cut -f1,2 -d&apos; &apos;</div><div class="line">en.m Main_Page</div><div class="line">en Main_Page</div><div class="line">en Special:BlankPage</div><div class="line">en.m Billy_Joe_Saunders</div><div class="line">en.m Batman_v_Superman:_Dawn_of_Justice</div><div class="line">en Sine</div><div class="line">en Special:Search</div><div class="line">en Simon_Pegg</div><div class="line">en.m Chris_Eubank,_Jr.</div><div class="line">en.m Buddy_Hield</div></pre></td></tr></table></figure>
<p>Then I need to generate the url of each pages, use <code>awk</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | grep &quot;^en&quot; | grep -v &quot;^en.mw&quot; | sort -t&apos; &apos; -k3,3nr | head -10 | cut -f1,2 -d&apos; &apos; | awk &apos;&#123;printf (&quot;https://%s.wikipedia.org/wiki/%s\n&quot;,$1,$2)&#125;&apos;</div><div class="line">https://en.m.wikipedia.org/wiki/Main_Page</div><div class="line">https://en.wikipedia.org/wiki/Main_Page</div><div class="line">https://en.wikipedia.org/wiki/Special:BlankPage</div><div class="line">https://en.m.wikipedia.org/wiki/Billy_Joe_Saunders</div><div class="line">https://en.m.wikipedia.org/wiki/Batman_v_Superman:_Dawn_of_Justice</div><div class="line">https://en.wikipedia.org/wiki/Sine</div><div class="line">https://en.wikipedia.org/wiki/Special:Search</div><div class="line">https://en.wikipedia.org/wiki/Simon_Pegg</div><div class="line">https://en.m.wikipedia.org/wiki/Chris_Eubank,_Jr.</div><div class="line">https://en.m.wikipedia.org/wiki/Buddy_Hield</div></pre></td></tr></table></figure>
<p>I choose curl to crawl web data. Before that, I need to install curl. Found resource in <a href="https://curl.haxx.se/download.html" target="_blank" rel="external">https://curl.haxx.se/download.html</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# ftp https://curl.haxx.se/download/curl-7.53.1.tar.gz</div><div class="line">Trying 2a00:1a28:1200:9::2:443 ...</div><div class="line">ftp: Can&apos;t connect to `2a00:1a28:1200:9::2:443&apos;: No route to host</div><div class="line">Trying 80.67.6.50:443 ...</div><div class="line">Requesting https://curl.haxx.se/download/curl-7.53.1.tar.gz</div><div class="line">100% |***********************************|  3433 KiB  305.60 KiB/s    00:00 ETA</div><div class="line">3516153 bytes retrieved in 00:11 (305.60 KiB/s)</div><div class="line">ip-172-31-53-207# tar -zxf curl-7.53.1.tar.gz </div><div class="line">ip-172-31-53-207# cd curl-7.53.1</div><div class="line">ip-172-31-53-207# make</div><div class="line">...</div><div class="line">make install</div></pre></td></tr></table></figure></p>
<p>Crawl one pages for test.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# curl  https://en.wikipedia.org/wiki/Simon_Pegg</div><div class="line">curl: (60) SSL certificate problem: unable to get local issuer certificate</div><div class="line">More details here: https://curl.haxx.se/docs/sslcerts.html</div><div class="line">curl performs SSL certificate verification by default, using a &quot;bundle&quot;</div><div class="line"> of Certificate Authority (CA) public keys (CA certs). If the default</div><div class="line"> bundle file isn&apos;t adequate, you can specify an alternate file</div><div class="line"> using the --cacert option.</div><div class="line">If this HTTPS server uses a certificate signed by a CA represented in</div><div class="line"> the bundle, the certificate verification probably failed due to a</div><div class="line"> problem with the certificate (it might be expired, or the name might</div><div class="line"> not match the domain name in the URL).</div><div class="line">If you&apos;d like to turn off curl&apos;s verification of the certificate, use</div><div class="line"> the -k (or --insecure) option.</div></pre></td></tr></table></figure>
<p>The log say I need to do the SSL certificatation, I choose use -k to skip this step. And I want to ignore the log information in later process.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# curl -k -s https://en.wikipedia.org/wiki/Simon_Pegg | head -6</div><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html class=&quot;client-nojs&quot; lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta charset=&quot;UTF-8&quot;/&gt;</div><div class="line">&lt;title&gt;Simon Pegg - Wikipedia&lt;/title&gt;</div><div class="line">&lt;script&gt;document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, &quot;$1client-js$2&quot; );&lt;/script&gt;</div><div class="line">ip-172-31-24-123#</div></pre></td></tr></table></figure>
<p>Then I need to clean up these useless character. I will use ‘tr’ to replace some symbol and character with space, only leave alpha.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# curl -k -s https://en.wikipedia.org/wiki/Simon_Pegg | head -6 | tr -c  &quot;[:alpha:]&quot; &quot; &quot;</div><div class="line">  DOCTYPE html   html class  client nojs  lang  en  dir  ltr    head   meta charset  UTF 8     title Simon Pegg   Wikipedia  title   script document documentElement className   document documentElement className replace       s client nojs  s        1client js 2      script</div></pre></td></tr></table></figure>
<p>Use ‘awk’ to calculate the answear. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">...| awk &apos;BIGIN &#123;maxWord=0; maxLeng=0;&#125; &#123;for(i=1;i&lt;=NF;i++) if(length($i)&gt;maxLeng)&#123;maxWord=$i; maxLeng=length($i);&#125;&#125; END &#123;print maxWord,maxLeng&#125;&apos;</div></pre></td></tr></table></figure>
<p>In the end, I also need to use ‘xargs’ to transfer the ‘url’ to ‘curl’ one by one, combine all of these:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ip-172-31-53-207# gzcat pagecounts-20160327-000000.gz | grep &quot;^en&quot; | grep -v &quot;^en.mw&quot; | sort -t&apos; &apos; -k3,3nr | head -10 | cut -f1,2 -d&apos; &apos; | awk &apos;&#123;printf (&quot;https://%s.wikipedia.org/wiki/%s\n&quot;,$1,$2)&#125;&apos; | xargs curl -k -s | tr -c  &quot;[:alpha:]&quot; &quot; &quot; | awk &apos;BEGIN &#123;maxWord=0; maxLeng=0;&#125; &#123;for(i=1;i&lt;=NF;i++) if(length($i)&gt;maxLeng)&#123;maxWord=$i; maxLeng=length($i);&#125;&#125; END &#123;print maxWord,maxLeng&#125;&apos;</div><div class="line">wgRelatedArticlesOnlyUseCirrusSearch 36</div></pre></td></tr></table></figure>
<p>So the longest word found on the ten most frequently retrieved English Wikipedia pages is wgRelatedArticlesOnlyUseCirrusSearch.</p>
<p>rm $tmp<br>rm listInstanceId.txt<br>exit 0</p>
<p>```</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Afewmore]]></title>
      <url>https://AnkaiLiang.github.io/2017/08/17/afewmore-A-tool-of-ec2-how-to-write-a-shell-tool/</url>
      <content type="html"><![CDATA[<h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><ul>
<li>link: <a href="http://www.cs.stevens.edu/~jschauma/615/s17-hw6.html" target="_blank" rel="external">http://www.cs.stevens.edu/~jschauma/615/s17-hw6.html</a></li>
</ul>
<h2 id="Objective"><a href="#Objective" class="headerlink" title="Objective:"></a>Objective:</h2><p>The objective of this assignment is for you to write a simple system tool to perform a realistic sysadmin task using the EC2 environment. In doing so, you will practice the core principles of writing scalable system tools as discussed in class.</p>
<p>You will also learn to implement a program from a high-level specification. In so doing, you will practice the detection of hidden requirements and decision making in the face of ambiguity.</p>
<p>This assignment is worth 50 points.</p>
<p>Summary:</p>
<p>Implement the afewmore command as specified in this manual page.</p>
<p>Your program will behave exactly as outlined in that manual page, with no additional output or functionality.</p>
<p>Target platform:</p>
<p>The tool you write will be executed (and graded) on an Ubuntu instance ami-6de0dd04 with the ‘awscli’ package installed via ‘sudo apt-get install awscli’. If your tool does not work in this environment, you will not get any points. See also: general homework guidelines.</p>
<p>Programming language</p>
<p>You are free to choose any programming language you like to implement this tool. Obviously, the program needs to be executed/run on the Ubuntu instance, and must not require the additional installation of any tools, libraries etc. besides what is already installed there.</p>
<p>Program behaviour</p>
<p>Your program will not require any modification of the environment (ie, you can assume the user has his/her environment set up for EC2), and exection of the program will be exactly as outlined in the manual page afewmore(1).</p>
<p>Your program will be robust. That is, it will handle error conditions and erroneous input in a graceful manner. Make sure to consider all the edge cases!</p>
<hr>
<h1 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h1><h1 id="afewmore"><a href="#afewmore" class="headerlink" title="afewmore"></a>afewmore</h1><p>This is a task of CS615 in Stevens Institute of Technology.</p>
<p>Author</p>
<ul>
<li><a href="https://github.com/efitzpa1" target="_blank" rel="external">Eric Fitzpatrick</a></li>
<li><a href="https://github.com/AnkaiLiang" target="_blank" rel="external">Ankai Liang</a></li>
</ul>
<h1 id="Program-description"><a href="#Program-description" class="headerlink" title="Program description"></a>Program description</h1><p>For this homework assignment, our group used Bash as our programming language of choice. Bash allowed for us to easily interface with common shell commands and the AWS CLI tool. Since Bash has such low overhead, it also allows us to have competitive performance and write functionality compactly and directly.</p>
<h1 id="Challenges-faced"><a href="#Challenges-faced" class="headerlink" title="Challenges faced"></a>Challenges faced</h1><p>The main challenge that our group faced is how to determine when a newly created EC2 instance is ready to ssh into. We got around this challenge by using sleep(1) commands to first wait for the instance state to change to ‘Running’ and then attempting to ssh into the instance a few times after small time intervals.</p>
<h2 id="Manual"><a href="#Manual" class="headerlink" title="Manual"></a>Manual</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div></pre></td><td class="code"><pre><div class="line">AFEWMORE(1)		  BSD General Commands Manual		   AFEWMORE(1)</div><div class="line"></div><div class="line">NAME</div><div class="line">     afewmore -- duplicate EC2 instances with their data directory</div><div class="line"></div><div class="line">SYNOPSIS</div><div class="line">     afewmore [-hv] [-d dir] [-n num] instance</div><div class="line"></div><div class="line">DESCRIPTION</div><div class="line">     The afewmore tool can be used to duplicate a given EC2 instance.  When</div><div class="line">     doing so, it creates multiple new instances and populates their data</div><div class="line">     directory by copying the data from the original.</div><div class="line"></div><div class="line">OPTIONS</div><div class="line">     The source instance is specified via the mandatory argument to afewmore.</div><div class="line">     In addition, the following command-line options are supported:</div><div class="line"></div><div class="line">     -d dir   Copy the contents of this data directory from the orignal source</div><div class="line">	      instance to all the new instances.  If not specified, defaults</div><div class="line">	      to /data.</div><div class="line"></div><div class="line">     -h       Print a usage statement and exit.</div><div class="line"></div><div class="line">     -n num   Create this many new instances.  If not specified, defaults to</div><div class="line">	      10.</div><div class="line"></div><div class="line">     -v       Be verbose.</div><div class="line"></div><div class="line">DETAILS</div><div class="line">     Frequently, it is necessary to duplicate a given server&apos;s configuration</div><div class="line">     or setup.	While configuration management and service orchestration sys-</div><div class="line">     tems may be able to perform this task, the afewmore tool allows for a</div><div class="line">     trivial initial bootstrapping that only concerns itself with data dupli-</div><div class="line">     cation, not host configuration.</div><div class="line"></div><div class="line">     Upon invocation, afewmore will identify the type of EC2 instance in ques-</div><div class="line">     tion and launch the requested number of duplicates.  It will then copy</div><div class="line">     the contents of the given directory from the source instance to all of</div><div class="line">     the newly created instances.</div><div class="line"></div><div class="line">OUTPUT</div><div class="line">     By default, afewmore prints the instance IDs of the newly created EC2</div><div class="line">     instances as the only output.  Unless an error occurs, no other output is</div><div class="line">     generated.</div><div class="line"></div><div class="line">     If the -v flag is given, afewmore may print meaningful diagnostic mes-</div><div class="line">     sages as it progresses to stdout.</div><div class="line"></div><div class="line">     Any errors encountered cause a meaningful error message to be printed to</div><div class="line">     STDERR.</div><div class="line"></div><div class="line">ENVIRONMENT</div><div class="line">     The afewmore tool is suitable to be used by any user and does not have</div><div class="line">     any user-specific settings or credentials hard coded.</div><div class="line"></div><div class="line">     afewmore assumes that the user has set up their environment for general</div><div class="line">     use with the EC2 tools.  That is, it will not set or modify any environ-</div><div class="line">     ment variables.</div><div class="line"></div><div class="line">     afewmore also assumes that the user has set up their ~/.ssh/config file</div><div class="line">     to access instances in EC2 via ssh(1) without any additional settings.</div><div class="line"></div><div class="line">EXIT STATUS</div><div class="line">     The afewmore will exit with a return status of 0 under normal circum-</div><div class="line">     stances.  If an error occurred, afewmore will exit with a value &gt;0.</div><div class="line"></div><div class="line">EXAMPLES</div><div class="line">     The following examples illustrate common usage of this tool.</div><div class="line"></div><div class="line">     To create ten more instances of the EC2 instance i-0a1b2c3d4f and copy</div><div class="line">     the contents of the &apos;/data&apos; directory from that instance:</div><div class="line"></div><div class="line">	   $ afewmore i-0a1b2c3d4f</div><div class="line">	   i-1a1b2c3d4f</div><div class="line">	   i-2a1b2c3d4f</div><div class="line">	   i-3a1b2c3d4f</div><div class="line">	   i-4a1b2c3d4f</div><div class="line">	   i-5a1b2c3d4f</div><div class="line">	   i-6a1b2c3d4f</div><div class="line">	   i-7a1b2c3d4f</div><div class="line">	   i-8a1b2c3d4f</div><div class="line">	   i-9a1b2c3d4f</div><div class="line">	   i-0b1b2c3d4f</div><div class="line">	   $ echo $?</div><div class="line">	   0</div><div class="line">	   $</div><div class="line"></div><div class="line">     To create just one more instance and copy the contents of the directory</div><div class="line">     &apos;/usr/local/share&apos;:</div><div class="line"></div><div class="line">	   $ afewmore -d /usr/local/share -n 1 i-0a1b2c3d4f</div><div class="line">	   i-1a1b2c3d4f</div><div class="line">	   $</div><div class="line"></div><div class="line">SEE ALSO</div><div class="line">     aws help, ssh(1), tar(1), rsync(1)</div><div class="line"></div><div class="line">HISTORY</div><div class="line">     afewmore was originally assigned by Jan Schaumann</div><div class="line">     &lt;jschauma@cs.stevens.edu&gt; as a homework assignment for the class &quot;Aspects</div><div class="line">     of System Administration&quot; at Stevens Institute of Technology in the</div><div class="line">     Spring of 2017.</div><div class="line"></div><div class="line">BSD				April 09, 2017				   BSD</div></pre></td></tr></table></figure>
<h2 id="The-commentary"><a href="#The-commentary" class="headerlink" title="The commentary"></a>The commentary</h2><h3 id="Ankai-Liang"><a href="#Ankai-Liang" class="headerlink" title="Ankai Liang"></a>Ankai Liang</h3><p>I decide to use shell script to finish this task.</p>
<ol>
<li><p>At the beginning, I look for the arguments which inputted by user.<br>I found two way, one is manually dealing with them. It requires users to input arguments with explicit position. The other way is using <code>getopts</code>, a useful tool which can handle the short options.<br><a href="http://wiki.bash-hackers.org/howto/getopts_tutorial" target="_blank" rel="external">Tutorial</a><br>After testing, I found that if -d is missing an argument, it will instead of taking the next option as the parameter. So I added a check in each options which need value.</p>
</li>
<li><p>Then I need to grab the information of target instance by a given instance-id.<br>I learned how to write a funtion in Shell Script. When I test the result shell function return, I found <code>$?</code> only return the numeric result, and the variable without <code>local</code> declaration would domain global, a good choice to record the function result.<br>About the parameter passing, if I use variable to transfer the json data, it will lose the line feeds. So I use the temp file to store the json data.<br>By the way, using ‘&amp;’ to make <code>echo command</code> running in background in funtion and using ‘a=<code>func args</code>‘ outside is also a good way to implement funtion return. But in this way, it can’t exit entire script in function when meet error. Maybe the main shell create a sub-shell environment to run sub-command.<br>Tricky point, sometimes the response from aws contains some null data in some attributes. We should filter them by ‘grep “^$”‘</p>
</li>
<li><p>Next I try to ensure what is UserName when ssh to remote server. Create a table, acquire image-Description, and use awk to match UserName. When use awk to do regular expression searching, I have to transfer the shell variables into awk.<a href="https://www.gnu.org/software/gawk/manual/gawk.html#Using-Shell-Variables" target="_blank" rel="external">Tutorial</a></p>
</li>
<li><p>I want to check whether shell sucessfully ssh to the Target server. But I noticed when I offer the wrong username, cli will go into interface and ask for password. If I want to automaticlly deal with the interface, I need install <code>expect</code>, that’s unallowed. I don’t have a better way to solve it.</p>
</li>
<li><p>When trasfer the data between two instance, my test remote instance is NetBSD without rsync, I decided transfer the data by <code>scp</code>.</p>
</li>
<li><p>Because setting up instance need some time. so I have to wait a few seconds then execute the copy mission.</p>
</li>
<li><p>“Host key verification failed.” I fail to use <code>scp</code> transfer data from remote instance to another remote one. I realized scp can’t do that between two remote nodes. I need to copy one node’s rsa public key to the other, then use ssh into one remote to do that transmission.<br>After communication with classmates, I knew that <code>scp</code> has a option ‘-3’, which can transfer data between two remote instance via the local instance. According the principle of least astonishment, I think using <code>scp -3</code> without the change of <code>authorized_keys</code> file is the better solution.</p>
</li>
<li>Deal with the directory path. Before using <code>scp</code>, I have to make sure the directory’s parent path exists. Use pattern matching to adjust <code>${path}</code> and <code>mkdir -p</code> to create in new instance.</li>
<li>Implement all basic function!</li>
<li>When testing create instance with other images, I found some of OS login user accounts don’t have the authority to create new directory or files in some specific place. So I shoud chang the target directory authority to allow ssh write and execute.</li>
</ol>
<h3 id="Eric-Fitzpatrick"><a href="#Eric-Fitzpatrick" class="headerlink" title="Eric Fitzpatrick"></a>Eric Fitzpatrick</h3><p>Ankai and I chose to both develop our own independent versions of the ‘afewmore’ program and then collaborate to merge the best parts of our implementations together. I also used Bash so this process was straightforward. We took very similar approaches so I chose to refine the version on Ankai’s GitHub repository to match up to mine and use as our submission. My main contributions to his version was increasing the error handling capabilities of the program, increasing the verbosity of the usage statement (included flag information), and modifying the script to use the mktemp(1) function instead of an in-directory temp.txt file which could have potentially deleted or modified a user’s temp.txt file unintentionally. I also added a trap(1) statement to delete this temporary file upon a SIGINT signal (control+c).</p>
<hr>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"></div><div class="line">catalog=<span class="string">"/data"</span></div><div class="line">num=10</div><div class="line">verbose=<span class="string">"false"</span></div><div class="line"></div><div class="line"><span class="function"><span class="title">cleanup</span></span>()</div><div class="line">&#123;</div><div class="line">    <span class="built_in">log</span> <span class="string">"Cleaning up temporary file"</span></div><div class="line">    rm <span class="_">-f</span> <span class="variable">$tmp</span></div><div class="line">    <span class="built_in">exit</span> 1</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="title">log</span></span>()</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> [ <span class="string">"<span class="variable">$verbose</span>"</span> = <span class="string">"true"</span> ];</div><div class="line">	<span class="keyword">then</span></div><div class="line">		<span class="built_in">echo</span> <span class="variable">$@</span> </div><div class="line">	<span class="keyword">fi</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="title">iferr</span></span>()</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> [ $? != 0 ];</div><div class="line">	<span class="keyword">then</span> </div><div class="line">		<span class="built_in">echo</span> <span class="variable">$@</span> &gt;&amp;2</div><div class="line">		<span class="built_in">exit</span> 1;</div><div class="line">	<span class="keyword">fi</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="title">usage</span></span>() </div><div class="line">&#123;</div><div class="line">	<span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"Usage: afewmore [-hv] [-d dir] [-n num] instance\n\n  -d dir  Copy the contents of this data directory from the original source\n          instance to all new instances. If not specified, defaults\n          to /data.\n\n  -h      Print a usage statement and exit.\n\n  -n num  Create this many new instances. If not specified, defaults to\n          10.\n\n  -v      Be verbose."</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="title">getInfo</span></span>()</div><div class="line">&#123;</div><div class="line">	((cat <span class="variable">$tmp</span> | grep <span class="string">"\"<span class="variable">$1</span>\""</span>) || (<span class="built_in">echo</span> <span class="string">"Fail to get the <span class="variable">$1</span> info."</span> &gt;&amp;2; <span class="built_in">exit</span> 1;))\</div><div class="line">	 | tr <span class="string">":\","</span> <span class="string">" "</span>  | awk <span class="string">'&#123;print $2&#125;'</span> | sort | uniq | grep -v <span class="string">"null"</span> | grep -v <span class="string">"^$"</span></div><div class="line"><span class="comment">#	delete the null line</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="title">getAllInfo</span></span>()</div><div class="line">&#123;</div><div class="line">	InstanceId=<span class="variable">$1</span></div><div class="line">	aws ec2 describe-instances --output json --filters <span class="string">"Name=instance-id,Values=<span class="variable">$&#123;InstanceId&#125;</span>"</span> &gt; <span class="variable">$tmp</span></div><div class="line">	PublicDnsName=$(getInfo PublicDnsName)</div><div class="line">	ImageId=$(getInfo ImageId)</div><div class="line">	InstanceType=$(getInfo InstanceType)</div><div class="line">	KeyName=$(getInfo KeyName)</div><div class="line">	GroupName=$(getInfo GroupName)</div><div class="line">	AvailabilityZone=$(getInfo AvailabilityZone)</div><div class="line">	PublicDnsName=$(getInfo PublicDnsName)</div><div class="line">	iferr <span class="string">"Fail to get the info for <span class="variable">$&#123;InstanceId&#125;</span>. Please check instance-id and its state."</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">while</span> <span class="built_in">getopts</span> <span class="string">":d:n:hv"</span> arg; </div><div class="line"><span class="keyword">do</span></div><div class="line">	<span class="keyword">case</span> <span class="variable">$&#123;arg&#125;</span> <span class="keyword">in</span></div><div class="line">		h)</div><div class="line">			usage</div><div class="line">			<span class="built_in">exit</span> 0</div><div class="line">			;;</div><div class="line">		d)</div><div class="line">			catalog=<span class="variable">$&#123;OPTARG&#125;</span></div><div class="line">			<span class="keyword">if</span> ! [[ <span class="variable">$catalog</span> =~ ^/.*$ ]];</div><div class="line">			<span class="keyword">then</span></div><div class="line">				<span class="built_in">echo</span> <span class="string">"-d's argument is not a valid Unix style path"</span> &gt;&amp;2</div><div class="line">				usage</div><div class="line">				<span class="built_in">exit</span> 1;</div><div class="line">			<span class="keyword">fi</span></div><div class="line">			;;</div><div class="line">		n)	</div><div class="line">			<span class="keyword">if</span> [[ <span class="variable">$OPTARG</span> =~ ^[0-9]+$ ]]</div><div class="line">			<span class="keyword">then</span></div><div class="line">			    <span class="keyword">if</span> [ <span class="variable">$OPTARG</span> <span class="_">-gt</span> 0 ]</div><div class="line">			    <span class="keyword">then</span></div><div class="line">				num=<span class="variable">$&#123;OPTARG&#125;</span></div><div class="line">			    <span class="keyword">else</span></div><div class="line">				<span class="built_in">echo</span> <span class="string">"-n's argument must be greater than 0."</span> &gt;&amp;2</div><div class="line">				<span class="built_in">exit</span> 1;</div><div class="line">			    <span class="keyword">fi</span></div><div class="line">			<span class="keyword">else</span></div><div class="line">				<span class="built_in">echo</span> <span class="string">"-n's argument is not a number."</span> &gt;&amp;2</div><div class="line">				usage</div><div class="line">				<span class="built_in">exit</span> 1;</div><div class="line">			<span class="keyword">fi</span></div><div class="line">			;;</div><div class="line">		v)</div><div class="line">			verbose=<span class="string">"true"</span></div><div class="line">			;;</div><div class="line">		\?)</div><div class="line">			<span class="built_in">echo</span> <span class="string">"Unknown argument: -<span class="variable">$OPTARG</span>"</span> &gt;&amp;2</div><div class="line">			usage</div><div class="line">			<span class="built_in">exit</span> 1</div><div class="line">			;;</div><div class="line">		:)</div><div class="line">      		<span class="built_in">echo</span> <span class="string">"Option -<span class="variable">$OPTARG</span> requires an argument."</span> &gt;&amp;2</div><div class="line">      		usage</div><div class="line">     		<span class="built_in">exit</span> 1</div><div class="line">     		;;</div><div class="line">	<span class="keyword">esac</span></div><div class="line"><span class="keyword">done</span></div><div class="line"></div><div class="line"><span class="built_in">shift</span> $((OPTIND-1)) <span class="comment"># shift the instance id arguments to $1</span></div><div class="line"><span class="keyword">if</span> [ -z <span class="variable">$1</span> ];</div><div class="line"><span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"Requires an instance id to point out which instance will be replicated."</span> &gt;&amp;2</div><div class="line">	usage</div><div class="line">	<span class="built_in">exit</span> 1</div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"><span class="built_in">log</span> <span class="string">"Arguments format is correct."</span> </div><div class="line"><span class="built_in">log</span> <span class="string">"Tring to acquire target instance's info..."</span></div><div class="line"></div><div class="line"><span class="comment"># get the info for origin instance</span></div><div class="line"></div><div class="line">targetId=<span class="variable">$1</span></div><div class="line"><span class="keyword">if</span> ! [[ <span class="variable">$targetId</span> =~ ^i-[a-z0-9]+$ ]]</div><div class="line"><span class="keyword">then</span></div><div class="line">    <span class="built_in">echo</span> <span class="string">"Invalid instance ID '<span class="variable">$targetId</span>' provided."</span> &gt;&amp;2</div><div class="line">    usage</div><div class="line">    <span class="built_in">exit</span> 1;</div><div class="line"><span class="keyword">fi</span></div><div class="line">tmp=$(mktemp)</div><div class="line"><span class="built_in">trap</span> cleanup SIGINT</div><div class="line">getAllInfo <span class="variable">$targetId</span></div><div class="line">targetPublicDns=<span class="variable">$&#123;PublicDnsName&#125;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="built_in">log</span> <span class="string">"done"</span></div><div class="line"><span class="built_in">log</span> <span class="string">"Target instance info: InstanceId=<span class="variable">$&#123;InstanceId&#125;</span>, PublicDnsName=<span class="variable">$&#123;PublicDnsName&#125;</span>, InstanceType=<span class="variable">$&#123;InstanceType&#125;</span>,\</span></div><div class="line"> ImageId=<span class="variable">$&#123;ImageId&#125;</span>, KeyName=<span class="variable">$&#123;KeyName&#125;</span>, GroupName=<span class="variable">$&#123;GroupName&#125;</span>, AvailabilityZone=<span class="variable">$&#123;AvailabilityZone&#125;</span>"</div><div class="line"><span class="built_in">log</span> <span class="string">"Tring to ssh to target instance..."</span> </div><div class="line"></div><div class="line"><span class="comment">## get the username according to image-id</span></div><div class="line"></div><div class="line">aws ec2 describe-images --output json --filters <span class="string">"Name=image-id, Values=<span class="variable">$&#123;ImageId&#125;</span>"</span> &gt; <span class="variable">$tmp</span></div><div class="line">ImageName=$(getInfo Name)</div><div class="line">username=$(cat UsernameTable | awk -F <span class="string">":"</span> -v pat=<span class="string">"<span class="variable">$&#123;ImageName&#125;</span>"</span> <span class="string">'pat ~ $1 &#123; print $2 &#125;'</span> | head -1)</div><div class="line"><span class="keyword">if</span> [ -z <span class="variable">$&#123;username&#125;</span> ]</div><div class="line"><span class="keyword">then</span></div><div class="line">	username=<span class="string">"root"</span></div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"><span class="comment">## check can we log into target instance and the directory is exist</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> ssh -o StrictHostKeyChecking=no -o LogLevel=quiet <span class="variable">$&#123;username&#125;</span>@<span class="variable">$&#123;targetPublicDns&#125;</span> :;</div><div class="line"><span class="keyword">then</span> </div><div class="line">	<span class="built_in">log</span> <span class="string">"successful ssh to the target instance"</span></div><div class="line">	<span class="built_in">log</span> <span class="string">"username=<span class="variable">$&#123;username&#125;</span>, ImageName=<span class="variable">$&#123;ImageName&#125;</span>"</span></div><div class="line"><span class="keyword">else</span> </div><div class="line">	<span class="built_in">echo</span> <span class="string">"Fail to ssh to the target instance"</span> &gt;&amp;2</div><div class="line">	<span class="built_in">exit</span> 1</div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> ssh -o StrictHostKeyChecking=no <span class="variable">$&#123;username&#125;</span>@<span class="variable">$&#123;targetPublicDns&#125;</span> <span class="built_in">test</span> <span class="_">-e</span> <span class="variable">$&#123;catalog&#125;</span>;</div><div class="line"><span class="keyword">then</span></div><div class="line">	<span class="built_in">log</span> <span class="string">"<span class="variable">$&#123;catalog&#125;</span> exists on instance '<span class="variable">$targetId</span>'"</span></div><div class="line"><span class="keyword">else</span> </div><div class="line">	<span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;catalog&#125;</span> does not exist on instance '<span class="variable">$targetId</span>', please check the directory path"</span> &gt;&amp;2</div><div class="line">	<span class="built_in">exit</span> 1</div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># create $&#123;num&#125; new instance. </span></div><div class="line"></div><div class="line"><span class="built_in">log</span> <span class="string">"Trying to create <span class="variable">$&#123;num&#125;</span> new instances..."</span></div><div class="line"></div><div class="line">aws ec2 run-instances --image-id <span class="variable">$&#123;ImageId&#125;</span> --count <span class="variable">$&#123;num&#125;</span> --instance-type\</div><div class="line"> <span class="variable">$&#123;InstanceType&#125;</span> --key-name <span class="variable">$&#123;KeyName&#125;</span> --security-groups <span class="variable">$&#123;GroupName&#125;</span> --placement AvailabilityZone=<span class="variable">$&#123;AvailabilityZone&#125;</span> &gt; <span class="variable">$tmp</span></div><div class="line">iferr <span class="string">"Fail to create new instances, plase check awscli configuration and network"</span></div><div class="line"></div><div class="line"><span class="built_in">log</span> <span class="string">"done"</span></div><div class="line"><span class="built_in">log</span> <span class="string">"Waiting for instances pending..."</span></div><div class="line">getInfo InstanceId &gt; listInstanceId.txt</div><div class="line">sleep 100s</div><div class="line"></div><div class="line"><span class="comment">## Deal with each new Instance</span></div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> $(cat listInstanceId.txt)</div><div class="line"><span class="keyword">do</span></div><div class="line">	aws ec2 describe-instances --output json --filters <span class="string">"Name=instance-id,Values=<span class="variable">$&#123;line&#125;</span>"</span> &gt; <span class="variable">$tmp</span></div><div class="line">	state=$(getInfo Name)</div><div class="line">	i=0;</div><div class="line">	<span class="keyword">while</span> [ <span class="string">"<span class="variable">$&#123;state&#125;</span>"</span> != <span class="string">"running"</span> ];</div><div class="line">	<span class="keyword">do</span></div><div class="line">		i=$(( <span class="variable">$i</span> + 1 ))</div><div class="line">		sleep 5s</div><div class="line">		aws ec2 describe-instances --output json --filters <span class="string">"Name=instance-id,Values=<span class="variable">$&#123;line&#125;</span>"</span> &gt; <span class="variable">$tmp</span></div><div class="line">		state=$(getInfo Name) <span class="comment"># loop until state = running</span></div><div class="line">		<span class="keyword">if</span> [ <span class="variable">$&#123;i&#125;</span> <span class="_">-gt</span> 10 ]</div><div class="line">		<span class="keyword">then</span></div><div class="line">			<span class="built_in">echo</span> <span class="string">"Overtime, fail to get PublicDnsName for instance <span class="variable">$&#123;line&#125;</span>"</span> &gt;&amp;2</div><div class="line">		<span class="keyword">fi</span></div><div class="line">	<span class="keyword">done</span></div><div class="line">	</div><div class="line">	newPublicDnsName=$(getInfo PublicDnsName)</div><div class="line">	iferr <span class="string">"Fail to get newPublicDnsName for instance <span class="variable">$&#123;line&#125;</span>"</span></div><div class="line">	<span class="built_in">log</span> <span class="string">"newPublicDnsName=<span class="variable">$&#123;newPublicDnsName&#125;</span>"</span></div><div class="line"></div><div class="line">	<span class="built_in">log</span> <span class="string">"Testing ssh to new instance <span class="variable">$&#123;line&#125;</span>..."</span></div><div class="line">	i=0;</div><div class="line">	ssh -o StrictHostKeyChecking=no -o LogLevel=quiet <span class="variable">$&#123;username&#125;</span>@<span class="variable">$&#123;newPublicDnsName&#125;</span> :</div><div class="line">	<span class="keyword">while</span> [ $? != 0 ];</div><div class="line">	<span class="keyword">do</span></div><div class="line">		i=$(( <span class="variable">$i</span> + 1 ))</div><div class="line">		<span class="keyword">if</span> [ <span class="variable">$&#123;i&#125;</span> <span class="_">-gt</span> 15 ]</div><div class="line">		<span class="keyword">then</span></div><div class="line">			<span class="built_in">echo</span> <span class="string">"Fail ssh to new instance <span class="variable">$&#123;line&#125;</span>"</span> &gt;&amp;2</div><div class="line">		<span class="keyword">fi</span></div><div class="line">		sleep 5s</div><div class="line">		ssh -o StrictHostKeyChecking=no -o LogLevel=quiet <span class="variable">$&#123;username&#125;</span>@<span class="variable">$&#123;newPublicDnsName&#125;</span> :</div><div class="line">	<span class="keyword">done</span></div><div class="line">	<span class="built_in">log</span> <span class="string">"done"</span> </div><div class="line"></div><div class="line">	<span class="built_in">log</span> <span class="string">"Prepare the directory on new instance <span class="variable">$&#123;line&#125;</span>"</span></div><div class="line">	newcatalog=<span class="string">"<span class="variable">$&#123;catalog%/?*&#125;</span>"</span></div><div class="line">	ssh -o StrictHostKeyChecking=no -o LogLevel=quiet <span class="variable">$&#123;username&#125;</span>@<span class="variable">$&#123;newPublicDnsName&#125;</span> <span class="string">"(test -e <span class="variable">$&#123;newcatalog:="/"&#125;</span> || sudo mkdir -p <span class="variable">$&#123;newcatalog&#125;</span>) &amp;&amp; ([ -w <span class="variable">$&#123;newcatalog&#125;</span> ] &amp;&amp; [ -x <span class="variable">$&#123;newcatalog&#125;</span> ] || sudo chmod a+wx <span class="variable">$&#123;newcatalog&#125;</span>)"</span></div><div class="line">	iferr <span class="string">"Fail to create directory path on instance <span class="variable">$&#123;line&#125;</span>"</span></div><div class="line">	<span class="built_in">log</span> <span class="string">"Ready. newcatalog=<span class="variable">$newcatalog</span>"</span></div><div class="line"></div><div class="line"></div><div class="line">	<span class="built_in">log</span> <span class="string">"Running scp -3 from <span class="variable">$&#123;username&#125;</span>@<span class="variable">$&#123;targetPublicDns&#125;</span>:<span class="variable">$&#123;catalog&#125;</span> to <span class="variable">$&#123;username&#125;</span>@<span class="variable">$&#123;newPublicDnsName&#125;</span>:<span class="variable">$&#123;newcatalog&#125;</span>..."</span></div><div class="line">	scp -r -q -p -o StrictHostKeyChecking=no -o LogLevel=quiet -3 <span class="variable">$&#123;username&#125;</span>@<span class="variable">$&#123;targetPublicDns&#125;</span>:<span class="variable">$&#123;catalog&#125;</span> <span class="variable">$&#123;username&#125;</span>@<span class="variable">$&#123;newPublicDnsName&#125;</span>:<span class="variable">$&#123;newcatalog&#125;</span></div><div class="line">	iferr <span class="string">"Fail to copy directory content form <span class="variable">$&#123;targetId&#125;</span> to <span class="variable">$&#123;line&#125;</span>"</span></div><div class="line">	<span class="built_in">log</span> <span class="string">"done."</span></div><div class="line"><span class="keyword">done</span></div><div class="line"></div><div class="line"></div><div class="line">cat listInstanceId.txt</div><div class="line"><span class="built_in">log</span> <span class="string">"Success."</span></div><div class="line"></div><div class="line">rm <span class="variable">$tmp</span></div><div class="line">rm listInstanceId.txt</div><div class="line"><span class="built_in">exit</span> 0</div></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Tcpdump(1) DNS]]></title>
      <url>https://AnkaiLiang.github.io/2017/08/16/tcpdump-1-DNS/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><ul>
<li>link: <a href="http://www.cs.stevens.edu/~jschauma/615/s17-hw4.html" target="_blank" rel="external">http://www.cs.stevens.edu/~jschauma/615/s17-hw4.html</a></li>
</ul>
<h2 id="Objective"><a href="#Objective" class="headerlink" title="Objective"></a>Objective</h2><p>The objective of this assignment is for you to learn how to use tcpdump to observe and analyze network traffic. This reinforces lessons from our lecture on networking and prepares you for our lecture on the DNS.</p>
<p>In order to be able to observe DNS traffic flowing between your host and the DNS root servers as well as other DNS servers, you will need to set up and configure a simple caching name server, aka a resolver.</p>
<p>Note: you must use tcpdump. Graphical helper applications such as “wireshark” or similar tools are explicitly prohibited. You need to be able to read the flat text tcpdump output yourself and not rely on other tools to highlight things for you.</p>
<h2 id="OS-Instances"><a href="#OS-Instances" class="headerlink" title="OS Instances"></a>OS Instances</h2><p>The exercises below can be done on any OS instance you like. You will need at least two OS instances, one for the DNS server and one for the “client”. Make sure that the firewall rules between the server and client allow for all the required traffic.</p>
<h3 id="DNS-server-setup"><a href="#DNS-server-setup" class="headerlink" title="DNS server setup"></a>DNS server setup</h3><p>Set up a caching only DNS server (a ``resolver’’) on your OS instance. You may consult any online documentation available, such as this document or any others you prefer. You may use bind or any other DNS server software you like. The only restriction is that in the end your host must be able to function as a caching DNS server.</p>
<p>Set up your client host to use your newly created DNS server for host lookups.</p>
<p>tcpdump exercises</p>
<p>Use the tcpdump utility to monitor the network traffic using the following scenarios:</p>
<p>on the DNS server, run the following commands:<br>$ telnet www.yahoo.com 80<br>GET / HTTP/1.1<br>Host: www.yahoo.com</p>
<p>Track down the packets in your tcpdump referring to the DNS query from your DNS server to one of the root servers, then to the various DNS servers before the DNS information is returned to your server by one of Yahoo’s authoritative DNS servers.<br>Identify the 3-way handshake that initiates the connection from your DNS server to port 80 on Yahoo’s webserver, the packets that are being sent back and forth and finally the closing of the connection.</p>
<p>on your client host, run the following commands:<br>$ telnet www.tumblr.com 80<br>GET / HTTP/1.0</p>
<p>On your client: Track down the packets in your tcpdump referring to the DNS query from your client host to your DNS server.<br>On your DNS server: Track down the packets in your tcpdump referring to the DNS query from your DNS server to one of the root servers, then to the various DNS servers before the DNS information is returned to your server by one of Tumblr’s authoritative DNS servers.</p>
<p>on the DNS server, perform a reverse host lookup (PTR) for a record not yet in your DNS server’s cache; track down in your tcpdump all relevant DNS queries required to retrieve the result. Clearly identify which name servers you are communicating with and who operates them.</p>
<hr>
<h1 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h1><h2 id="Set-up-a-caching-name-server"><a href="#Set-up-a-caching-name-server" class="headerlink" title="Set up a caching name server"></a>Set up a caching name server</h2><p>I read some tutorials and decide to set uo my name server in Red Hats OS.<br>tutorals:<br><a href="http://www.tecmint.com/install-configure-cache-only-dns-server-in-rhel-centos-7/" target="_blank" rel="external">http://www.tecmint.com/install-configure-cache-only-dns-server-in-rhel-centos-7/</a><br><a href="http://www.tldp.org/HOWTO/DNS-HOWTO-3.html" target="_blank" rel="external">http://www.tldp.org/HOWTO/DNS-HOWTO-3.html</a></p>
<h2 id="Create-a-instance-of-Red-Hat"><a href="#Create-a-instance-of-Red-Hat" class="headerlink" title="Create a instance of Red Hat."></a>Create a instance of Red Hat.</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div></pre></td><td class="code"><pre><div class="line">➜  ~ git:(master) ✗ aws ec2 run-instances --image-id ami-b63769a1 --count 1 --instance-type t2.micro --key-name keypair3 --security-groups mysg</div><div class="line">&#123;</div><div class="line">    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">    &quot;ReservationId&quot;: &quot;r-003997252666b66c6&quot;, </div><div class="line">    &quot;Groups&quot;: [], </div><div class="line">    &quot;Instances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-03-18T22:23:48.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.30.115&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-0c7d5c4b3a4726bd7&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-b63769a1&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-30-115.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;0e:db:b6:0f:70:54&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-423bf184&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-30-115.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.30.115&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-30-115.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-dcda6e8c&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-03-18T22:23:48.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.30.115&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/sda1&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 0</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div><div class="line"></div><div class="line">➜  ~ git:(master) ✗ aws ec2 describe-instances --filters &quot;Name=image-id,Values=ami-b63769a1&quot;</div><div class="line">&#123;</div><div class="line">    &quot;Reservations&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-003997252666b66c6&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-54-91-19-43.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-03-18T22:23:48.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;54.91.19.43&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.30.115&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-0c7d5c4b3a4726bd7&quot;, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-b63769a1&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-30-115.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;0e:db:b6:0f:70:54&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;54.91.19.43&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-54-91-19-43.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-423bf184&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-30-115.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;54.91.19.43&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-54-91-19-43.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.30.115&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-30-115.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-dcda6e8c&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-03-18T22:23:48.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.30.115&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/sda1&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-0e34a21597e2a21f6&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-03-18T22:23:49.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/sda1&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Install-package-bind-bind-utils-and-caching-nameserver"><a href="#Install-package-bind-bind-utils-and-caching-nameserver" class="headerlink" title="Install package bind, bind-utils and caching-nameserver."></a>Install package <code>bind</code>, <code>bind-utils</code> and <code>caching-nameserver</code>.</h2><p>Public DNS: ec2-54-91-19-43.compute-1.amazonaws.com</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ ssh -i p.pem ec2-user@ec2-54-91-19-43.compute-1.amazonaws.com</div><div class="line">[ec2-user@ip-172-31-30-115 ~]$ </div><div class="line">[ec2-user@ip-172-31-30-115 ~]$ yum install bind</div><div class="line">Loaded plugins: amazon-id, rhui-lb, search-disabled-repos</div><div class="line">Repo rhui-REGION-client-config-server-7 forced skip_if_unavailable=True due to: /etc/pki/rhui/cdn.redhat.com-chain.crt</div><div class="line">Repo rhui-REGION-client-config-server-7 forced skip_if_unavailable=True due to: /etc/pki/rhui/product/rhui-client-config-server-7.crt</div><div class="line">Repo rhui-REGION-client-config-server-7 forced skip_if_unavailable=True due to: /etc/pki/rhui/rhui-client-config-server-7.key</div><div class="line">Repo rhui-REGION-rhel-server-releases forced skip_if_unavailable=True due to: /etc/pki/rhui/cdn.redhat.com-chain.crt</div><div class="line">Repo rhui-REGION-rhel-server-releases forced skip_if_unavailable=True due to: /etc/pki/rhui/product/content-rhel7.crt</div><div class="line">Repo rhui-REGION-rhel-server-releases forced skip_if_unavailable=True due to: /etc/pki/rhui/content-rhel7.key</div><div class="line">Repo rhui-REGION-rhel-server-rh-common forced skip_if_unavailable=True due to: /etc/pki/rhui/cdn.redhat.com-chain.crt</div><div class="line">Repo rhui-REGION-rhel-server-rh-common forced skip_if_unavailable=True due to: /etc/pki/rhui/product/content-rhel7.crt</div><div class="line">Repo rhui-REGION-rhel-server-rh-common forced skip_if_unavailable=True due to: /etc/pki/rhui/content-rhel7.key</div><div class="line">You need to be root to perform this command.</div><div class="line">[ec2-user@ip-172-31-30-115 ~]$ sudo yum install bind</div><div class="line">Loaded plugins: amazon-id, rhui-lb, search-disabled-repos</div><div class="line">rhui-REGION-client-config-server-7                       | 2.9 kB     00:00     </div><div class="line">rhui-REGION-rhel-server-releases                         | 3.5 kB     00:00     </div><div class="line">rhui-REGION-rhel-server-rh-common                        | 3.8 kB     00:00     </div><div class="line">(1/7): rhui-REGION-client-config-server-7/x86_64/primary_d | 5.5 kB   00:00     </div><div class="line">(2/7): rhui-REGION-rhel-server-rh-common/7Server/x86_64/gr |  104 B   00:00     </div><div class="line">(3/7): rhui-REGION-rhel-server-releases/7Server/x86_64/gro | 701 kB   00:00     </div><div class="line">(4/7): rhui-REGION-rhel-server-releases/7Server/x86_64/upd | 1.8 MB   00:00     </div><div class="line">(5/7): rhui-REGION-rhel-server-rh-common/7Server/x86_64/up |  30 kB   00:00     </div><div class="line">(6/7): rhui-REGION-rhel-server-rh-common/7Server/x86_64/pr | 112 kB   00:00     </div><div class="line">(7/7): rhui-REGION-rhel-server-releases/7Server/x86_64/pri |  34 MB   00:01     </div><div class="line">Resolving Dependencies</div><div class="line">--&gt; Running transaction check</div><div class="line">---&gt; Package bind.x86_64 32:9.9.4-38.el7_3.2 will be installed</div><div class="line">--&gt; Processing Dependency: bind-libs = 32:9.9.4-38.el7_3.2 for package: 32:bind-9.9.4-38.el7_3.2.x86_64</div><div class="line">--&gt; Processing Dependency: libbind9.so.90()(64bit) for package: 32:bind-9.9.4-38.el7_3.2.x86_64</div><div class="line">--&gt; Processing Dependency: libdns.so.100()(64bit) for package: 32:bind-9.9.4-38.el7_3.2.x86_64</div><div class="line">--&gt; Processing Dependency: libisc.so.95()(64bit) for package: 32:bind-9.9.4-38.el7_3.2.x86_64</div><div class="line">--&gt; Processing Dependency: libisccc.so.90()(64bit) for package: 32:bind-9.9.4-38.el7_3.2.x86_64</div><div class="line">--&gt; Processing Dependency: libisccfg.so.90()(64bit) for package: 32:bind-9.9.4-38.el7_3.2.x86_64</div><div class="line">--&gt; Processing Dependency: liblwres.so.90()(64bit) for package: 32:bind-9.9.4-38.el7_3.2.x86_64</div><div class="line">--&gt; Running transaction check</div><div class="line">---&gt; Package bind-libs.x86_64 32:9.9.4-38.el7_3.2 will be installed</div><div class="line">--&gt; Processing Dependency: bind-license = 32:9.9.4-38.el7_3.2 for package: 32:bind-libs-9.9.4-38.el7_3.2.x86_64</div><div class="line">--&gt; Running transaction check</div><div class="line">---&gt; Package bind-license.noarch 32:9.9.4-37.el7 will be updated</div><div class="line">--&gt; Processing Dependency: bind-license = 32:9.9.4-37.el7 for package: 32:bind-libs-lite-9.9.4-37.el7.x86_64</div><div class="line">---&gt; Package bind-license.noarch 32:9.9.4-38.el7_3.2 will be an update</div><div class="line">--&gt; Running transaction check</div><div class="line">---&gt; Package bind-libs-lite.x86_64 32:9.9.4-37.el7 will be updated</div><div class="line">---&gt; Package bind-libs-lite.x86_64 32:9.9.4-38.el7_3.2 will be an update</div><div class="line">--&gt; Finished Dependency Resolution</div><div class="line"></div><div class="line">Dependencies Resolved</div><div class="line"></div><div class="line">================================================================================</div><div class="line"> Package      Arch   Version             Repository                        Size</div><div class="line">================================================================================</div><div class="line">Installing:</div><div class="line"> bind         x86_64 32:9.9.4-38.el7_3.2 rhui-REGION-rhel-server-releases 1.8 M</div><div class="line">Installing for dependencies:</div><div class="line"> bind-libs    x86_64 32:9.9.4-38.el7_3.2 rhui-REGION-rhel-server-releases 1.0 M</div><div class="line">Updating for dependencies:</div><div class="line"> bind-libs-lite</div><div class="line">              x86_64 32:9.9.4-38.el7_3.2 rhui-REGION-rhel-server-releases 730 k</div><div class="line"> bind-license noarch 32:9.9.4-38.el7_3.2 rhui-REGION-rhel-server-releases  83 k</div><div class="line"></div><div class="line">Transaction Summary</div><div class="line">================================================================================</div><div class="line">Install  1 Package  (+1 Dependent package)</div><div class="line">Upgrade             ( 2 Dependent packages)</div><div class="line"></div><div class="line">Total download size: 3.6 M</div><div class="line">Is this ok [y/d/N]: y</div><div class="line">Downloading packages:</div><div class="line">Delta RPMs disabled because /usr/bin/applydeltarpm not installed.</div><div class="line">(1/4): bind-libs-9.9.4-38.el7_3.2.x86_64.rpm               | 1.0 MB   00:00     </div><div class="line">(2/4): bind-9.9.4-38.el7_3.2.x86_64.rpm                    | 1.8 MB   00:00     </div><div class="line">(3/4): bind-libs-lite-9.9.4-38.el7_3.2.x86_64.rpm          | 730 kB   00:00     </div><div class="line">(4/4): bind-license-9.9.4-38.el7_3.2.noarch.rpm            |  83 kB   00:00     </div><div class="line">--------------------------------------------------------------------------------</div><div class="line">Total                                              7.4 MB/s | 3.6 MB  00:00     </div><div class="line">Running transaction check</div><div class="line">Running transaction test</div><div class="line">Transaction test succeeded</div><div class="line">Running transaction</div><div class="line">  Updating   : 32:bind-license-9.9.4-38.el7_3.2.noarch                      1/6 </div><div class="line">  Installing : 32:bind-libs-9.9.4-38.el7_3.2.x86_64                         2/6 </div><div class="line">  Installing : 32:bind-9.9.4-38.el7_3.2.x86_64                              3/6 </div><div class="line">  Updating   : 32:bind-libs-lite-9.9.4-38.el7_3.2.x86_64                    4/6 </div><div class="line">  Cleanup    : 32:bind-libs-lite-9.9.4-37.el7.x86_64                        5/6 </div><div class="line">  Cleanup    : 32:bind-license-9.9.4-37.el7.noarch                          6/6 </div><div class="line">  Verifying  : 32:bind-9.9.4-38.el7_3.2.x86_64                              1/6 </div><div class="line">  Verifying  : 32:bind-libs-lite-9.9.4-38.el7_3.2.x86_64                    2/6 </div><div class="line">  Verifying  : 32:bind-libs-9.9.4-38.el7_3.2.x86_64                         3/6 </div><div class="line">  Verifying  : 32:bind-license-9.9.4-38.el7_3.2.noarch                      4/6 </div><div class="line">  Verifying  : 32:bind-libs-lite-9.9.4-37.el7.x86_64                        5/6 </div><div class="line">  Verifying  : 32:bind-license-9.9.4-37.el7.noarch                          6/6 </div><div class="line"></div><div class="line">Installed:</div><div class="line">  bind.x86_64 32:9.9.4-38.el7_3.2                                               </div><div class="line"></div><div class="line">Dependency Installed:</div><div class="line">  bind-libs.x86_64 32:9.9.4-38.el7_3.2                                          </div><div class="line"></div><div class="line">Dependency Updated:</div><div class="line">  bind-libs-lite.x86_64 32:9.9.4-38.el7_3.2                                     </div><div class="line">  bind-license.noarch 32:9.9.4-38.el7_3.2                                       </div><div class="line"></div><div class="line">Complete!</div><div class="line">[ec2-user@ip-172-31-30-115 ~]$ sudo yum install bind-utils</div><div class="line">Loaded plugins: amazon-id, rhui-lb, search-disabled-repos</div><div class="line">Resolving Dependencies</div><div class="line">--&gt; Running transaction check</div><div class="line">---&gt; Package bind-utils.x86_64 32:9.9.4-38.el7_3.2 will be installed</div><div class="line">--&gt; Finished Dependency Resolution</div><div class="line"></div><div class="line">Dependencies Resolved</div><div class="line"></div><div class="line">================================================================================</div><div class="line"> Package    Arch   Version               Repository                        Size</div><div class="line">================================================================================</div><div class="line">Installing:</div><div class="line"> bind-utils x86_64 32:9.9.4-38.el7_3.2   rhui-REGION-rhel-server-releases 202 k</div><div class="line"></div><div class="line">Transaction Summary</div><div class="line">================================================================================</div><div class="line">Install  1 Package</div><div class="line"></div><div class="line">Total download size: 202 k</div><div class="line">Installed size: 434 k</div><div class="line">Is this ok [y/d/N]: y</div><div class="line">Downloading packages:</div><div class="line">bind-utils-9.9.4-38.el7_3.2.x86_64.rpm                     | 202 kB   00:00     </div><div class="line">Running transaction check</div><div class="line">Running transaction test</div><div class="line">Transaction test succeeded</div><div class="line">Running transaction</div><div class="line">  Installing : 32:bind-utils-9.9.4-38.el7_3.2.x86_64                        1/1 </div><div class="line">  Verifying  : 32:bind-utils-9.9.4-38.el7_3.2.x86_64                        1/1 </div><div class="line"></div><div class="line">Installed:</div><div class="line">  bind-utils.x86_64 32:9.9.4-38.el7_3.2                                         </div><div class="line"></div><div class="line">Complete!</div><div class="line">[ec2-user@ip-172-31-30-115 ~]$ sudo yum install caching-nameserver</div><div class="line">Loaded plugins: amazon-id, rhui-lb, search-disabled-repos</div><div class="line">Package 32:bind-9.9.4-38.el7_3.2.x86_64 already installed and latest version</div><div class="line">Nothing to do</div></pre></td></tr></table></figure>
<h2 id="Modify-the-file-‘-etc-named-conf’"><a href="#Modify-the-file-‘-etc-named-conf’" class="headerlink" title="Modify the file ‘/etc/named.conf’"></a>Modify the file ‘/etc/named.conf’</h2><p>Then I look the file <code>/etc/named.conf</code>:<br>This file has limit of permission. I use root as user.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[ec2-user@ip-172-31-30-115 var]$ sudo su</div><div class="line">[root@ip-172-31-30-115 etc]# vi named.conf</div></pre></td></tr></table></figure>
<p>Modify:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">// named.conf</div><div class="line">//</div><div class="line">// Provided by Red Hat bind package to configure the ISC BIND named(8) DNS</div><div class="line">// server as a caching only nameserver (as a localhost DNS resolver only).</div><div class="line">//</div><div class="line">// See /usr/share/doc/bind*/sample/ for example named configuration files.</div><div class="line">//</div><div class="line">// See the BIND Administrator&apos;s Reference Manual (ARM) for details about the</div><div class="line">// configuration located in /usr/share/doc/bind-&#123;version&#125;/Bv9ARM.html</div><div class="line"></div><div class="line">options &#123;</div><div class="line">        listen-on port 53 &#123; 127.0.0.1; any; &#125;;</div><div class="line">        listen-on-v6 port 53 &#123; ::1; &#125;;</div><div class="line">        directory       &quot;/var/named&quot;;</div><div class="line">        dump-file       &quot;/var/named/data/cache_dump.db&quot;;</div><div class="line">        statistics-file &quot;/var/named/data/named_stats.txt&quot;;</div><div class="line">        memstatistics-file &quot;/var/named/data/named_mem_stats.txt&quot;;</div><div class="line">        allow-query     &#123; localhost; any; &#125;;</div><div class="line">        allow-query-cache &#123; localhost; any; &#125;;</div><div class="line"></div><div class="line">        /*</div><div class="line">         - If you are building an AUTHORITATIVE DNS server, do NOT enable recursion.</div><div class="line">         - If you are building a RECURSIVE (caching) DNS server, you need to enable recursion.</div><div class="line">         - If your recursive DNS server has a public IP address, you MUST enable access</div><div class="line">           control to limit queries to your legitimate users. Failing to do so will</div><div class="line">           cause your server to become part of large scale DNS amplification</div><div class="line">           attacks. Implementing BCP38 within your network would greatly</div><div class="line">           reduce such attack surface</div><div class="line">        */</div><div class="line">        recursion yes;</div><div class="line"></div><div class="line">        dnssec-enable yes;</div><div class="line">        dnssec-validation yes;</div><div class="line"></div><div class="line">        /* Path to ISC DLV key */</div><div class="line">        bindkeys-file &quot;/etc/named.iscdlv.key&quot;;</div><div class="line"></div><div class="line">        managed-keys-directory &quot;/var/named/dynamic&quot;;</div><div class="line"></div><div class="line">        pid-file &quot;/run/named/named.pid&quot;;</div><div class="line">        session-keyfile &quot;/run/named/session.key&quot;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">logging &#123;</div><div class="line">        channel default_debug &#123;</div><div class="line">                file &quot;data/named.run&quot;;</div><div class="line">                severity dynamic;</div><div class="line">        &#125;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">zone &quot;.&quot; IN &#123;</div><div class="line">        type hint;</div><div class="line">        file &quot;named.ca&quot;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"></div><div class="line">include &quot;/etc/named.rfc1912.zones&quot;;</div><div class="line">include &quot;/etc/named.root.key&quot;;</div></pre></td></tr></table></figure>
<h2 id="Look-the-file-‘named-ca’"><a href="#Look-the-file-‘named-ca’" class="headerlink" title="Look the file ‘named.ca’:"></a>Look the file ‘named.ca’:</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 etc]# vi /var/named/named.ca</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">; &lt;&lt;&gt;&gt; DiG 9.9.2-P1-RedHat-9.9.2-6.P1.fc18 &lt;&lt;&gt;&gt; +bufsize=1200 +norec @a.root-servers.net</div><div class="line">; (2 servers found)</div><div class="line">;; global options: +cmd</div><div class="line">;; Got answer:</div><div class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 25828</div><div class="line">;; flags: qr aa; QUERY: 1, ANSWER: 13, AUTHORITY: 0, ADDITIONAL: 23</div><div class="line"></div><div class="line">;; OPT PSEUDOSECTION:</div><div class="line">; EDNS: version: 0, flags:; udp: 512</div><div class="line">;; QUESTION SECTION:</div><div class="line">;.                              IN      NS</div><div class="line"></div><div class="line">;; ANSWER SECTION:</div><div class="line">.                       518400  IN      NS      a.root-servers.net.</div><div class="line">.                       518400  IN      NS      b.root-servers.net.</div><div class="line">.                       518400  IN      NS      c.root-servers.net.</div><div class="line">.                       518400  IN      NS      d.root-servers.net.</div><div class="line">.                       518400  IN      NS      e.root-servers.net.</div><div class="line">.                       518400  IN      NS      f.root-servers.net.</div><div class="line">.                       518400  IN      NS      g.root-servers.net.</div><div class="line">.                       518400  IN      NS      h.root-servers.net.</div><div class="line">.                       518400  IN      NS      i.root-servers.net.</div><div class="line">.                       518400  IN      NS      j.root-servers.net.</div><div class="line">.                       518400  IN      NS      k.root-servers.net.</div><div class="line">.                       518400  IN      NS      l.root-servers.net.</div><div class="line">.                       518400  IN      NS      m.root-servers.net.</div><div class="line"></div><div class="line">;; ADDITIONAL SECTION:</div><div class="line">a.root-servers.net.     3600000 IN      A       198.41.0.4</div><div class="line">a.root-servers.net.     3600000 IN      AAAA    2001:503:ba3e::2:30</div><div class="line">b.root-servers.net.     3600000 IN      A       192.228.79.201</div><div class="line">c.root-servers.net.     3600000 IN      A       192.33.4.12</div><div class="line">d.root-servers.net.     3600000 IN      A       199.7.91.13</div><div class="line">d.root-servers.net.     3600000 IN      AAAA    2001:500:2d::d</div><div class="line">e.root-servers.net.     3600000 IN      A       192.203.230.10</div><div class="line">f.root-servers.net.     3600000 IN      A       192.5.5.241</div><div class="line">f.root-servers.net.     3600000 IN      AAAA    2001:500:2f::f</div><div class="line">g.root-servers.net.     3600000 IN      A       192.112.36.4</div><div class="line">h.root-servers.net.     3600000 IN      A       128.63.2.53</div><div class="line">h.root-servers.net.     3600000 IN      AAAA    2001:500:1::803f:235</div><div class="line">i.root-servers.net.     3600000 IN      A       192.36.148.17</div><div class="line">i.root-servers.net.     3600000 IN      AAAA    2001:7fe::53</div><div class="line">j.root-servers.net.     3600000 IN      A       192.58.128.30</div><div class="line">j.root-servers.net.     3600000 IN      AAAA    2001:503:c27::2:30</div><div class="line">k.root-servers.net.     3600000 IN      A       193.0.14.129</div><div class="line">k.root-servers.net.     3600000 IN      AAAA    2001:7fd::1</div><div class="line">l.root-servers.net.     3600000 IN      A       199.7.83.42</div><div class="line">l.root-servers.net.     3600000 IN      AAAA    2001:500:3::42</div><div class="line">m.root-servers.net.     3600000 IN      A       202.12.27.33</div><div class="line">m.root-servers.net.     3600000 IN      AAAA    2001:dc3::35</div><div class="line"></div><div class="line">;; Query time: 78 msec</div><div class="line">;; SERVER: 198.41.0.4#53(198.41.0.4)</div><div class="line">;; WHEN: Mon Jan 28 15:33:31 2013</div><div class="line">;; MSG SIZE  rcvd: 699</div></pre></td></tr></table></figure>
<h2 id="Modify-the-file-‘etc-resolv-conf’"><a href="#Modify-the-file-‘etc-resolv-conf’" class="headerlink" title="Modify the file ‘etc/resolv.conf’:"></a>Modify the file ‘etc/resolv.conf’:</h2><p>The <code>nameserver&#39; line specifies the address of nameserver.
The</code>search` set the searching order of client request:<br>If a client tries to look up foo, then foo.subdomain.your-domain.edu is tried first, then foo.your-domain.edu, and finally foo. You may not want to put in too many domains in the search line, as it takes time to search them all.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># Generated by NetworkManager</div><div class="line">search subdomain.your-domain.edu your-domain.edu</div><div class="line">nameserver 127.0.0.1</div></pre></td></tr></table></figure>
<h2 id="Deploy-the-Cache-only-DNS-server-within-chroot-environment"><a href="#Deploy-the-Cache-only-DNS-server-within-chroot-environment" class="headerlink" title="Deploy the Cache-only DNS server within chroot environment"></a>Deploy the Cache-only DNS server within chroot environment</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># yum install bind-chroot -y</div><div class="line"># systemctl restart named</div><div class="line"># ln -s /etc/named.conf /var/named/chroot/etc/named.conf</div></pre></td></tr></table></figure>
<h2 id="Start-the-named-server"><a href="#Start-the-named-server" class="headerlink" title="Start the named server"></a>Start the named server</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 network-scripts]# systemctl restart named</div><div class="line">[root@ip-172-31-30-115 network-scripts]# systemctl enable named</div><div class="line">[root@ip-172-31-30-115 network-scripts]# systemctl status named</div><div class="line">● named.service - Berkeley Internet Name Domain (DNS)</div><div class="line">   Loaded: loaded (/usr/lib/systemd/system/named.service; enabled; vendor preset: disabled)</div><div class="line">   Active: active (running) since Sun 2017-03-19 01:09:45 EDT; 10s ago</div><div class="line"> Main PID: 17623 (named)</div><div class="line">   CGroup: /system.slice/named.service</div><div class="line">           └─17623 /usr/sbin/named -u named</div><div class="line"></div><div class="line">Mar 19 01:09:45 ip-172-31-30-115.ec2.internal named[17623]: command channel listening on ::1#953</div><div class="line">Mar 19 01:09:45 ip-172-31-30-115.ec2.internal named[17623]: managed-keys-zone: loaded serial 2</div><div class="line">Mar 19 01:09:45 ip-172-31-30-115.ec2.internal systemd[1]: Started Berkeley Internet Name Domain (DNS).</div><div class="line">Mar 19 01:09:45 ip-172-31-30-115.ec2.internal named[17623]: zone 0.in-addr.arpa/IN: loaded serial 0</div><div class="line">Mar 19 01:09:45 ip-172-31-30-115.ec2.internal named[17623]: zone 1.0.0.127.in-addr.arpa/IN: loaded serial 0</div><div class="line">Mar 19 01:09:45 ip-172-31-30-115.ec2.internal named[17623]: zone 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0....ial 0</div><div class="line">Mar 19 01:09:45 ip-172-31-30-115.ec2.internal named[17623]: zone localhost/IN: loaded serial 0</div><div class="line">Mar 19 01:09:45 ip-172-31-30-115.ec2.internal named[17623]: zone localhost.localdomain/IN: loaded serial 0</div><div class="line">Mar 19 01:09:45 ip-172-31-30-115.ec2.internal named[17623]: all zones loaded</div><div class="line">Mar 19 01:09:45 ip-172-31-30-115.ec2.internal named[17623]: running</div><div class="line">Hint: Some lines were ellipsized, use -l to show in full.</div></pre></td></tr></table></figure>
<h2 id="Configured-the-client"><a href="#Configured-the-client" class="headerlink" title="Configured the client"></a>Configured the client</h2><h3 id="Create-an-instance-as-our-client"><a href="#Create-an-instance-as-our-client" class="headerlink" title="Create an instance as our client"></a>Create an instance as our client</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div></pre></td><td class="code"><pre><div class="line">➜  ~ git:(master) ✗ aws ec2 run-instances --image-id ami-b63769a1 --count 1 --instance-type t2.micro --key-name keypair3 --security-groups mysg</div><div class="line">&#123;</div><div class="line">    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">    &quot;ReservationId&quot;: &quot;r-07677d6d1f894a149&quot;, </div><div class="line">    &quot;Groups&quot;: [], </div><div class="line">    &quot;Instances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-03-19T04:29:59.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.23.114&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-077fb91e833447d9b&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-b63769a1&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-23-114.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;0e:b4:86:cf:b2:78&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-00f324c6&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-23-114.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.23.114&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-23-114.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-cb5aed9b&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-03-19T04:29:59.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.23.114&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/sda1&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 0</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div><div class="line"></div><div class="line">➜  ~ git:(master) ✗ aws ec2 describe-instances --filters &quot;Name=instance-id,Values=i-077fb91e833447d9b&quot;</div><div class="line">&#123;</div><div class="line">    &quot;Reservations&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-07677d6d1f894a149&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-54-242-90-155.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-03-19T04:29:59.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;54.242.90.155&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.23.114&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-077fb91e833447d9b&quot;, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-b63769a1&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-23-114.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;0e:b4:86:cf:b2:78&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;54.242.90.155&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-54-242-90-155.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-00f324c6&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-23-114.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;54.242.90.155&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-54-242-90-155.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.23.114&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-23-114.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-cb5aed9b&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-03-19T04:29:59.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.23.114&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/sda1&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-033fa93cda37a3621&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-03-19T04:30:00.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/sda1&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>According to the above, our named server “PublicIpAddress” is “54.91.19.43”.<br>Clinet Public Dns is “ec2-54-242-90-155.compute-1.amazonaws.com”.</p>
<p>SSH to the client and change to ‘root’ user.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ ssh -i p.pem ec2-user@ec2-54-242-90-155.compute-1.amazonaws.com</div><div class="line">The authenticity of host &apos;ec2-54-242-90-155.compute-1.amazonaws.com (54.242.90.155)&apos; can&apos;t be established.</div><div class="line">ECDSA key fingerprint is SHA256:RjBCp8++iMcmgBP9LgmWNnBwz+/+gaFJmyooX7fFmnc.</div><div class="line">Are you sure you want to continue connecting (yes/no)? yes</div><div class="line">Warning: Permanently added &apos;ec2-54-242-90-155.compute-1.amazonaws.com,54.242.90.155&apos; (ECDSA) to the list of known hosts.</div><div class="line">[ec2-user@ip-172-31-23-114 ~]$ sudo su</div><div class="line">[root@ip-172-31-23-114 ec2-user]#</div></pre></td></tr></table></figure>
<p>Edit /etc/sysconfig/network-scripts/ifcfg-lo (add ‘DNS=54.91.19.43’ in the end):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">DEVICE=lo</div><div class="line">IPADDR=127.0.0.1</div><div class="line">NETMASK=255.0.0.0</div><div class="line">NETWORK=127.0.0.0</div><div class="line"># If you&apos;re having problems with gated making 127.0.0.0/8 a martian,</div><div class="line"># you can change this to something else (255.255.255.255, for example)</div><div class="line">BROADCAST=127.255.255.255</div><div class="line">ONBOOT=yes</div><div class="line">NAME=loopback</div><div class="line">DNS=54.91.19.43</div></pre></td></tr></table></figure>
<p>Edit /etc/resolv.conf:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[ec2-user@ip-172-31-23-114 ~]$ vi /etc/resolv.conf</div><div class="line"></div><div class="line">nameserver 54.91.19.43</div></pre></td></tr></table></figure>
<p>First, I find I can’t visit my name server. After a few mins, I realized that I didn’t set inbound of my ec2 security group to allow UDP request. Then I added rule of inbound to allow ALL UDP from my client ip in this security group.</p>
<h2 id="tcpdump-exercises"><a href="#tcpdump-exercises" class="headerlink" title="tcpdump exercises"></a>tcpdump exercises</h2><h3 id="First-scenario"><a href="#First-scenario" class="headerlink" title="First scenario"></a>First scenario</h3><h4 id="Install-telnet-and-tcpdump"><a href="#Install-telnet-and-tcpdump" class="headerlink" title="Install telnet and tcpdump"></a>Install telnet and tcpdump</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 ec2-user]# yum install tcpdump</div><div class="line">Loaded plugins: amazon-id, rhui-lb, search-disabled-repos</div><div class="line">rhui-REGION-client-config-server-7                       | 2.9 kB     00:00     </div><div class="line">rhui-REGION-rhel-server-releases                         | 3.5 kB     00:00     </div><div class="line">rhui-REGION-rhel-server-rh-common                        | 3.8 kB     00:00     </div><div class="line">Resolving Dependencies</div><div class="line">--&gt; Running transaction check</div><div class="line">---&gt; Package tcpdump.x86_64 14:4.5.1-3.el7 will be installed</div><div class="line">--&gt; Finished Dependency Resolution</div><div class="line"></div><div class="line">Dependencies Resolved</div><div class="line"></div><div class="line">================================================================================</div><div class="line"> Package   Arch     Version            Repository                          Size</div><div class="line">================================================================================</div><div class="line">Installing:</div><div class="line"> tcpdump   x86_64   14:4.5.1-3.el7     rhui-REGION-rhel-server-releases   388 k</div><div class="line"></div><div class="line">Transaction Summary</div><div class="line">================================================================================</div><div class="line">Install  1 Package</div><div class="line"></div><div class="line">Total download size: 388 k</div><div class="line">Installed size: 931 k</div><div class="line">Is this ok [y/d/N]: y</div><div class="line">Downloading packages:</div><div class="line">tcpdump-4.5.1-3.el7.x86_64.rpm                             | 388 kB   00:00     </div><div class="line">Running transaction check</div><div class="line">Running transaction test</div><div class="line">Transaction test succeeded</div><div class="line">Running transaction</div><div class="line">  Installing : 14:tcpdump-4.5.1-3.el7.x86_64                                1/1 </div><div class="line">  Verifying  : 14:tcpdump-4.5.1-3.el7.x86_64                                1/1 </div><div class="line"></div><div class="line">Installed:</div><div class="line">  tcpdump.x86_64 14:4.5.1-3.el7                                                 </div><div class="line"></div><div class="line">Complete!</div><div class="line"></div><div class="line">[root@ip-172-31-30-115 ec2-user]# yum install telnet</div><div class="line">Loaded plugins: amazon-id, rhui-lb, search-disabled-repos</div><div class="line">Resolving Dependencies</div><div class="line">--&gt; Running transaction check</div><div class="line">---&gt; Package telnet.x86_64 1:0.17-60.el7 will be installed</div><div class="line">--&gt; Finished Dependency Resolution</div><div class="line"></div><div class="line">Dependencies Resolved</div><div class="line"></div><div class="line">================================================================================</div><div class="line"> Package   Arch      Version          Repository                           Size</div><div class="line">================================================================================</div><div class="line">Installing:</div><div class="line"> telnet    x86_64    1:0.17-60.el7    rhui-REGION-rhel-server-releases     63 k</div><div class="line"></div><div class="line">Transaction Summary</div><div class="line">================================================================================</div><div class="line">Install  1 Package</div><div class="line"></div><div class="line">Total download size: 63 k</div><div class="line">Installed size: 113 k</div><div class="line">Is this ok [y/d/N]: y</div><div class="line">Downloading packages:</div><div class="line">telnet-0.17-60.el7.x86_64.rpm                              |  63 kB   00:00     </div><div class="line">Running transaction check</div><div class="line">Running transaction test</div><div class="line">Transaction test succeeded</div><div class="line">Running transaction</div><div class="line">  Installing : 1:telnet-0.17-60.el7.x86_64                                  1/1 </div><div class="line">  Verifying  : 1:telnet-0.17-60.el7.x86_64                                  1/1 </div><div class="line"></div><div class="line">Installed:</div><div class="line">  telnet.x86_64 1:0.17-60.el7                                                   </div><div class="line"></div><div class="line">Complete!</div></pre></td></tr></table></figure>
<h3 id="Set-tcpdump-to-record-package-information"><a href="#Set-tcpdump-to-record-package-information" class="headerlink" title="Set tcpdump to record package information"></a>Set tcpdump to record package information</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 ec2-user]# tcpdump -w tcpdump.out port not 22 &amp;</div><div class="line">[1] 19985</div><div class="line">[root@ip-172-31-30-115 ec2-user]# tcpdump: listening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes</div><div class="line">arp -d -a</div><div class="line">gateway (172.31.16.1) at 0e:8a:cb:2d:0b:70 [ether] on eth0</div><div class="line">[root@ip-172-31-30-115 ec2-user]# telnet www.yahoo.com 80</div><div class="line">Trying 98.139.180.149...</div><div class="line">Connected to www.yahoo.com.</div><div class="line">Escape character is &apos;^]&apos;.</div><div class="line">GET / HTTP/1.1</div><div class="line">Host: www.yahoo.com</div><div class="line"></div><div class="line">HTTP/1.1 301 Redirect</div><div class="line">Date: Mon, 20 Mar 2017 01:42:51 GMT</div><div class="line">Via: https/1.1 ir4.fp.bf1.yahoo.com (ApacheTrafficServer)</div><div class="line">Server: ATS</div><div class="line">Location: https://www.yahoo.com/</div><div class="line">Content-Type: text/html</div><div class="line">Content-Language: en</div><div class="line">Cache-Control: no-store, no-cache</div><div class="line">Connection: keep-alive</div><div class="line">Content-Length: 304</div><div class="line"></div><div class="line">&lt;HTML&gt;</div><div class="line">&lt;HEAD&gt;</div><div class="line">&lt;TITLE&gt;Document Has Moved&lt;/TITLE&gt;</div><div class="line">&lt;/HEAD&gt;</div><div class="line"></div><div class="line">&lt;BODY BGCOLOR=&quot;white&quot; FGCOLOR=&quot;black&quot;&gt;</div><div class="line">&lt;H1&gt;Document Has Moved&lt;/H1&gt;</div><div class="line">&lt;HR&gt;</div><div class="line"></div><div class="line">&lt;FONT FACE=&quot;Helvetica,Arial&quot;&gt;&lt;B&gt;</div><div class="line">Description: The document you requested has moved to a new location.  The new location is &quot;https://www.yahoo.com/&quot;.</div><div class="line">&lt;/B&gt;&lt;/FONT&gt;</div><div class="line">&lt;HR&gt;</div><div class="line">&lt;/BODY&gt;</div><div class="line"></div><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en-us&quot;&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</div><div class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">    &lt;title&gt;Yahoo&lt;/title&gt;</div><div class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimal-ui&quot;&gt;</div><div class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt;</div><div class="line">    &lt;style&gt;</div><div class="line">      html &#123;</div><div class="line">          height: 100%;</div><div class="line">      &#125;</div><div class="line">      body &#123;</div><div class="line">          background: #fafafc url(https://s.yimg.com/nn/img/sad-panda-201402200631.png) 50% 50%;</div><div class="line">          background-size: cover;</div><div class="line">          height: 100%;</div><div class="line">          text-align: center;</div><div class="line">          font: 300 18px &quot;helvetica neue&quot;, helvetica, verdana, tahoma, arial, sans-serif;</div><div class="line">          margin: 0;</div><div class="line">      &#125;</div><div class="line">      table &#123;</div><div class="line">          height: 100%;</div><div class="line">          width: 100%;</div><div class="line">          table-layout: fixed;</div><div class="line">          border-collapse: collapse;</div><div class="line">          border-spacing: 0;</div><div class="line">          border: none;</div><div class="line">      &#125;</div><div class="line">      h1 &#123;</div><div class="line">          font-size: 42px;</div><div class="line">          font-weight: 400;</div><div class="line">          color: #400090;</div><div class="line">      &#125;</div><div class="line">      p &#123;</div><div class="line">          color: #1A1A1A;</div><div class="line">      &#125;</div><div class="line">      #message-1 &#123;</div><div class="line">          font-weight: bold;</div><div class="line">          margin: 0;</div><div class="line">      &#125;</div><div class="line">      #message-2 &#123;</div><div class="line">          display: inline-block;</div><div class="line">          *display: inline;</div><div class="line">          zoom: 1;</div><div class="line">          max-width: 17em;</div><div class="line">          _width: 17em;</div><div class="line">      &#125;</div><div class="line">      &lt;/style&gt;</div><div class="line">      &lt;script&gt;</div><div class="line">      &lt;/script&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">  &lt;!-- status code : 400 --&gt;</div><div class="line">  &lt;!-- Bad Request: - --&gt;</div><div class="line">  &lt;!-- host machine: ir4.fp.bf1.yahoo.com --&gt;</div><div class="line">  &lt;!-- timestamp: 1489974172.000 --&gt;</div><div class="line">  &lt;!-- url: /--&gt;</div><div class="line">  &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    function buildUrl(url, parameters)&#123;</div><div class="line">      var qs = [];</div><div class="line">      for(var key in parameters) &#123;</div><div class="line">        var value = parameters[key];</div><div class="line">        qs.push(encodeURIComponent(key) + &quot;=&quot; + encodeURIComponent(value));</div><div class="line">      &#125;</div><div class="line">      url = url + &quot;?&quot; + qs.join(&apos;&amp;&apos;);</div><div class="line">      return url;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    function addEvent( obj, type, fn ) &#123;</div><div class="line">      if ( obj.attachEvent ) &#123;</div><div class="line">        obj[&apos;e&apos;+type+fn] = fn;</div><div class="line">        obj[type+fn] = function()&#123;obj[&apos;e&apos;+type+fn]( window.event );&#125;</div><div class="line">        obj.attachEvent( &apos;on&apos;+type, obj[type+fn] );</div><div class="line">      &#125; else</div><div class="line">        obj.addEventListener( type, fn, false );</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    function generateBRBMarkup(site) &#123;</div><div class="line">      params.source = &apos;brb&apos;;</div><div class="line">      generateBeaconMarkup(params);</div><div class="line">      var englishHeader = &apos;Will be right back...&apos;;</div><div class="line">      var englishMessage1 = &apos;Thank you for your patience.&apos;;</div><div class="line">      var englishMessage2 = &apos;Our engineers are working quickly to resolve the issue.&apos;;</div><div class="line">      var defaultLogoStyle = &apos;&apos;;</div><div class="line">      var siteDataMap = &#123;</div><div class="line">        &apos;att.yahoo.com&apos;: &#123;</div><div class="line">          logo: &apos;https://s1.yimg.com/rz/d/att_en-US_f_p_bestfit_2x.png&apos;,</div><div class="line">          logoAlt: &apos;AT&amp;T&apos;,</div><div class="line">          logoStyle: defaultLogoStyle,</div><div class="line">          header: englishHeader,</div><div class="line">          message1: englishMessage1,</div><div class="line">          message2: englishMessage2</div><div class="line">        &#125;,</div><div class="line">        &apos;espanol.att.yahoo.com&apos;: &#123;</div><div class="line">          logo: &apos;https://s1.yimg.com/rz/d/att_es-US_f_p_bestfit_2x.png&apos;,</div><div class="line">          logoAlt: &apos;AT&amp;T En Vivo&apos;,</div><div class="line">          logoStyle: &apos;max-width:310px;&apos;,</div><div class="line">          header: &apos;Volvemos enseguida…&apos;,</div><div class="line">          message1: &apos;Gracias por tu paciencia.&apos;,</div><div class="line">          message2: &apos;Nuestros ingenieros están trabajando rápidamente para resolver el problema.&apos;</div><div class="line">        &#125;,</div><div class="line">        &apos;default&apos;: &#123;</div><div class="line">          logo: &apos;https://s.yimg.com/nn/img/yahoo-logo-201402200629.png&apos;,</div><div class="line">          logoAlt: &apos;Yahoo Logo&apos;,</div><div class="line">          logoStyle: defaultLogoStyle,</div><div class="line">          header: englishHeader,</div><div class="line">          message1: englishMessage1,</div><div class="line">          message2: englishMessage2</div><div class="line">        &#125;</div><div class="line">      &#125;;</div><div class="line"></div><div class="line">      var siteDetails = siteDataMap[&apos;default&apos;];</div><div class="line">      switch (site) &#123;</div><div class="line">        case &apos;espanol.att.yahoo.com&apos;:</div><div class="line">        case &apos;att.yahoo.com&apos;:</div><div class="line">          siteDetails = siteDataMap[site];</div><div class="line">          break;</div><div class="line">        default:</div><div class="line">          siteDetails = siteDataMap[&apos;default&apos;];</div><div class="line">          break;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      document.write(&apos;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&apos;);</div><div class="line">      document.write(&apos;&lt;div id=&quot;content&quot;&gt;&apos;);</div><div class="line">      document.write(&apos;&lt;img src=&quot;&apos; + siteDetails[&apos;logo&apos;] + &apos;&quot; alt=&quot;&apos; + siteDetails[&apos;logoAlt&apos;] + &apos;&quot; style=&quot;&apos; + siteDetails[&apos;logoStyle&apos;] + &apos;&quot;&gt;&apos;);</div><div class="line">      document.write(&apos;&lt;h1 style=&quot;margin-top:20px;&quot;&gt;&apos; + siteDetails[&apos;header&apos;] + &apos;&lt;/h1&gt;&apos;);</div><div class="line">      document.write(&apos;&lt;p id=&quot;message-1&quot;&gt;&apos; + siteDetails[&apos;message1&apos;] + &apos;&lt;/p&gt;&apos;);</div><div class="line">      document.write(&apos;&lt;p id=&quot;message-2&quot;&gt;&apos; + siteDetails[&apos;message2&apos;] + &apos;&lt;/p&gt;&apos;);</div><div class="line">      document.write(&apos;&lt;/div&gt;&apos;);</div><div class="line">      document.write(&apos;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&apos;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    function generateIframeMarkup(iframeUrl, params) &#123;</div><div class="line">      params.source = &apos;brbiframe&apos;;</div><div class="line">      generateBeaconMarkup(params);</div><div class="line">      document.write(&apos;&lt;iframe src=&quot;&apos; + iframeUrl + &apos;&quot; style=&quot;width:100%;height:100%;border:none;&quot; &gt;&apos;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    function generateBeaconMarkup(params) &#123;</div><div class="line">        document.write(&apos;&lt;img src=&quot;&apos; + buildUrl(&apos;//geo.yahoo.com/b&apos;, params) + &apos;&quot; style=&quot;display:none;&quot; width=&quot;0px&quot; height=&quot;0px&quot;/&gt;&apos;);</div><div class="line">        var beacon = new Image();</div><div class="line">        beacon.src = buildUrl(&apos;//bcn.fp.yahoo.com/p&apos;, params);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    var hostname = window.location.hostname;</div><div class="line">    var device = &apos;-&apos;;</div><div class="line">    var ynet = (&apos;-&apos; === &apos;1&apos;);</div><div class="line">    var brbHost = &apos;brb.yahoo.com&apos;;</div><div class="line">    var brbProto = &apos;https://&apos;;</div><div class="line">    var brbIframePath = &apos;/iframe.php&apos;;</div><div class="line">    var brbParams = &#123;</div><div class="line">      protocol: window.location.protocol,</div><div class="line">      host: hostname,</div><div class="line">      path: window.location.pathname,</div><div class="line">      device: device</div><div class="line">    &#125;;</div><div class="line">    var iframeUrl = buildUrl(brbProto + brbHost + brbIframePath, brbParams);</div><div class="line">    var iframeDisabled = !true;</div><div class="line">    var time = new Date().getTime();</div><div class="line">    var params = &#123;</div><div class="line">        s: &apos;1197757129&apos;,</div><div class="line">        t: time,</div><div class="line">        err_url: document.URL,</div><div class="line">        err: &apos;400&apos;,</div><div class="line">        test: &apos;-&apos;,</div><div class="line">        ats_host: &apos;ir4.fp.bf1.yahoo.com&apos;,</div><div class="line">        rid: &apos;-&apos;,</div><div class="line">        message: &apos;Bad Request: -&apos;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    if(ynet) &#123;</div><div class="line">        document.write(&apos;&lt;div style=&quot;height: 5px; background-color: red;&quot;&gt;&lt;/div&gt;&apos;);</div><div class="line">    &#125;</div><div class="line">    if (hostname.match(&apos;att.yahoo.com&apos;) || iframeDisabled) &#123;</div><div class="line">      generateBRBMarkup(hostname, params);</div><div class="line">    &#125; else &#123;</div><div class="line">      generateIframeMarkup(iframeUrl, params);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    addEvent(window, &quot;message&quot;, function(event) &#123;</div><div class="line">      if (event.origin !== (brbProto + brbHost)) &#123;</div><div class="line">        return;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      if (event &amp;&amp; event.data &amp;&amp; event.data.url) &#123;</div><div class="line">        window.location.replace(event.data.url);</div><div class="line">      &#125;</div><div class="line">    &#125;);</div><div class="line">  &lt;/script&gt;</div><div class="line">  &lt;noscript&gt;</div><div class="line">  &lt;table&gt;</div><div class="line">    &lt;tbody&gt;</div><div class="line">      &lt;tr&gt;</div><div class="line">        &lt;td&gt;</div><div class="line">          &lt;div id=&quot;englishContent&quot;&gt;</div><div class="line">            &lt;h1 style=&quot;margin-top:20px;&quot;&gt;Will be right back...&lt;/h1&gt;</div><div class="line">            &lt;p id=&quot;message-1&quot;&gt;Thank you for your patience.&lt;/p&gt;</div><div class="line">            &lt;p id=&quot;message-2&quot;&gt;Our engineers are working quickly to resolve the issue.&lt;/p&gt;</div><div class="line">          &lt;/div&gt;</div><div class="line">        &lt;/td&gt;</div><div class="line">      &lt;/tr&gt;</div><div class="line">    &lt;/tbody&gt;</div><div class="line">  &lt;/table&gt;</div><div class="line">  &lt;/noscript&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">Connection closed by foreign host.</div><div class="line">[root@ip-172-31-30-115 ec2-user]# kill %1</div><div class="line">[root@ip-172-31-30-115 ec2-user]# 26 packets captured</div><div class="line">26 packets received by filter</div><div class="line">0 packets dropped by kernel</div><div class="line"></div><div class="line">[1]+  Done                    tcpdump -w tcpdump.out port not 22</div></pre></td></tr></table></figure>
<h3 id="Track-down-the-packets-in-your-tcpdump-referring-to-the-DNS-query-from-your-DNS-server-to-one-of-the-root-servers-then-to-the-various-DNS-servers-before-the-DNS-information-is-returned-to-your-server-by-one-of-Yahoo’s-authoritative-DNS-servers"><a href="#Track-down-the-packets-in-your-tcpdump-referring-to-the-DNS-query-from-your-DNS-server-to-one-of-the-root-servers-then-to-the-various-DNS-servers-before-the-DNS-information-is-returned-to-your-server-by-one-of-Yahoo’s-authoritative-DNS-servers" class="headerlink" title="Track down the packets in your tcpdump referring to the DNS query from your DNS server to one of the root servers, then to the various DNS servers before the DNS information is returned to your server by one of Yahoo’s authoritative DNS servers."></a>Track down the packets in your tcpdump referring to the DNS query from your DNS server to one of the root servers, then to the various DNS servers before the DNS information is returned to your server by one of Yahoo’s authoritative DNS servers.</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 ec2-user]# tcpdump -t -n -r tcpdump.out udp port 53</div><div class="line">reading from file tcpdump.out, link-type EN10MB (Ethernet)</div><div class="line">IP 172.31.30.115.18721 &gt; 68.142.255.16.domain: 45641% [1au] A? www.yahoo.com. (42)</div><div class="line">IP 172.31.30.115.53735 &gt; 68.142.255.16.domain: 9034% [1au] AAAA? www.yahoo.com. (42)</div><div class="line">IP 68.142.255.16.domain &gt; 172.31.30.115.18721: 45641*- 1/4/3 CNAME fd-fp3.wg1.b.yahoo.com. (187)</div><div class="line">IP 68.142.255.16.domain &gt; 172.31.30.115.53735: 9034*- 1/4/3 CNAME fd-fp3.wg1.b.yahoo.com. (187)</div><div class="line">IP 172.31.30.115.17127 &gt; 68.180.130.15.domain: 64011% [1au] A? fd-fp3.wg1.b.yahoo.com. (51)</div><div class="line">IP 172.31.30.115.48161 &gt; 68.180.130.15.domain: 52861% [1au] AAAA? fd-fp3.wg1.b.yahoo.com. (51)</div><div class="line">IP 68.180.130.15.domain &gt; 172.31.30.115.17127: 64011*- 2/0/1 A 98.139.180.149, A 98.139.183.24 (83)</div><div class="line">IP 68.180.130.15.domain &gt; 172.31.30.115.48161: 52861*- 1/0/1 AAAA 2001:4998:58:c02::a9 (79)</div></pre></td></tr></table></figure>
<h3 id="Identify-the-3-way-handshake-that-initiates-the-connection-from-your-DNS-server-to-port-80-on-Yahoo’s-webserver-the-packets-that-are-being-sent-back-and-forth-and-finally-the-closing-of-the-connection"><a href="#Identify-the-3-way-handshake-that-initiates-the-connection-from-your-DNS-server-to-port-80-on-Yahoo’s-webserver-the-packets-that-are-being-sent-back-and-forth-and-finally-the-closing-of-the-connection" class="headerlink" title="Identify the 3-way handshake that initiates the connection from your DNS server to port 80 on Yahoo’s webserver, the packets that are being sent back and forth and finally the closing of the connection."></a>Identify the 3-way handshake that initiates the connection from your DNS server to port 80 on Yahoo’s webserver, the packets that are being sent back and forth and finally the closing of the connection.</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 ec2-user]# tcpdump -n -r tcpdump.out tcp port 80</div><div class="line">reading from file tcpdump.out, link-type EN10MB (Ethernet)</div><div class="line">21:42:35.282439 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [S], seq 854216136, win 26883, options [mss 8961,sackOK,TS val 97995307 ecr 0,nop,wscale 7], length 0</div><div class="line">21:42:35.299558 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [S.], seq 225539872, ack 854216137, win 8192, options [mss 1460,nop,nop,sackOK,nop,wscale 8], length 0</div><div class="line">21:42:35.299596 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [.], ack 1, win 211, length 0</div><div class="line">21:42:41.537040 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [P.], seq 1:17, ack 1, win 211, length 16</div><div class="line">21:42:41.555263 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [.], ack 17, win 58, length 0</div><div class="line">21:42:50.064128 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [P.], seq 17:38, ack 1, win 211, length 21</div><div class="line">21:42:50.082376 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [.], ack 38, win 58, length 0</div><div class="line">21:42:51.033280 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [P.], seq 38:40, ack 1, win 211, length 2</div><div class="line">21:42:51.051567 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [.], ack 40, win 58, length 0</div><div class="line">21:42:51.053313 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [P.], seq 1:600, ack 40, win 58, length 599</div><div class="line">21:42:51.053331 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [.], ack 600, win 220, length 0</div><div class="line">21:42:52.502208 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [P.], seq 40:42, ack 600, win 220, length 2</div><div class="line">21:42:52.521318 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [.], seq 600:3520, ack 42, win 58, length 2920</div><div class="line">21:42:52.521346 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [.], ack 3520, win 266, length 0</div><div class="line">21:42:52.539662 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [FP.], seq 3520:7066, ack 42, win 58, length 3546</div><div class="line">21:42:52.539691 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [.], ack 7067, win 321, length 0</div><div class="line">21:42:52.539912 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [F.], seq 42, ack 7067, win 321, length 0</div><div class="line">21:42:52.558114 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [.], ack 43, win 58, length 0</div></pre></td></tr></table></figure>
<p>This is the 3-way handshake that initiates the connection from your DNS server to port 80 on Yahoo’s webserver：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">21:42:35.282439 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [S], seq 854216136, win 26883, options [mss 8961,sackOK,TS val 97995307 ecr 0,nop,wscale 7], length 0</div><div class="line">21:42:35.299558 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [S.], seq 225539872, ack 854216137, win 8192, options [mss 1460,nop,nop,sackOK,nop,wscale 8], length 0</div><div class="line">21:42:35.299596 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [.], ack 1, win 211, length 0</div></pre></td></tr></table></figure></p>
<p>The packets that are being sent back :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">21:42:41.537040 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [P.], seq 1:17, ack 1, win 211, length 16</div><div class="line">21:42:41.555263 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [.], ack 17, win 58, length 0</div><div class="line">21:42:50.064128 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [P.], seq 17:38, ack 1, win 211, length 21</div><div class="line">21:42:50.082376 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [.], ack 38, win 58, length 0</div><div class="line">21:42:51.033280 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [P.], seq 38:40, ack 1, win 211, length 2</div><div class="line">21:42:51.051567 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [.], ack 40, win 58, length 0</div></pre></td></tr></table></figure></p>
<p>and forth:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">21:42:51.053313 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [P.], seq 1:600, ack 40, win 58, length 599</div><div class="line">21:42:51.053331 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [.], ack 600, win 220, length 0</div><div class="line">21:42:52.502208 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [P.], seq 40:42, ack 600, win 220, length 2</div><div class="line">21:42:52.521318 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [.], seq 600:3520, ack 42, win 58, length 2920</div><div class="line">21:42:52.521346 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [.], ack 3520, win 266, length 0</div></pre></td></tr></table></figure></p>
<p>and finally the closing of the connection:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">21:42:52.539662 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [FP.], seq 3520:7066, ack 42, win 58, length 3546</div><div class="line">21:42:52.539691 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [.], ack 7067, win 321, length 0</div><div class="line">21:42:52.539912 IP 172.31.30.115.54256 &gt; 98.139.180.149.http: Flags [F.], seq 42, ack 7067, win 321, length 0</div><div class="line">21:42:52.558114 IP 98.139.180.149.http &gt; 172.31.30.115.54256: Flags [.], ack 43, win 58, length 0</div></pre></td></tr></table></figure></p>
<h2 id="Second-scenarios"><a href="#Second-scenarios" class="headerlink" title="Second scenarios"></a>Second scenarios</h2><h3 id="Install-tcpdump-and-telnet-on-client-the-same-step-as-first-scenarios"><a href="#Install-tcpdump-and-telnet-on-client-the-same-step-as-first-scenarios" class="headerlink" title="Install tcpdump and telnet on client (the same step as first scenarios.)"></a>Install tcpdump and telnet on client (the same step as first scenarios.)</h3><h3 id="Set-tcpdump-to-listen"><a href="#Set-tcpdump-to-listen" class="headerlink" title="Set tcpdump to listen"></a>Set tcpdump to listen</h3><p>On server:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 ~]# tcpdump -w tcpdump.out port not 22 &amp;</div><div class="line">[1] 19713</div><div class="line">[root@ip-172-31-30-115 ~]# tcpdump: listening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes</div><div class="line">arp -d -a</div><div class="line">gateway (172.31.16.1) at 0e:8a:cb:2d:0b:70 [ether] on eth0</div></pre></td></tr></table></figure></p>
<p>On client:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-23-114 ~]# tcpdump -w tcpdump.out port not 22 &amp;</div><div class="line">[1] 18272</div><div class="line">[root@ip-172-31-23-114 ~]# tcpdump: listening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes</div><div class="line">arp -d -a</div><div class="line">gateway (172.31.16.1) at 0e:8a:cb:2d:0b:70 [ether] on eth0</div></pre></td></tr></table></figure></p>
<h3 id="Run-telnet"><a href="#Run-telnet" class="headerlink" title="Run telnet"></a>Run telnet</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-23-114 ~]# telnet www.tumblr.com 80</div><div class="line">Trying 69.147.82.57...</div><div class="line">Connected to www.tumblr.com.</div><div class="line">Escape character is &apos;^]&apos;.</div><div class="line">GET / HTTP/1.0</div><div class="line"></div><div class="line">HTTP/1.0 400 Host Header Required</div><div class="line">Date: Sun, 19 Mar 2017 23:38:52 GMT</div><div class="line">Via: http/1.1 e4.ycpi.nya.yahoo.com (ApacheTrafficServer [c s f ])</div><div class="line">Server: ATS</div><div class="line">Cache-Control: no-store</div><div class="line">Content-Type: text/html</div><div class="line">Content-Language: en</div><div class="line">Content-Length: 2810</div><div class="line"></div><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en-us&quot;&gt;&lt;head&gt;</div><div class="line">&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</div><div class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">    &lt;title&gt;Yahoo&lt;/title&gt;</div><div class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimal-ui&quot;&gt;</div><div class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt;</div><div class="line">    &lt;style&gt;</div><div class="line">html &#123;</div><div class="line">    height: 100%;</div><div class="line">&#125;</div><div class="line">body &#123;</div><div class="line">    background: #fafafc url(https://s.yimg.com/nn/img/sad-panda-201402200631.png) 50% 50%;</div><div class="line">    background-size: cover;</div><div class="line">    height: 100%;</div><div class="line">    text-align: center;</div><div class="line">    font: 300 18px &quot;helvetica neue&quot;, helvetica, verdana, tahoma, arial, sans-serif;</div><div class="line">&#125;</div><div class="line">table &#123;</div><div class="line">    height: 100%;</div><div class="line">    width: 100%;</div><div class="line">    table-layout: fixed;</div><div class="line">    border-collapse: collapse;</div><div class="line">    border-spacing: 0;</div><div class="line">    border: none;</div><div class="line">&#125;</div><div class="line">h1 &#123;</div><div class="line">    font-size: 42px;</div><div class="line">    font-weight: 400;</div><div class="line">    color: #400090;</div><div class="line">&#125;</div><div class="line">p &#123;</div><div class="line">    color: #1A1A1A;</div><div class="line">&#125;</div><div class="line">#message-1 &#123;</div><div class="line">    font-weight: bold;</div><div class="line">    margin: 0;</div><div class="line">&#125;</div><div class="line">#message-2 &#123;</div><div class="line">    display: inline-block;</div><div class="line">    *display: inline;</div><div class="line">    zoom: 1;</div><div class="line">    max-width: 17em;</div><div class="line">    _width: 17em;</div><div class="line">&#125;</div><div class="line">#spanishContent &#123;</div><div class="line">    display: none;</div><div class="line">&#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  document.write(&apos;&lt;img src=&quot;//geo.yahoo.com/b?s=1197757129&amp;t=&apos;+new Date().getTime()+&apos;&amp;err_url=&apos;+encodeURIComponent(document.URL)+&apos;&amp;err=400&amp;test=&apos;+encodeURIComponent(&apos;-&apos;)+&apos;&quot; width=&quot;0px&quot; height=&quot;0px&quot;/&gt;&apos;);</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;!-- status code : 400 --&gt;</div><div class="line">&lt;!-- Host Header Required --&gt;</div><div class="line">&lt;!-- host machine: e4.ycpi.nya.yahoo.com --&gt;</div><div class="line">&lt;!-- timestamp: 1489966732.000 --&gt;</div><div class="line">&lt;!-- url: http:///--&gt;</div><div class="line">&lt;table&gt;</div><div class="line">&lt;tbody&gt;&lt;tr&gt;</div><div class="line">    &lt;td&gt;</div><div class="line">    &lt;div id=&quot;englishContent&quot;&gt;</div><div class="line">        &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">        if (window.location.hostname==&apos;att.yahoo.com&apos;)&#123;</div><div class="line">            document.write(&apos;&lt;img src=&quot;https://s1.yimg.com/rz/d/att_en-US_f_p_bestfit_2x.png&quot; alt=&quot;AT&amp;T&quot;&gt;&apos;);</div><div class="line">        &#125;else&#123;</div><div class="line">            document.write(&apos;&lt;img src=&quot;https://s.yimg.com/nn/img/yahoo-logo-201402200629.png&quot; alt=&quot;Yahoo Logo&quot;&gt;&apos;);</div><div class="line">        &#125;    </div><div class="line">        &lt;/script&gt; </div><div class="line">        &lt;h1 style=&quot;margin-top:20px;&quot;&gt;Will be right back...&lt;/h1&gt;</div><div class="line">        &lt;p id=&quot;message-1&quot;&gt;Thank you for your patience.&lt;/p&gt;</div><div class="line">        &lt;p id=&quot;message-2&quot;&gt;Our engineers are working quickly to resolve the issue.&lt;/p&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;div id=&quot;spanishContent&quot;&gt; </div><div class="line">        &lt;img src=&quot;https://s1.yimg.com/rz/d/att_es-US_f_p_bestfit_2x.png&quot; alt=&quot;AT&amp;T En Vivo&quot; style=&quot;max-width:310px&quot;&gt;</div><div class="line">        &lt;h1 style=&quot;margin-top:20px;&quot;&gt;Volvemos enseguida…&lt;/h1&gt;</div><div class="line">        &lt;p id=&quot;message-1&quot;&gt;Gracias por tu paciencia.&lt;/p&gt;</div><div class="line">        &lt;p id=&quot;message-2&quot;&gt;Nuestros ingenieros están trabajando rápidamente para resolver el problema.&lt;/p&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    if (window.location.hostname==&apos;espanol.att.yahoo.com&apos;)&#123;</div><div class="line">        document.getElementById(&apos;englishContent&apos;).style.display = &apos;none&apos;;</div><div class="line">        document.getElementById(&apos;spanishContent&apos;).style.display = &apos;block&apos;;</div><div class="line">    &#125;   </div><div class="line">    &lt;/script&gt;</div><div class="line">    &lt;/td&gt;</div><div class="line">&lt;/tr&gt;</div><div class="line">&lt;/tbody&gt;&lt;/table&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;/body&gt;&lt;/html&gt;</div><div class="line">Connection closed by foreign host.</div><div class="line">[root@ip-172-31-23-114 ~]# kill %1</div><div class="line">[root@ip-172-31-23-114 ~]# 33 packets captured</div><div class="line">33 packets received by filter</div><div class="line">0 packets dropped by kernel</div><div class="line"></div><div class="line">[1]+  Done                    tcpdump -w tcpdump.out port not 22</div></pre></td></tr></table></figure>
<h3 id="Track-down-the-packets-in-tcpdump-referring-to-the-DNS-query-from-your-client-host-to-DNS-server"><a href="#Track-down-the-packets-in-tcpdump-referring-to-the-DNS-query-from-your-client-host-to-DNS-server" class="headerlink" title="Track down the packets in tcpdump referring to the DNS query from your client host to DNS server."></a>Track down the packets in tcpdump referring to the DNS query from your client host to DNS server.</h3><p>On client:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-23-114 ~]# tcpdump -t -n -r tcpdump.out udp port 53</div><div class="line">reading from file tcpdump.out, link-type EN10MB (Ethernet)</div><div class="line">IP 172.31.23.114.50439 &gt; 54.91.19.43.domain: 57805+ PTR? 1.16.31.172.in-addr.arpa. (42)</div><div class="line">IP 54.91.19.43.domain &gt; 172.31.23.114.50439: 57805 NXDomain* 0/1/0 (77)</div><div class="line">IP 172.31.23.114.60063 &gt; 54.91.19.43.domain: 42152+ PTR? 218.24.13.126.in-addr.arpa. (44)</div><div class="line">IP 54.91.19.43.domain &gt; 172.31.23.114.60063: 42152 1/2/0 PTR softbank126013024218.bbtec.net. (128)</div><div class="line">IP 172.31.23.114.48371 &gt; 54.91.19.43.domain: 58570+ A? softbank126013024218.bbtec.net. (48)</div><div class="line">IP 54.91.19.43.domain &gt; 172.31.23.114.48371: 58570 1/2/2 A 126.13.24.218 (136)</div><div class="line">IP 172.31.23.114.40529 &gt; 54.91.19.43.domain: 30948+ A? softbank126013024218.bbtec.net. (48)</div><div class="line">IP 172.31.23.114.40529 &gt; 54.91.19.43.domain: 36622+ AAAA? softbank126013024218.bbtec.net. (48)</div><div class="line">IP 54.91.19.43.domain &gt; 172.31.23.114.40529: 30948 1/2/2 A 126.13.24.218 (136)</div><div class="line">IP 54.91.19.43.domain &gt; 172.31.23.114.40529: 36622 0/1/0 (94)</div><div class="line">IP 172.31.23.114.32918 &gt; 54.91.19.43.domain: 35896+ A? www.tumblr.com. (32)</div><div class="line">IP 172.31.23.114.32918 &gt; 54.91.19.43.domain: 2913+ AAAA? www.tumblr.com. (32)</div><div class="line">IP 54.91.19.43.domain &gt; 172.31.23.114.32918: 35896 5/4/2 CNAME e2p-v4.gycs.b.yahoodns.net., A 69.147.82.57, A 69.147.92.13, A 69.147.82.56, A 69.147.92.14 (257)</div><div class="line">IP 54.91.19.43.domain &gt; 172.31.23.114.32918: 2913 1/1/0 CNAME e2p-v4.gycs.b.yahoodns.net. (139)</div></pre></td></tr></table></figure></p>
<h3 id="Track-down-the-packets-in-your-tcpdump-referring-to-the-DNS-query-from-your-DNS-server-to-one-of-the-root-servers-then-to-the-various-DNS-servers-before-the-DNS-information-is-returned-to-your-server-by-one-of-Tumblr’s-authoritative-DNS-servers"><a href="#Track-down-the-packets-in-your-tcpdump-referring-to-the-DNS-query-from-your-DNS-server-to-one-of-the-root-servers-then-to-the-various-DNS-servers-before-the-DNS-information-is-returned-to-your-server-by-one-of-Tumblr’s-authoritative-DNS-servers" class="headerlink" title="Track down the packets in your tcpdump referring to the DNS query from your DNS server to one of the root servers, then to the various DNS servers before the DNS information is returned to your server by one of Tumblr’s authoritative DNS servers."></a>Track down the packets in your tcpdump referring to the DNS query from your DNS server to one of the root servers, then to the various DNS servers before the DNS information is returned to your server by one of Tumblr’s authoritative DNS servers.</h3><p>On server:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 ~]# kill %1</div><div class="line">[root@ip-172-31-30-115 ~]# 124 packets captured</div><div class="line">124 packets received by filter</div><div class="line">0 packets dropped by kernel</div><div class="line"></div><div class="line">[1]+  Done                    tcpdump -w tcpdump.out port not 22</div><div class="line">[root@ip-172-31-30-115 ~]# tcpdump -t -n -r tcpdump.out udp port 53</div><div class="line">reading from file tcpdump.out, link-type EN10MB (Ethernet)</div><div class="line">IP 54.242.90.155.50439 &gt; 172.31.30.115.domain: 57805+ PTR? 1.16.31.172.in-addr.arpa. (42)</div><div class="line">IP 172.31.30.115.domain &gt; 54.242.90.155.50439: 57805 NXDomain* 0/1/0 (77)</div><div class="line">IP 54.242.90.155.60063 &gt; 172.31.30.115.domain: 42152+ PTR? 218.24.13.126.in-addr.arpa. (44)</div><div class="line">IP 172.31.30.115.12672 &gt; 193.0.9.1.domain: 25355% [1au] PTR? 218.24.13.126.in-addr.arpa. (55)</div><div class="line">IP 193.0.9.1.domain &gt; 172.31.30.115.12672: 25355- 0/7/1 (377)</div><div class="line">IP 172.31.30.115.9590 &gt; 202.12.28.131.domain: 893% [1au] PTR? 218.24.13.126.in-addr.arpa. (55)</div><div class="line">IP 172.31.30.115.16018 &gt; 192.12.94.30.domain: 4896% [1au] A? ns001.bbtec.net. (44)</div><div class="line">IP 172.31.30.115.28464 &gt; 192.12.94.30.domain: 35378% [1au] AAAA? ns001.bbtec.net. (44)</div><div class="line">IP 172.31.30.115.39371 &gt; 192.12.94.30.domain: 28698% [1au] A? ns002.bbtec.net. (44)</div><div class="line">IP 172.31.30.115.64953 &gt; 192.12.94.30.domain: 61674% [1au] AAAA? ns002.bbtec.net. (44)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.16018: 4896- 0/6/3 (601)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.28464: 35378- 0/6/3 (601)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.39371: 28698- 0/6/3 (601)</div><div class="line">IP 172.31.30.115.64318 &gt; 218.176.253.105.domain: 44419% [1au] A? ns001.bbtec.net. (44)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.64953: 61674- 0/6/3 (601)</div><div class="line">IP 172.31.30.115.64670 &gt; 218.176.253.105.domain: 43269% [1au] AAAA? ns001.bbtec.net. (44)</div><div class="line">IP 172.31.30.115.15986 &gt; 218.176.253.105.domain: 49175% [1au] A? ns002.bbtec.net. (44)</div><div class="line">IP 172.31.30.115.12481 &gt; 218.176.253.105.domain: 30143% [1au] AAAA? ns002.bbtec.net. (44)</div><div class="line">IP 202.12.28.131.domain &gt; 172.31.30.115.9590: 893- 0/2/1 (104)</div><div class="line">IP 218.176.253.105.domain &gt; 172.31.30.115.64670: 43269*- 0/1/1 (90)</div><div class="line">IP 218.176.253.105.domain &gt; 172.31.30.115.12481: 30143*- 0/1/1 (90)</div><div class="line">IP 218.176.253.105.domain &gt; 172.31.30.115.15986: 49175*- 1/2/3 A 218.176.253.104 (132)</div><div class="line">IP 172.31.30.115.12796 &gt; 218.176.253.104.domain: 1893% [1au] PTR? 218.24.13.126.in-addr.arpa. (55)</div><div class="line">IP 218.176.253.105.domain &gt; 172.31.30.115.64318: 44419*- 1/2/3 A 218.176.253.72 (132)</div><div class="line">IP 218.176.253.104.domain &gt; 172.31.30.115.12796: 1893*- 1/2/1 PTR softbank126013024218.bbtec.net. (139)</div><div class="line">IP 172.31.30.115.15402 &gt; 200.10.60.53.domain: 35634% [1au] DS? 126.in-addr.arpa. (45)</div><div class="line">IP 200.10.60.53.domain &gt; 172.31.30.115.15402: 35634*- 0/4/1 (501)</div><div class="line">IP 172.31.30.115.29985 &gt; 199.212.0.73.domain: 54806% [1au] DNSKEY? in-addr.arpa. (41)</div><div class="line">IP 199.212.0.73.domain &gt; 172.31.30.115.29985: 54806*- 5/0/1 DNSKEY, DNSKEY, DNSKEY, RRSIG, RRSIG (1344)</div><div class="line">IP 172.31.30.115.domain &gt; 54.242.90.155.60063: 42152 1/2/0 PTR softbank126013024218.bbtec.net. (128)</div><div class="line">IP 54.242.90.155.48371 &gt; 172.31.30.115.domain: 58570+ A? softbank126013024218.bbtec.net. (48)</div><div class="line">IP 172.31.30.115.23886 &gt; 218.176.253.73.domain: 64646% [1au] A? softbank126013024218.bbtec.net. (59)</div><div class="line">IP 218.176.253.73.domain &gt; 172.31.30.115.23886: 64646*- 1/2/3 A 126.13.24.218 (147)</div><div class="line">IP 172.31.30.115.28358 &gt; 192.54.112.30.domain: 41306% [1au] DS? bbtec.net. (38)</div><div class="line">IP 192.54.112.30.domain &gt; 172.31.30.115.28358: 41306*- 0/6/1 (759)</div><div class="line">IP 172.31.30.115.domain &gt; 54.242.90.155.48371: 58570 1/2/2 A 126.13.24.218 (136)</div><div class="line">IP 54.242.90.155.40529 &gt; 172.31.30.115.domain: 30948+ A? softbank126013024218.bbtec.net. (48)</div><div class="line">IP 54.242.90.155.40529 &gt; 172.31.30.115.domain: 36622+ AAAA? softbank126013024218.bbtec.net. (48)</div><div class="line">IP 172.31.30.115.domain &gt; 54.242.90.155.40529: 30948 1/2/2 A 126.13.24.218 (136)</div><div class="line">IP 172.31.30.115.61458 &gt; 218.176.253.73.domain: 11958% [1au] AAAA? softbank126013024218.bbtec.net. (59)</div><div class="line">IP 218.176.253.73.domain &gt; 172.31.30.115.61458: 11958*- 0/1/1 (105)</div><div class="line">IP 172.31.30.115.domain &gt; 54.242.90.155.40529: 36622 0/1/0 (94)</div><div class="line">IP 54.242.90.155.32918 &gt; 172.31.30.115.domain: 35896+ A? www.tumblr.com. (32)</div><div class="line">IP 54.242.90.155.32918 &gt; 172.31.30.115.domain: 2913+ AAAA? www.tumblr.com. (32)</div><div class="line">IP 172.31.30.115.50312 &gt; 192.5.6.30.domain: 15102% [1au] A? www.tumblr.com. (43)</div><div class="line">IP 172.31.30.115.55078 &gt; 192.5.6.30.domain: 24281% [1au] AAAA? www.tumblr.com. (43)</div><div class="line">IP 192.5.6.30.domain &gt; 172.31.30.115.50312: 15102- 0/14/15 (1000)</div><div class="line">IP 192.5.6.30.domain &gt; 172.31.30.115.55078: 24281- 0/14/15 (1000)</div><div class="line">IP 172.31.30.115.54183 &gt; 68.142.255.16.domain: 27760% [1au] A? www.tumblr.com. (43)</div><div class="line">IP 172.31.30.115.42766 &gt; 68.142.255.16.domain: 50340% [1au] AAAA? www.tumblr.com. (43)</div><div class="line">IP 172.31.30.115.20720 &gt; 192.12.94.30.domain: 56843% [1au] A? ns1.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.31015 &gt; 192.12.94.30.domain: 59860% [1au] AAAA? ns1.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.44619 &gt; 192.12.94.30.domain: 48475% [1au] A? ns2.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.29788 &gt; 192.12.94.30.domain: 9652% [1au] AAAA? ns2.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.57147 &gt; 192.12.94.30.domain: 62071% [1au] A? ns3.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.28255 &gt; 192.12.94.30.domain: 63541% [1au] AAAA? ns3.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.8489 &gt; 192.12.94.30.domain: 48551% [1au] A? ns4.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.55613 &gt; 192.12.94.30.domain: 31935% [1au] AAAA? ns4.p03.dynect.net. (47)</div><div class="line">IP 68.142.255.16.domain &gt; 172.31.30.115.54183: 27760*- 1/4/3 CNAME e2p-v4.gycs.b.yahoodns.net. (204)</div><div class="line">IP 68.142.255.16.domain &gt; 172.31.30.115.42766: 50340*- 1/4/3 CNAME e2p-v4.gycs.b.yahoodns.net. (204)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.20720: 56843- 0/11/13 (933)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.31015: 59860- 0/11/13 (933)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.44619: 48475- 0/11/13 (933)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.29788: 9652- 0/11/13 (933)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.57147: 62071- 0/11/13 (933)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.28255: 63541- 0/11/13 (933)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.8489: 48551- 0/11/13 (933)</div><div class="line">IP 192.12.94.30.domain &gt; 172.31.30.115.55613: 31935- 0/11/13 (933)</div><div class="line">IP 172.31.30.115.59179 &gt; 204.13.250.136.domain: 32061% [1au] A? ns2.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.10967 &gt; 204.13.250.136.domain: 15199% [1au] AAAA? ns2.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.12591 &gt; 204.13.250.136.domain: 46251% [1au] A? ns3.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.23689 &gt; 204.13.250.136.domain: 49237% [1au] AAAA? ns3.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.20181 &gt; 204.13.250.136.domain: 23229% [1au] A? ns4.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.56792 &gt; 204.13.250.136.domain: 59367% [1au] AAAA? ns4.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.29332 &gt; 192.33.14.30.domain: 41065% [1au] DS? tumblr.com. (39)</div><div class="line">IP 172.31.30.115.60180 &gt; 204.13.250.136.domain: 12063% [1au] A? ns1.p03.dynect.net. (47)</div><div class="line">IP 172.31.30.115.59836 &gt; 204.13.250.136.domain: 47624% [1au] AAAA? ns1.p03.dynect.net. (47)</div><div class="line">IP 204.13.250.136.domain &gt; 172.31.30.115.12591: 46251*- 1/7/1 A 208.78.71.3 (212)</div><div class="line">IP 204.13.250.136.domain &gt; 172.31.30.115.10967: 15199*- 0/1/1 (131)</div><div class="line">IP 204.13.250.136.domain &gt; 172.31.30.115.59179: 32061*- 1/7/1 A 204.13.250.3 (212)</div><div class="line">IP 204.13.250.136.domain &gt; 172.31.30.115.59836: 47624*- 1/7/1 AAAA 2001:500:90:1::3 (224)</div><div class="line">IP 204.13.250.136.domain &gt; 172.31.30.115.56792: 59367*- 0/1/1 (131)</div><div class="line">IP 204.13.250.136.domain &gt; 172.31.30.115.20181: 23229*- 1/7/1 A 204.13.251.3 (212)</div><div class="line">IP 204.13.250.136.domain &gt; 172.31.30.115.23689: 49237*- 1/7/1 AAAA 2001:500:94:1::3 (224)</div><div class="line">IP 204.13.250.136.domain &gt; 172.31.30.115.60180: 12063*- 1/7/1 A 208.78.70.3 (212)</div><div class="line">IP 192.33.14.30.domain &gt; 172.31.30.115.29332: 41065*- 0/6/1 (760)</div><div class="line">IP 172.31.30.115.45512 &gt; 192.35.51.30.domain: 2908% [1au] AAAA? e2p-v4.gycs.b.yahoodns.net. (55)</div><div class="line">IP 172.31.30.115.48965 &gt; 192.35.51.30.domain: 16552% [1au] A? e2p-v4.gycs.b.yahoodns.net. (55)</div><div class="line">IP 192.35.51.30.domain &gt; 172.31.30.115.45512: 2908- 0/9/9 (803)</div><div class="line">IP 192.35.51.30.domain &gt; 172.31.30.115.48965: 16552- 0/9/9 (803)</div><div class="line">IP 172.31.30.115.20105 &gt; 68.142.255.16.domain: 16315% [1au] AAAA? e2p-v4.gycs.b.yahoodns.net. (55)</div><div class="line">IP 172.31.30.115.29503 &gt; 68.142.255.16.domain: 50107% [1au] A? e2p-v4.gycs.b.yahoodns.net. (55)</div><div class="line">IP 68.142.255.16.domain &gt; 172.31.30.115.20105: 16315- 0/4/3 (179)</div><div class="line">IP 68.142.255.16.domain &gt; 172.31.30.115.29503: 50107- 0/4/3 (179)</div><div class="line">IP 172.31.30.115.44871 &gt; 68.180.130.15.domain: 45208% [1au] AAAA? e2p-v4.gycs.b.yahoodns.net. (55)</div><div class="line">IP 172.31.30.115.11781 &gt; 68.180.130.15.domain: 48190% [1au] A? e2p-v4.gycs.b.yahoodns.net. (55)</div><div class="line">IP 68.180.130.15.domain &gt; 172.31.30.115.44871: 45208*- 0/1/1 (125)</div><div class="line">IP 68.180.130.15.domain &gt; 172.31.30.115.11781: 48190*- 4/0/1 A 69.147.92.14, A 69.147.82.57, A 69.147.82.56, A 69.147.92.13 (119)</div><div class="line">IP 172.31.30.115.59783 &gt; 192.35.51.30.domain: 13560% [1au] DS? yahoodns.net. (41)</div><div class="line">IP 192.35.51.30.domain &gt; 172.31.30.115.59783: 13560*- 0/6/1 (762)</div><div class="line">IP 172.31.30.115.domain &gt; 54.242.90.155.32918: 35896 5/4/2 CNAME e2p-v4.gycs.b.yahoodns.net., A 69.147.82.57, A 69.147.92.13, A 69.147.82.56, A 69.147.92.14 (257)</div><div class="line">IP 172.31.30.115.domain &gt; 54.242.90.155.32918: 2913 1/1/0 CNAME e2p-v4.gycs.b.yahoodns.net. (139)</div></pre></td></tr></table></figure>
<p>I found before the ‘telnet’ running in the client, my client sent some PTR requests for ‘1.16.31.172.in-addr.arpa’ and ‘218.24.13.126.in-addr.arpa’. The former looks loke the AWS internal IP address(private address).And my client also ask address for ‘softbank126013024218.bbtec.net’. These behaviors make me feel puzzled.<br>My client sent request to server for ‘www.tumblr.com’. Then server will search its CNAME and ip address, and return the result to my client.</p>
<h2 id="Third-scenarios"><a href="#Third-scenarios" class="headerlink" title="Third scenarios"></a>Third scenarios</h2><p>For example, I perform a reverse host look up for ‘104.244.42.193’ which not yet in my DNS server’s cache.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 t]# tcpdump -w tcpdump.out port not 22 &amp;</div><div class="line">[1] 19863</div><div class="line">[root@ip-172-31-30-115 t]# tcpdump: listening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes</div><div class="line">arp -d -a</div><div class="line">gateway (172.31.16.1) at 0e:8a:cb:2d:0b:70 [ether] on eth0</div><div class="line">[root@ip-172-31-30-115 t]# dig -x 104.244.42.193</div><div class="line"></div><div class="line">; &lt;&lt;&gt;&gt; DiG 9.9.4-RedHat-9.9.4-38.el7_3.2 &lt;&lt;&gt;&gt; -x 104.244.42.193</div><div class="line">;; global options: +cmd</div><div class="line">;; Got answer:</div><div class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: SERVFAIL, id: 14873</div><div class="line">;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 0, ADDITIONAL: 1</div><div class="line"></div><div class="line">;; OPT PSEUDOSECTION:</div><div class="line">; EDNS: version: 0, flags:; udp: 4096</div><div class="line">;; QUESTION SECTION:</div><div class="line">;193.42.244.104.in-addr.arpa.	IN	PTR</div><div class="line"></div><div class="line">;; Query time: 20 msec</div><div class="line">;; SERVER: 127.0.0.1#53(127.0.0.1)</div><div class="line">;; WHEN: Sun Mar 19 20:45:42 EDT 2017</div><div class="line">;; MSG SIZE  rcvd: 56</div><div class="line"></div><div class="line">[root@ip-172-31-30-115 t]# kill %1</div><div class="line">[root@ip-172-31-30-115 t]# 30 packets captured</div><div class="line">30 packets received by filter</div><div class="line">0 packets dropped by kernel</div><div class="line"></div><div class="line">[1]+  Done                    tcpdump -w tcpdump.out port not 22</div></pre></td></tr></table></figure>
<p>Result:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 t]# tcpdump -t -n -r tcpdump.out udp port 53</div><div class="line">reading from file tcpdump.out, link-type EN10MB (Ethernet)</div><div class="line">IP 172.31.30.115.13797 &gt; 199.253.183.183.domain: 18802% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP 199.253.183.183.domain &gt; 172.31.30.115.13797: 18802- 0/8/1 (387)</div><div class="line">IP 172.31.30.115.10452 &gt; 199.180.180.63.domain: 62185% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP 199.180.180.63.domain &gt; 172.31.30.115.10452: 62185- 0/6/1 (363)</div><div class="line">IP 172.31.30.115.44763 &gt; 162.88.61.21.domain: 55611% [1au] A? ns1.p34.dynect.net. (47)</div><div class="line">IP 172.31.30.115.36069 &gt; 162.88.61.21.domain: 34433% [1au] AAAA? ns1.p34.dynect.net. (47)</div><div class="line">IP 172.31.30.115.atmtcp &gt; 162.88.61.21.domain: 27190% [1au] A? ns2.p34.dynect.net. (47)</div><div class="line">IP 172.31.30.115.56824 &gt; 162.88.61.21.domain: 1127% [1au] AAAA? ns2.p34.dynect.net. (47)</div><div class="line">IP 172.31.30.115.44520 &gt; 162.88.61.21.domain: 22087% [1au] A? ns3.p34.dynect.net. (47)</div><div class="line">IP 172.31.30.115.9172 &gt; 162.88.61.21.domain: 9046% [1au] AAAA? ns3.p34.dynect.net. (47)</div><div class="line">IP 172.31.30.115.8847 &gt; 162.88.61.21.domain: 31946% [1au] A? ns4.p34.dynect.net. (47)</div><div class="line">IP 172.31.30.115.16122 &gt; 162.88.61.21.domain: 60963% [1au] AAAA? ns4.p34.dynect.net. (47)</div><div class="line">IP 162.88.61.21.domain &gt; 172.31.30.115.atmtcp: 27190*- 1/0/1 A 204.13.250.34 (63)</div><div class="line">IP 162.88.61.21.domain &gt; 172.31.30.115.56824: 1127*- 0/1/1 (131)</div><div class="line">IP 162.88.61.21.domain &gt; 172.31.30.115.44520: 22087*- 1/0/1 A 208.78.71.34 (63)</div><div class="line">IP 162.88.61.21.domain &gt; 172.31.30.115.9172: 9046*- 1/0/1 AAAA 2001:500:94:1::34 (75)</div><div class="line">IP 172.31.30.115.30710 &gt; 204.13.250.34.domain: 35918% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP 162.88.61.21.domain &gt; 172.31.30.115.44763: 55611*- 1/0/1 A 208.78.70.34 (63)</div><div class="line">IP 162.88.61.21.domain &gt; 172.31.30.115.16122: 60963*- 0/1/1 (131)</div><div class="line">IP 162.88.61.21.domain &gt; 172.31.30.115.36069: 34433*- 1/0/1 AAAA 2001:500:90:1::34 (75)</div><div class="line">IP 162.88.61.21.domain &gt; 172.31.30.115.8847: 31946*- 1/0/1 A 204.13.251.34 (63)</div><div class="line">IP 204.13.250.34.domain &gt; 172.31.30.115.30710: 35918 Refused- 0/0/1 (56)</div><div class="line">IP 172.31.30.115.38732 &gt; 208.78.71.34.domain: 17860% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP 208.78.71.34.domain &gt; 172.31.30.115.38732: 17860 Refused- 0/0/1 (56)</div><div class="line">IP 172.31.30.115.31531 &gt; 204.13.251.34.domain: 16321% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP 204.13.251.34.domain &gt; 172.31.30.115.31531: 16321 Refused- 0/0/1 (56)</div><div class="line">IP 172.31.30.115.53208 &gt; 208.78.70.34.domain: 33024% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP 208.78.70.34.domain &gt; 172.31.30.115.53208: 33024 Refused- 0/0/1 (56)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">[root@ip-172-31-30-115 t]# tcpdump -t  -r tcpdump.out udp port 53</div><div class="line">reading from file tcpdump.out, link-type EN10MB (Ethernet)</div><div class="line">IP ip-172-31-30-115.ec2.internal.13797 &gt; b.in-addr-servers.arpa.domain: 18802% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP b.in-addr-servers.arpa.domain &gt; ip-172-31-30-115.ec2.internal.13797: 18802- 0/8/1 (387)</div><div class="line">IP ip-172-31-30-115.ec2.internal.10452 &gt; r.arin.net.domain: 62185% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP r.arin.net.domain &gt; ip-172-31-30-115.ec2.internal.10452: 62185- 0/6/1 (363)</div><div class="line">IP ip-172-31-30-115.ec2.internal.44763 &gt; ns6.dynamicnetworkservices.net.domain: 55611% [1au] A? ns1.p34.dynect.net. (47)</div><div class="line">IP ip-172-31-30-115.ec2.internal.36069 &gt; ns6.dynamicnetworkservices.net.domain: 34433% [1au] AAAA? ns1.p34.dynect.net. (47)</div><div class="line">IP ip-172-31-30-115.ec2.internal.atmtcp &gt; ns6.dynamicnetworkservices.net.domain: 27190% [1au] A? ns2.p34.dynect.net. (47)</div><div class="line">IP ip-172-31-30-115.ec2.internal.56824 &gt; ns6.dynamicnetworkservices.net.domain: 1127% [1au] AAAA? ns2.p34.dynect.net. (47)</div><div class="line">IP ip-172-31-30-115.ec2.internal.44520 &gt; ns6.dynamicnetworkservices.net.domain: 22087% [1au] A? ns3.p34.dynect.net. (47)</div><div class="line">IP ip-172-31-30-115.ec2.internal.9172 &gt; ns6.dynamicnetworkservices.net.domain: 9046% [1au] AAAA? ns3.p34.dynect.net. (47)</div><div class="line">IP ip-172-31-30-115.ec2.internal.8847 &gt; ns6.dynamicnetworkservices.net.domain: 31946% [1au] A? ns4.p34.dynect.net. (47)</div><div class="line">IP ip-172-31-30-115.ec2.internal.16122 &gt; ns6.dynamicnetworkservices.net.domain: 60963% [1au] AAAA? ns4.p34.dynect.net. (47)</div><div class="line">IP ns6.dynamicnetworkservices.net.domain &gt; ip-172-31-30-115.ec2.internal.atmtcp: 27190*- 1/0/1 A 204.13.250.34 (63)</div><div class="line">IP ns6.dynamicnetworkservices.net.domain &gt; ip-172-31-30-115.ec2.internal.56824: 1127*- 0/1/1 (131)</div><div class="line">IP ns6.dynamicnetworkservices.net.domain &gt; ip-172-31-30-115.ec2.internal.44520: 22087*- 1/0/1 A 208.78.71.34 (63)</div><div class="line">IP ns6.dynamicnetworkservices.net.domain &gt; ip-172-31-30-115.ec2.internal.9172: 9046*- 1/0/1 AAAA 2001:500:94:1::34 (75)</div><div class="line">IP ip-172-31-30-115.ec2.internal.30710 &gt; ns2.p34.dynect.net.domain: 35918% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP ns6.dynamicnetworkservices.net.domain &gt; ip-172-31-30-115.ec2.internal.44763: 55611*- 1/0/1 A 208.78.70.34 (63)</div><div class="line">IP ns6.dynamicnetworkservices.net.domain &gt; ip-172-31-30-115.ec2.internal.16122: 60963*- 0/1/1 (131)</div><div class="line">IP ns6.dynamicnetworkservices.net.domain &gt; ip-172-31-30-115.ec2.internal.36069: 34433*- 1/0/1 AAAA 2001:500:90:1::34 (75)</div><div class="line">IP ns6.dynamicnetworkservices.net.domain &gt; ip-172-31-30-115.ec2.internal.8847: 31946*- 1/0/1 A 204.13.251.34 (63)</div><div class="line">IP ns2.p34.dynect.net.domain &gt; ip-172-31-30-115.ec2.internal.30710: 35918 Refused- 0/0/1 (56)</div><div class="line">IP ip-172-31-30-115.ec2.internal.38732 &gt; ns3.p34.dynect.net.domain: 17860% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP ns3.p34.dynect.net.domain &gt; ip-172-31-30-115.ec2.internal.38732: 17860 Refused- 0/0/1 (56)</div><div class="line">IP ip-172-31-30-115.ec2.internal.31531 &gt; ns4.p34.dynect.net.domain: 16321% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP ns4.p34.dynect.net.domain &gt; ip-172-31-30-115.ec2.internal.31531: 16321 Refused- 0/0/1 (56)</div><div class="line">IP ip-172-31-30-115.ec2.internal.53208 &gt; ns1.p34.dynect.net.domain: 33024% [1au] PTR? 193.42.244.104.in-addr.arpa. (56)</div><div class="line">IP ns1.p34.dynect.net.domain &gt; ip-172-31-30-115.ec2.internal.53208: 33024 Refused- 0/0/1 (56)</div></pre></td></tr></table></figure>
<p>My server communicate with these name servers:</p>
<p>199.253.183.183            b.in-addr-servers.arpa<br>199.180.180.63            r.arin.net<br>162.88.61.21            ns6.dynamicnetworkservices     </p>
<p>These servers aren’t the root servers. And I also use ‘whois’ try to find their operators, but there isn’t any message about them.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Using Manages Packages in Linux]]></title>
      <url>https://AnkaiLiang.github.io/2017/08/16/Using-Manages-packages-in-Linux/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<ul>
<li>Ankai Liang</li>
<li>10411998</li>
<li>link: <a href="http://www.cs.stevens.edu/~jschauma/615/s17-hw3.html" target="_blank" rel="external">http://www.cs.stevens.edu/~jschauma/615/s17-hw3.html</a><h1 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h1></li>
</ul>
<h2 id="Create-instances"><a href="#Create-instances" class="headerlink" title="Create instances"></a>Create instances</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div></pre></td><td class="code"><pre><div class="line">➜  ~ git:(master) ✗ aws ec2 run-instances --image-id ami-0187f76b --count 2 --instance-type t1.micro --key-name keypair3 --security-groups mysg</div><div class="line">&#123;</div><div class="line">    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">    &quot;ReservationId&quot;: &quot;r-02736e99fd5cddc54&quot;, </div><div class="line">    &quot;Groups&quot;: [], </div><div class="line">    &quot;Instances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;KernelId&quot;: &quot;aki-919dcaf8&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-02-20T00:28:55.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.19.227&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-0276fca1b0be5642b&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-0187f76b&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-19-227.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;0e:de:79:8f:ba:ec&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-6d7a58a9&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-19-227.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.19.227&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-19-227.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-041ed055&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-02-20T00:28:55.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.19.227&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 0</div><div class="line">        &#125;, </div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;KernelId&quot;: &quot;aki-919dcaf8&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-02-20T00:28:55.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.22.54&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-0300f21d53294d05d&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-0187f76b&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-22-54.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;0e:02:fd:83:77:4c&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-6e7a58aa&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-22-54.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.22.54&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-22-54.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-051ed054&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-02-20T00:28:55.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.22.54&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 1</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div><div class="line"></div><div class="line">➜  ~ git:(master) ✗ aws ec2 describe-instances --filters &quot;Name=image-id,Values=ami-0187f76b&quot;</div><div class="line">&#123;</div><div class="line">    &quot;Reservations&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-02736e99fd5cddc54&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-54-226-229-126.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-02-20T00:28:55.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;54.226.229.126&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.19.227&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-0276fca1b0be5642b&quot;, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-0187f76b&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-19-227.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;0e:de:79:8f:ba:ec&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;54.226.229.126&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-54-226-229-126.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-6d7a58a9&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-19-227.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;54.226.229.126&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-54-226-229-126.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.19.227&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-19-227.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-041ed055&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-20T00:28:55.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.19.227&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-0e23ef64b32cbbe21&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-20T00:28:56.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;KernelId&quot;: &quot;aki-919dcaf8&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;, </div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-52-204-105-92.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-02-20T00:28:55.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;52.204.105.92&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.22.54&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-0300f21d53294d05d&quot;, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-0187f76b&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-22-54.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;0e:02:fd:83:77:4c&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;52.204.105.92&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-52-204-105-92.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-6e7a58aa&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-22-54.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;52.204.105.92&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-52-204-105-92.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.22.54&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-22-54.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-051ed054&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-20T00:28:55.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.22.54&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-0ac8f0cc34c1ebc56&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-20T00:28:56.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;KernelId&quot;: &quot;aki-919dcaf8&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 1</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>The public DNS of two instances are:<br>ec2-54-226-229-126.compute-1.amazonaws.com<br>ec2-52-204-105-92.compute-1.amazonaws.com</p>
<h2 id="Install-nginx-by-package-manager"><a href="#Install-nginx-by-package-manager" class="headerlink" title="Install nginx by package manager"></a>Install nginx by package manager</h2><p>According to the tutorial of Nginx,(<a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/install/" target="_blank" rel="external">https://www.nginx.com/resources/wiki/start/topics/tutorials/install/</a>)<br>I should create a file named /etc/yum.repos.d/nginx.repo<br>First time, I couldn’t modify the file in this documents. Use <code>sudo</code> to create file.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ ssh -i p.pem fedora@ec2-54-226-229-126.compute-1.amazonaws.com</div><div class="line">[fedora@ip-172-31-19-227 ~]$ cd /etc/yum.repos.d</div><div class="line">[fedora@ip-172-31-19-227 yum.repos.d]$ vi nginx.repo</div><div class="line">[fedora@ip-172-31-19-227 yum.repos.d]$ cd ..</div><div class="line">[fedora@ip-172-31-19-227 etc]$ chmod 777 yum.repos.d</div><div class="line">[fedora@ip-172-31-19-227 etc]$ cd yum.repos.d</div><div class="line">[fedora@ip-172-31-19-227 yum.repos.d]$ sudo vi nginx.repo</div></pre></td></tr></table></figure>
<p>nginx.repo’s content:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[nginx]</div><div class="line">name=nginx repo</div><div class="line">baseurl=http://nginx.org/packages/rhel/6/$basearch/</div><div class="line">gpgcheck=0</div><div class="line">enabled=1</div></pre></td></tr></table></figure>
<p>Then I try to use <code>yum</code>, but the system told me I should use dnf.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div></pre></td><td class="code"><pre><div class="line">[fedora@ip-172-31-19-227 ~]$ yum</div><div class="line">Yum command has been deprecated, redirecting to &apos;/usr/bin/dnf &apos;.</div><div class="line">See &apos;man dnf&apos; and &apos;man yum2dnf&apos; for more information.</div><div class="line">To transfer transaction metadata from yum to DNF, run:</div><div class="line">&apos;dnf install python-dnf-plugins-extras-migrate &amp;&amp; dnf-2 migrate&apos;</div><div class="line"></div><div class="line">You need to give some command</div><div class="line">usage: dnf [options] COMMAND</div><div class="line"></div><div class="line">List of Main Commands</div><div class="line"></div><div class="line">autoremove                </div><div class="line">check-update              Check for available package upgrades</div><div class="line">clean                     Remove cached data</div><div class="line">distro-sync               Synchronize installed packages to the latest available versions</div><div class="line">downgrade                 downgrade a package</div><div class="line">group                     Display, or use, the groups information</div><div class="line">help                      Display a helpful usage message</div><div class="line">history                   Display, or use, the transaction history</div><div class="line">info                      Display details about a package or group of packages</div><div class="line">install                   Install a package or packages on your system</div><div class="line">list                      List a package or groups of packages</div><div class="line">makecache                 Generate the metadata cache</div><div class="line">mark                      Mark or unmark installed packages as installed by user.</div><div class="line">provides                  Find what package provides the given value</div><div class="line">reinstall                 reinstall a package</div><div class="line">remove                    Remove a package or packages from your system</div><div class="line">repolist                  Display the configured software repositories</div><div class="line">repository-packages       Run commands on top of all packages in given repository</div><div class="line">search                    Search package details for the given string</div><div class="line">updateinfo                Display advisories about packages</div><div class="line">upgrade                   Upgrade a package or packages on your system</div><div class="line">upgrade-to                Upgrade a package on your system to the specified version</div><div class="line"></div><div class="line">List of Plugin Commands</div><div class="line"></div><div class="line">builddep                  Install build dependencies for package or spec file</div><div class="line">config-manager            manage dnf configuration options and repositories</div><div class="line">copr                      Interact with Copr repositories.</div><div class="line">debuginfo-install         install debuginfo packages</div><div class="line">download                  Download package to current directory</div><div class="line">needs-restarting          determine updated binaries that need restarting</div><div class="line">playground                Interact with Playground repository.</div><div class="line">repoquery                 search for packages matching keyword</div><div class="line">reposync                  download all packages from remote repo</div><div class="line">[fedora@ip-172-31-19-227 ~]$ dnf install nginx</div><div class="line">Error: This command has to be run under the root user.</div><div class="line">[fedora@ip-172-31-19-227 ~]$ sudo dnf info nginx</div><div class="line">Last metadata expiration check performed 0:05:19 ago on Mon Feb 20 07:40:11 2017.</div><div class="line">Available Packages</div><div class="line">Name        : nginx</div><div class="line">Arch        : x86_64</div><div class="line">Epoch       : 1</div><div class="line">Version     : 1.8.1</div><div class="line">Release     : 3.fc23</div><div class="line">Size        : 536 k</div><div class="line">Repo        : updates</div><div class="line">Summary     : A high performance web server and reverse proxy server</div><div class="line">URL         : http://nginx.org/</div><div class="line">License     : BSD</div><div class="line">Description : Nginx is a web server and a reverse proxy server for HTTP, SMTP,</div><div class="line">            : POP3 and IMAP protocols, with a strong focus on high concurrency,</div><div class="line">            : performance and low memory usage.</div><div class="line">[fedora@ip-172-31-19-227 ~]$ sudo dnf install nginx</div><div class="line">Last metadata expiration check performed 0:11:33 ago on Mon Feb 20 07:40:11 2017.</div><div class="line">Dependencies resolved.</div><div class="line">================================================================================</div><div class="line"> Package                    Arch      Version                  Repository  Size</div><div class="line">================================================================================</div><div class="line">Installing:</div><div class="line"> aajohan-comfortaa-fonts    noarch    2.004-5.fc23             fedora     151 k</div><div class="line"> fontconfig                 x86_64    2.11.94-5.fc23           updates    242 k</div><div class="line"> fontpackages-filesystem    noarch    1.44-14.fc23             fedora      15 k</div><div class="line"> gd                         x86_64    2.1.1-10.fc23            updates    146 k</div><div class="line"> gperftools-libs            x86_64    2.4-5.fc23               fedora     273 k</div><div class="line"> jbigkit-libs               x86_64    2.1-4.fc23               fedora      51 k</div><div class="line"> libX11                     x86_64    1.6.3-2.fc23             fedora     608 k</div><div class="line"> libX11-common              noarch    1.6.3-2.fc23             fedora     166 k</div><div class="line"> libXau                     x86_64    1.0.8-5.fc23             fedora      33 k</div><div class="line"> libXpm                     x86_64    3.5.11-4.fc23            fedora      54 k</div><div class="line"> libjpeg-turbo              x86_64    1.4.1-2.fc23             fedora     147 k</div><div class="line"> libtiff                    x86_64    4.0.4-1.fc23             fedora     173 k</div><div class="line"> libunwind                  x86_64    1.1-10.fc23              fedora      64 k</div><div class="line"> libvpx                     x86_64    1.4.0-6.fc23             updates    618 k</div><div class="line"> libxcb                     x86_64    1.11.1-1.fc23            updates    192 k</div><div class="line"> libxslt                    x86_64    1.1.28-11.fc23           fedora     246 k</div><div class="line"> make                       x86_64    1:4.0-5.1.fc23           fedora     449 k</div><div class="line"> nginx                      x86_64    1:1.8.1-3.fc23           updates    536 k</div><div class="line"> nginx-filesystem           noarch    1:1.8.1-3.fc23           updates     20 k</div><div class="line"> nginx-mimetypes            noarch    2.1.45-1.fc23            fedora      26 k</div><div class="line"> openssl                    x86_64    1:1.0.2d-2.fc23          fedora     511 k</div><div class="line"> perl                       x86_64    4:5.22.2-355.fc23        updates    6.9 M</div><div class="line"> perl-Carp                  noarch    1.38-1.fc23              updates     29 k</div><div class="line"> perl-Encode                x86_64    3:2.80-7.fc23            updates    1.5 M</div><div class="line"> perl-Exporter              noarch    5.72-347.fc23            fedora      33 k</div><div class="line"> perl-File-Path             noarch    2.09-347.fc23            fedora      31 k</div><div class="line"> perl-File-Temp             noarch    0.23.04-346.fc23         fedora      61 k</div><div class="line"> perl-Getopt-Long           noarch    2.49.1-1.fc23            updates     62 k</div><div class="line"> perl-HTTP-Tiny             noarch    0.056-4.fc23             updates     53 k</div><div class="line"> perl-MIME-Base64           x86_64    3.15-348.fc23            fedora      29 k</div><div class="line"> perl-PathTools             x86_64    3.62-2.fc23              updates     88 k</div><div class="line"> perl-Pod-Escapes           noarch    1:1.07-348.fc23          fedora      19 k</div><div class="line"> perl-Pod-Perldoc           noarch    3.26-1.fc23              updates     86 k</div><div class="line"> perl-Pod-Simple            noarch    1:3.31-1.fc23            fedora     211 k</div><div class="line"> perl-Pod-Usage             noarch    4:1.67-3.fc23            fedora      33 k</div><div class="line"> perl-Scalar-List-Utils     x86_64    2:1.43-1.fc23            updates     62 k</div><div class="line"> perl-Socket                x86_64    3:2.024-1.fc23           updates     56 k</div><div class="line"> perl-Storable              x86_64    1:2.53-347.fc23          updates     84 k</div><div class="line"> perl-Term-ANSIColor        noarch    4.03-346.fc23            fedora      45 k</div><div class="line"> perl-Term-Cap              noarch    1.17-1.fc23              fedora      22 k</div><div class="line"> perl-Text-ParseWords       noarch    3.30-346.fc23            fedora      17 k</div><div class="line"> perl-Text-Tabs+Wrap        noarch    2013.0523-346.fc23       fedora      23 k</div><div class="line"> perl-Time-HiRes            x86_64    1.9728-1.fc23            updates     50 k</div><div class="line"> perl-Time-Local            noarch    1:1.250-1.fc23           updates     30 k</div><div class="line"> perl-Unicode-Normalize     x86_64    1.24-1.fc23              updates     80 k</div><div class="line"> perl-constant              noarch    1.33-347.fc23            fedora      24 k</div><div class="line"> perl-libs                  x86_64    4:5.22.2-355.fc23        updates    823 k</div><div class="line"> perl-macros                x86_64    4:5.22.2-355.fc23        updates     57 k</div><div class="line"> perl-parent                noarch    1:0.234-3.fc23           fedora      18 k</div><div class="line"> perl-podlators             noarch    2.5.3-347.fc23           fedora     112 k</div><div class="line"> perl-threads               x86_64    1:2.02-2.fc23            fedora      58 k</div><div class="line"> perl-threads-shared        x86_64    1.48-346.fc23            fedora      44 k</div><div class="line"></div><div class="line">Transaction Summary</div><div class="line">================================================================================</div><div class="line">Install  52 Packages</div><div class="line"></div><div class="line">Total download size: 15 M</div><div class="line">Installed size: 45 M</div><div class="line">Is this ok [y/N]: y</div><div class="line">Downloading Packages:</div><div class="line">(1/52): libxslt-1.1.28-11.fc23.x86_64.rpm                                767 kB/s | 246 kB     00:00    </div><div class="line">(2/52): nginx-1.8.1-3.fc23.x86_64.rpm                                    1.4 MB/s | 536 kB     00:00    </div><div class="line">(3/52): gperftools-libs-2.4-5.fc23.x86_64.rpm                            683 kB/s | 273 kB     00:00    </div><div class="line">(4/52): nginx-mimetypes-2.1.45-1.fc23.noarch.rpm                         177 kB/s |  26 kB     00:00    </div><div class="line">(5/52): perl-Exporter-5.72-347.fc23.noarch.rpm                           230 kB/s |  33 kB     00:00    </div><div class="line">(6/52): perl-constant-1.33-347.fc23.noarch.rpm                           228 kB/s |  24 kB     00:00    </div><div class="line">(7/52): nginx-filesystem-1.8.1-3.fc23.noarch.rpm                         525 kB/s |  20 kB     00:00    </div><div class="line">(8/52): libunwind-1.1-10.fc23.x86_64.rpm                                 369 kB/s |  64 kB     00:00    </div><div class="line">(9/52): make-4.0-5.1.fc23.x86_64.rpm                                     1.2 MB/s | 449 kB     00:00    </div><div class="line">(10/52): openssl-1.0.2d-2.fc23.x86_64.rpm                                1.2 MB/s | 511 kB     00:00    </div><div class="line">(11/52): gd-2.1.1-10.fc23.x86_64.rpm                                     522 kB/s | 146 kB     00:00    </div><div class="line">(12/52): libXpm-3.5.11-4.fc23.x86_64.rpm                                 343 kB/s |  54 kB     00:00    </div><div class="line">(13/52): libjpeg-turbo-1.4.1-2.fc23.x86_64.rpm                           604 kB/s | 147 kB     00:00    </div><div class="line">(14/52): libX11-1.6.3-2.fc23.x86_64.rpm                                  1.7 MB/s | 608 kB     00:00    </div><div class="line">(15/52): libtiff-4.0.4-1.fc23.x86_64.rpm                                 655 kB/s | 173 kB     00:00    </div><div class="line">(16/52): jbigkit-libs-2.1-4.fc23.x86_64.rpm                              354 kB/s |  51 kB     00:00    </div><div class="line">(17/52): libX11-common-1.6.3-2.fc23.noarch.rpm                           746 kB/s | 166 kB     00:00    </div><div class="line">(18/52): perl-File-Path-2.09-347.fc23.noarch.rpm                         284 kB/s |  31 kB     00:00    </div><div class="line">(19/52): perl-File-Temp-0.23.04-346.fc23.noarch.rpm                      336 kB/s |  61 kB     00:00    </div><div class="line">(20/52): perl-Text-Tabs+Wrap-2013.0523-346.fc23.noarch.rpm               219 kB/s |  23 kB     00:00    </div><div class="line">(21/52): perl-Pod-Simple-3.31-1.fc23.noarch.rpm                          735 kB/s | 211 kB     00:00    </div><div class="line">(22/52): perl-parent-0.234-3.fc23.noarch.rpm                             174 kB/s |  18 kB     00:00    </div><div class="line">(23/52): perl-5.22.2-355.fc23.x86_64.rpm                                 9.8 MB/s | 6.9 MB     00:00    </div><div class="line">(24/52): perl-threads-2.02-2.fc23.x86_64.rpm                             215 kB/s |  58 kB     00:00    </div><div class="line">(25/52): perl-threads-shared-1.48-346.fc23.x86_64.rpm                    185 kB/s |  44 kB     00:00    </div><div class="line">(26/52): perl-libs-5.22.2-355.fc23.x86_64.rpm                             12 MB/s | 823 kB     00:00    </div><div class="line">(27/52): fontconfig-2.11.94-5.fc23.x86_64.rpm                            2.3 MB/s | 242 kB     00:00    </div><div class="line">(28/52): perl-Pod-Escapes-1.07-348.fc23.noarch.rpm                       176 kB/s |  19 kB     00:00    </div><div class="line">(29/52): perl-Carp-1.38-1.fc23.noarch.rpm                                859 kB/s |  29 kB     00:00    </div><div class="line">(30/52): fontpackages-filesystem-1.44-14.fc23.noarch.rpm                 201 kB/s |  15 kB     00:00    </div><div class="line">(31/52): perl-Scalar-List-Utils-1.43-1.fc23.x86_64.rpm                   2.1 MB/s |  62 kB     00:00    </div><div class="line">(32/52): libvpx-1.4.0-6.fc23.x86_64.rpm                                  7.2 MB/s | 618 kB     00:00    </div><div class="line">(33/52): perl-Getopt-Long-2.49.1-1.fc23.noarch.rpm                       3.4 MB/s |  62 kB     00:00    </div><div class="line">(34/52): perl-MIME-Base64-3.15-348.fc23.x86_64.rpm                       270 kB/s |  29 kB     00:00    </div><div class="line">(35/52): perl-Encode-2.80-7.fc23.x86_64.rpm                              9.7 MB/s | 1.5 MB     00:00    </div><div class="line">(36/52): perl-Pod-Usage-1.67-3.fc23.noarch.rpm                           268 kB/s |  33 kB     00:00    </div><div class="line">(37/52): perl-Text-ParseWords-3.30-346.fc23.noarch.rpm                   136 kB/s |  17 kB     00:00    </div><div class="line">(38/52): perl-Term-ANSIColor-4.03-346.fc23.noarch.rpm                    318 kB/s |  45 kB     00:00    </div><div class="line">(39/52): perl-PathTools-3.62-2.fc23.x86_64.rpm                           3.7 MB/s |  88 kB     00:00    </div><div class="line">(40/52): perl-podlators-2.5.3-347.fc23.noarch.rpm                        534 kB/s | 112 kB     00:00    </div><div class="line">(41/52): perl-Term-Cap-1.17-1.fc23.noarch.rpm                            202 kB/s |  22 kB     00:00    </div><div class="line">(42/52): perl-Socket-2.024-1.fc23.x86_64.rpm                             1.7 MB/s |  56 kB     00:00    </div><div class="line">(43/52): libxcb-1.11.1-1.fc23.x86_64.rpm                                 3.0 MB/s | 192 kB     00:00    </div><div class="line">(44/52): perl-Storable-2.53-347.fc23.x86_64.rpm                          2.7 MB/s |  84 kB     00:00    </div><div class="line">(45/52): perl-Time-HiRes-1.9728-1.fc23.x86_64.rpm                        2.5 MB/s |  50 kB     00:00    </div><div class="line">(46/52): perl-Unicode-Normalize-1.24-1.fc23.x86_64.rpm                   4.0 MB/s |  80 kB     00:00    </div><div class="line">(47/52): perl-macros-5.22.2-355.fc23.x86_64.rpm                          2.0 MB/s |  57 kB     00:00    </div><div class="line">(48/52): perl-Pod-Perldoc-3.26-1.fc23.noarch.rpm                         4.5 MB/s |  86 kB     00:00    </div><div class="line">(49/52): perl-HTTP-Tiny-0.056-4.fc23.noarch.rpm                          2.7 MB/s |  53 kB     00:00    </div><div class="line">(50/52): perl-Time-Local-1.250-1.fc23.noarch.rpm                         941 kB/s |  30 kB     00:00    </div><div class="line">(51/52): libXau-1.0.8-5.fc23.x86_64.rpm                                  211 kB/s |  33 kB     00:00    </div><div class="line">(52/52): aajohan-comfortaa-fonts-2.004-5.fc23.noarch.rpm                 616 kB/s | 151 kB     00:00    </div><div class="line">---------------------------------------------------------------------------------------------------------</div><div class="line">Total                                                                    4.7 MB/s |  15 MB     00:03     </div><div class="line">Running transaction check</div><div class="line">Transaction check succeeded.</div><div class="line">Running transaction test</div><div class="line">Transaction test succeeded.</div><div class="line">Running transaction</div><div class="line">  Installing  : perl-libs-4:5.22.2-355.fc23.x86_64                                                  1/52 </div><div class="line">  Installing  : fontpackages-filesystem-1.44-14.fc23.noarch                                         2/52 </div><div class="line">  Installing  : libjpeg-turbo-1.4.1-2.fc23.x86_64                                                   3/52 </div><div class="line">  Installing  : nginx-filesystem-1:1.8.1-3.fc23.noarch                                              4/52 </div><div class="line">  Installing  : nginx-mimetypes-2.1.45-1.fc23.noarch                                                5/52 </div><div class="line">  Installing  : aajohan-comfortaa-fonts-2.004-5.fc23.noarch                                         6/52 </div><div class="line">  Installing  : fontconfig-2.11.94-5.fc23.x86_64                                                    7/52 </div><div class="line">  Installing  : perl-macros-4:5.22.2-355.fc23.x86_64                                                8/52 </div><div class="line">  Installing  : perl-Time-Local-1:1.250-1.fc23.noarch                                               9/52 </div><div class="line">  Installing  : perl-Term-ANSIColor-4.03-346.fc23.noarch                                           10/52 </div><div class="line">  Installing  : perl-Term-Cap-1.17-1.fc23.noarch                                                   11/52 </div><div class="line">  Installing  : perl-HTTP-Tiny-0.056-4.fc23.noarch                                                 12/52 </div><div class="line">  Installing  : perl-MIME-Base64-3.15-348.fc23.x86_64                                              13/52 </div><div class="line">  Installing  : perl-podlators-2.5.3-347.fc23.noarch                                               14/52 </div><div class="line">  Installing  : perl-Pod-Perldoc-3.26-1.fc23.noarch                                                15/52 </div><div class="line">  Installing  : perl-Pod-Escapes-1:1.07-348.fc23.noarch                                            16/52 </div><div class="line">  Installing  : perl-Text-ParseWords-3.30-346.fc23.noarch                                          17/52 </div><div class="line">  Installing  : perl-Encode-3:2.80-7.fc23.x86_64                                                   18/52 </div><div class="line">  Installing  : perl-Pod-Usage-4:1.67-3.fc23.noarch                                                19/52 </div><div class="line">  Installing  : perl-Text-Tabs+Wrap-2013.0523-346.fc23.noarch                                      20/52 </div><div class="line">  Installing  : perl-parent-1:0.234-3.fc23.noarch                                                  21/52 </div><div class="line">  Installing  : perl-constant-1.33-347.fc23.noarch                                                 22/52 </div><div class="line">  Installing  : perl-threads-1:2.02-2.fc23.x86_64                                                  23/52 </div><div class="line">  Installing  : perl-Carp-1.38-1.fc23.noarch                                                       24/52 </div><div class="line">  Installing  : perl-threads-shared-1.48-346.fc23.x86_64                                           25/52 </div><div class="line">  Installing  : perl-Scalar-List-Utils-2:1.43-1.fc23.x86_64                                        26/52 </div><div class="line">  Installing  : perl-File-Path-2.09-347.fc23.noarch                                                27/52 </div><div class="line">  Installing  : perl-File-Temp-0.23.04-346.fc23.noarch                                             28/52 </div><div class="line">  Installing  : perl-PathTools-3.62-2.fc23.x86_64                                                  29/52 </div><div class="line">  Installing  : perl-Socket-3:2.024-1.fc23.x86_64                                                  30/52 </div><div class="line">  Installing  : perl-Storable-1:2.53-347.fc23.x86_64                                               31/52 </div><div class="line">  Installing  : perl-Time-HiRes-1.9728-1.fc23.x86_64                                               32/52 </div><div class="line">  Installing  : perl-Unicode-Normalize-1.24-1.fc23.x86_64                                          33/52 </div><div class="line">  Installing  : perl-Pod-Simple-1:3.31-1.fc23.noarch                                               34/52 </div><div class="line">  Installing  : perl-Getopt-Long-2.49.1-1.fc23.noarch                                              35/52 </div><div class="line">  Installing  : perl-Exporter-5.72-347.fc23.noarch                                                 36/52 </div><div class="line">  Installing  : perl-4:5.22.2-355.fc23.x86_64                                                      37/52 </div><div class="line">  Installing  : libXau-1.0.8-5.fc23.x86_64                                                         38/52 </div><div class="line">  Installing  : libxcb-1.11.1-1.fc23.x86_64                                                        39/52 </div><div class="line">  Installing  : libvpx-1.4.0-6.fc23.x86_64                                                         40/52 </div><div class="line">  Installing  : jbigkit-libs-2.1-4.fc23.x86_64                                                     41/52 </div><div class="line">  Installing  : libtiff-4.0.4-1.fc23.x86_64                                                        42/52 </div><div class="line">  Installing  : libX11-common-1.6.3-2.fc23.noarch                                                  43/52 </div><div class="line">  Installing  : libX11-1.6.3-2.fc23.x86_64                                                         44/52 </div><div class="line">  Installing  : libXpm-3.5.11-4.fc23.x86_64                                                        45/52 </div><div class="line">  Installing  : gd-2.1.1-10.fc23.x86_64                                                            46/52 </div><div class="line">  Installing  : make-1:4.0-5.1.fc23.x86_64                                                         47/52 </div><div class="line">  Installing  : openssl-1:1.0.2d-2.fc23.x86_64                                                     48/52 </div><div class="line">  Installing  : libunwind-1.1-10.fc23.x86_64                                                       49/52 </div><div class="line">  Installing  : gperftools-libs-2.4-5.fc23.x86_64                                                  50/52 </div><div class="line">  Installing  : libxslt-1.1.28-11.fc23.x86_64                                                      51/52 </div><div class="line">  Installing  : nginx-1:1.8.1-3.fc23.x86_64                                                        52/52 </div><div class="line">  Verifying   : nginx-1:1.8.1-3.fc23.x86_64                                                         1/52 </div><div class="line">  Verifying   : gperftools-libs-2.4-5.fc23.x86_64                                                   2/52 </div><div class="line">  Verifying   : libxslt-1.1.28-11.fc23.x86_64                                                       3/52 </div><div class="line">  Verifying   : nginx-mimetypes-2.1.45-1.fc23.noarch                                                4/52 </div><div class="line">  Verifying   : perl-Exporter-5.72-347.fc23.noarch                                                  5/52 </div><div class="line">  Verifying   : perl-constant-1.33-347.fc23.noarch                                                  6/52 </div><div class="line">  Verifying   : nginx-filesystem-1:1.8.1-3.fc23.noarch                                              7/52 </div><div class="line">  Verifying   : libunwind-1.1-10.fc23.x86_64                                                        8/52 </div><div class="line">  Verifying   : openssl-1:1.0.2d-2.fc23.x86_64                                                      9/52 </div><div class="line">  Verifying   : make-1:4.0-5.1.fc23.x86_64                                                         10/52 </div><div class="line">  Verifying   : gd-2.1.1-10.fc23.x86_64                                                            11/52 </div><div class="line">  Verifying   : libX11-1.6.3-2.fc23.x86_64                                                         12/52 </div><div class="line">  Verifying   : libXpm-3.5.11-4.fc23.x86_64                                                        13/52 </div><div class="line">  Verifying   : libjpeg-turbo-1.4.1-2.fc23.x86_64                                                  14/52 </div><div class="line">  Verifying   : libtiff-4.0.4-1.fc23.x86_64                                                        15/52 </div><div class="line">  Verifying   : libX11-common-1.6.3-2.fc23.noarch                                                  16/52 </div><div class="line">  Verifying   : jbigkit-libs-2.1-4.fc23.x86_64                                                     17/52 </div><div class="line">  Verifying   : perl-4:5.22.2-355.fc23.x86_64                                                      18/52 </div><div class="line">  Verifying   : perl-File-Path-2.09-347.fc23.noarch                                                19/52 </div><div class="line">  Verifying   : perl-File-Temp-0.23.04-346.fc23.noarch                                             20/52 </div><div class="line">  Verifying   : perl-Pod-Simple-1:3.31-1.fc23.noarch                                               21/52 </div><div class="line">  Verifying   : perl-Text-Tabs+Wrap-2013.0523-346.fc23.noarch                                      22/52 </div><div class="line">  Verifying   : perl-parent-1:0.234-3.fc23.noarch                                                  23/52 </div><div class="line">  Verifying   : perl-threads-1:2.02-2.fc23.x86_64                                                  24/52 </div><div class="line">  Verifying   : perl-threads-shared-1.48-346.fc23.x86_64                                           25/52 </div><div class="line">  Verifying   : perl-Pod-Escapes-1:1.07-348.fc23.noarch                                            26/52 </div><div class="line">  Verifying   : perl-libs-4:5.22.2-355.fc23.x86_64                                                 27/52 </div><div class="line">  Verifying   : fontconfig-2.11.94-5.fc23.x86_64                                                   28/52 </div><div class="line">  Verifying   : fontpackages-filesystem-1.44-14.fc23.noarch                                        29/52 </div><div class="line">  Verifying   : libvpx-1.4.0-6.fc23.x86_64                                                         30/52 </div><div class="line">  Verifying   : perl-Carp-1.38-1.fc23.noarch                                                       31/52 </div><div class="line">  Verifying   : perl-Scalar-List-Utils-2:1.43-1.fc23.x86_64                                        32/52 </div><div class="line">  Verifying   : perl-Encode-3:2.80-7.fc23.x86_64                                                   33/52 </div><div class="line">  Verifying   : perl-MIME-Base64-3.15-348.fc23.x86_64                                              34/52 </div><div class="line">  Verifying   : perl-Getopt-Long-2.49.1-1.fc23.noarch                                              35/52 </div><div class="line">  Verifying   : perl-Pod-Usage-4:1.67-3.fc23.noarch                                                36/52 </div><div class="line">  Verifying   : perl-Text-ParseWords-3.30-346.fc23.noarch                                          37/52 </div><div class="line">  Verifying   : perl-podlators-2.5.3-347.fc23.noarch                                               38/52 </div><div class="line">  Verifying   : perl-Term-ANSIColor-4.03-346.fc23.noarch                                           39/52 </div><div class="line">  Verifying   : perl-Term-Cap-1.17-1.fc23.noarch                                                   40/52 </div><div class="line">  Verifying   : perl-PathTools-3.62-2.fc23.x86_64                                                  41/52 </div><div class="line">  Verifying   : libxcb-1.11.1-1.fc23.x86_64                                                        42/52 </div><div class="line">  Verifying   : libXau-1.0.8-5.fc23.x86_64                                                         43/52 </div><div class="line">  Verifying   : perl-Socket-3:2.024-1.fc23.x86_64                                                  44/52 </div><div class="line">  Verifying   : perl-Storable-1:2.53-347.fc23.x86_64                                               45/52 </div><div class="line">  Verifying   : perl-Time-HiRes-1.9728-1.fc23.x86_64                                               46/52 </div><div class="line">  Verifying   : perl-Unicode-Normalize-1.24-1.fc23.x86_64                                          47/52 </div><div class="line">  Verifying   : perl-macros-4:5.22.2-355.fc23.x86_64                                               48/52 </div><div class="line">  Verifying   : perl-Pod-Perldoc-3.26-1.fc23.noarch                                                49/52 </div><div class="line">  Verifying   : perl-HTTP-Tiny-0.056-4.fc23.noarch                                                 50/52 </div><div class="line">  Verifying   : perl-Time-Local-1:1.250-1.fc23.noarch                                              51/52 </div><div class="line">  Verifying   : aajohan-comfortaa-fonts-2.004-5.fc23.noarch                                        52/52 </div><div class="line"></div><div class="line">Installed:</div><div class="line">  aajohan-comfortaa-fonts.noarch 2.004-5.fc23        fontconfig.x86_64 2.11.94-5.fc23                    </div><div class="line">  fontpackages-filesystem.noarch 1.44-14.fc23        gd.x86_64 2.1.1-10.fc23                             </div><div class="line">  gperftools-libs.x86_64 2.4-5.fc23                  jbigkit-libs.x86_64 2.1-4.fc23                      </div><div class="line">  libX11.x86_64 1.6.3-2.fc23                         libX11-common.noarch 1.6.3-2.fc23                   </div><div class="line">  libXau.x86_64 1.0.8-5.fc23                         libXpm.x86_64 3.5.11-4.fc23                         </div><div class="line">  libjpeg-turbo.x86_64 1.4.1-2.fc23                  libtiff.x86_64 4.0.4-1.fc23                         </div><div class="line">  libunwind.x86_64 1.1-10.fc23                       libvpx.x86_64 1.4.0-6.fc23                          </div><div class="line">  libxcb.x86_64 1.11.1-1.fc23                        libxslt.x86_64 1.1.28-11.fc23                       </div><div class="line">  make.x86_64 1:4.0-5.1.fc23                         nginx.x86_64 1:1.8.1-3.fc23                         </div><div class="line">  nginx-filesystem.noarch 1:1.8.1-3.fc23             nginx-mimetypes.noarch 2.1.45-1.fc23                </div><div class="line">  openssl.x86_64 1:1.0.2d-2.fc23                     perl.x86_64 4:5.22.2-355.fc23                       </div><div class="line">  perl-Carp.noarch 1.38-1.fc23                       perl-Encode.x86_64 3:2.80-7.fc23                    </div><div class="line">  perl-Exporter.noarch 5.72-347.fc23                 perl-File-Path.noarch 2.09-347.fc23                 </div><div class="line">  perl-File-Temp.noarch 0.23.04-346.fc23             perl-Getopt-Long.noarch 2.49.1-1.fc23               </div><div class="line">  perl-HTTP-Tiny.noarch 0.056-4.fc23                 perl-MIME-Base64.x86_64 3.15-348.fc23               </div><div class="line">  perl-PathTools.x86_64 3.62-2.fc23                  perl-Pod-Escapes.noarch 1:1.07-348.fc23             </div><div class="line">  perl-Pod-Perldoc.noarch 3.26-1.fc23                perl-Pod-Simple.noarch 1:3.31-1.fc23                </div><div class="line">  perl-Pod-Usage.noarch 4:1.67-3.fc23                perl-Scalar-List-Utils.x86_64 2:1.43-1.fc23         </div><div class="line">  perl-Socket.x86_64 3:2.024-1.fc23                  perl-Storable.x86_64 1:2.53-347.fc23                </div><div class="line">  perl-Term-ANSIColor.noarch 4.03-346.fc23           perl-Term-Cap.noarch 1.17-1.fc23                    </div><div class="line">  perl-Text-ParseWords.noarch 3.30-346.fc23          perl-Text-Tabs+Wrap.noarch 2013.0523-346.fc23       </div><div class="line">  perl-Time-HiRes.x86_64 1.9728-1.fc23               perl-Time-Local.noarch 1:1.250-1.fc23               </div><div class="line">  perl-Unicode-Normalize.x86_64 1.24-1.fc23          perl-constant.noarch 1.33-347.fc23                  </div><div class="line">  perl-libs.x86_64 4:5.22.2-355.fc23                 perl-macros.x86_64 4:5.22.2-355.fc23                </div><div class="line">  perl-parent.noarch 1:0.234-3.fc23                  perl-podlators.noarch 2.5.3-347.fc23                </div><div class="line">  perl-threads.x86_64 1:2.02-2.fc23                  perl-threads-shared.x86_64 1.48-346.fc23            </div><div class="line"></div><div class="line">Complete!</div><div class="line">[fedora@ip-172-31-19-227 ~]$ which nginx</div><div class="line">/usr/sbin/nginx</div></pre></td></tr></table></figure>
<h2 id="Binary-Packages-Q-amp-A"><a href="#Binary-Packages-Q-amp-A" class="headerlink" title="Binary Packages Q &amp; A"></a>Binary Packages Q &amp; A</h2><ul>
<li>How many packages were added?<br>A: 52 packages. (sudo dnf install nginx)</li>
<li>How many new files were added?<br>A: I install the packages around the system time ‘Mon Feb 20 07:40:11 2017’<br>I use <code>find</code> to count how many new files were added.<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">[fedora@ip-172-31-19-227 dnf]$ date</div><div class="line">Mon Feb 20 09:01:50 UTC 2017</div><div class="line">[fedora@ip-172-31-19-227 dnf]$ sudo find / -cmin -100 | grep &apos;\/&apos; -c</div><div class="line">find: ‘/proc/9625/task/9625/fd/6’: No such file or directory</div><div class="line">find: ‘/proc/9625/task/9625/fdinfo/6’: No such file or directory</div><div class="line">find: ‘/proc/9625/fd/5’: No such file or directory</div><div class="line">find: ‘/proc/9625/fdinfo/5’: No such file or directory</div><div class="line">27490</div><div class="line">[fedora@ip-172-31-19-227 dnf]$ sudo find / -cmin -70 | grep &apos;\/&apos; -c</div><div class="line">find: ‘/proc/9635/task/9635/fd/6’: No such file or directory</div><div class="line">find: ‘/proc/9635/task/9635/fdinfo/6’: No such file or directory</div><div class="line">find: ‘/proc/9635/fd/5’: No such file or directory</div><div class="line">find: ‘/proc/9635/fdinfo/5’: No such file or directory</div><div class="line">24766</div></pre></td></tr></table></figure>
</li>
</ul>
<p>So when install system create around 27490-24766=2724 files</p>
<ul>
<li>Are all added packages necessary to run the software?<br>A: Yes they are. （infer from this sentence ‘Dependencies resolved.’）</li>
<li>Which version of nginx did you end up with?<br>A: Version     : 1.8.1 (sudo dnf info nginx)</li>
<li>Which directories did the software get installed into?<br>A: /usr/sbin/nginx (which nginx)</li>
<li>How do you know you didn’t get any backdoors installed?<br>A: Check the file ‘dnf.cof’, I found ‘gpgcheck = 1’.<br>That means every time <code>dnf</code> download package from repo, it will run ‘GNU Private Guard’ checking, and make sure the resource of this package is safe and vaild.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[fedora@ip-172-31-19-227 dnf]$ whereis dnf</div><div class="line">dnf: /usr/bin/dnf /etc/dnf /usr/share/man/man8/dnf.8.gz</div><div class="line">[fedora@ip-172-31-19-227 dnf]$ ls</div><div class="line">dnf.conf  plugins  protected.d</div><div class="line">[fedora@ip-172-31-19-227 dnf]$ vi dnf.conf</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[main]</div><div class="line">gpgcheck=1</div><div class="line">installonly_limit=3</div><div class="line">clean_requirements_on_remove=true</div></pre></td></tr></table></figure>
<h2 id="Build-manually-from-source"><a href="#Build-manually-from-source" class="headerlink" title="Build manually from source"></a>Build manually from source</h2><p>SSH to the second instance。<br>From the tutorial, find the link of stable nginx source. Copy link.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ ssh -i p.pem fedora@ec2-52-204-105-92.compute-1.amazonaws.com</div><div class="line">The authenticity of host &apos;ec2-52-204-105-92.compute-1.amazonaws.com (52.204.105.92)&apos; can&apos;t be established.</div><div class="line">ECDSA key fingerprint is SHA256:lzmOqbZO/3jhhD29OeShFz9aqPnzYj0cNbRHNmTk8SE.</div><div class="line">Are you sure you want to continue connecting (yes/no)? yes</div><div class="line">Warning: Permanently added &apos;ec2-52-204-105-92.compute-1.amazonaws.com,52.204.105.92&apos; (ECDSA) to the list of known hosts.</div><div class="line">[fedora@ip-172-31-22-54 ~]$ mkdir nginx</div><div class="line">[fedora@ip-172-31-22-54 ~]$ cd nginx/</div><div class="line">[fedora@ip-172-31-22-54 nginx]$ curl -O http://nginx.org/download/nginx-1.9.9.tar.gz</div><div class="line">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</div><div class="line">                                 Dload  Upload   Total   Spent    Left  Speed</div><div class="line">100  867k  100  867k    0     0   924k      0 --:--:-- --:--:-- --:--:--  926k</div><div class="line">[fedora@ip-172-31-22-54 nginx]$ tar xvf nginx-1.9.9.tar.gz </div><div class="line">nginx-1.9.9/</div><div class="line">nginx-1.9.9/auto/</div><div class="line">nginx-1.9.9/conf/</div><div class="line">nginx-1.9.9/contrib/</div><div class="line">nginx-1.9.9/src/</div><div class="line">nginx-1.9.9/configure</div><div class="line">nginx-1.9.9/LICENSE</div><div class="line">nginx-1.9.9/README</div><div class="line">nginx-1.9.9/html/</div><div class="line">nginx-1.9.9/man/</div><div class="line">nginx-1.9.9/CHANGES.ru</div><div class="line">nginx-1.9.9/CHANGES</div><div class="line">nginx-1.9.9/man/nginx.8</div><div class="line">nginx-1.9.9/html/50x.html</div><div class="line">nginx-1.9.9/html/index.html</div><div class="line">nginx-1.9.9/src/core/</div><div class="line">nginx-1.9.9/src/event/</div><div class="line">nginx-1.9.9/src/http/</div><div class="line">nginx-1.9.9/src/mail/</div><div class="line">nginx-1.9.9/src/misc/</div><div class="line">nginx-1.9.9/src/os/</div><div class="line">nginx-1.9.9/src/stream/</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_handler.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream.h</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_limit_conn_module.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_access_module.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_core_module.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_upstream_hash_module.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_proxy_module.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_ssl_module.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_ssl_module.h</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_upstream.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_upstream.h</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_upstream_least_conn_module.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_upstream_round_robin.c</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_upstream_round_robin.h</div><div class="line">nginx-1.9.9/src/stream/ngx_stream_upstream_zone_module.c</div><div class="line">nginx-1.9.9/src/os/unix/</div><div class="line">nginx-1.9.9/src/os/unix/ngx_atomic.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_alloc.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_alloc.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_darwin_config.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_channel.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_channel.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_daemon.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_darwin.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_darwin_sendfile_chain.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_darwin_init.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_file_aio_read.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_errno.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_errno.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_freebsd.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_files.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_files.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_gcc_atomic_amd64.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_freebsd_config.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_freebsd_init.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_linux_config.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_linux.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_freebsd_sendfile_chain.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_gcc_atomic_ppc.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_gcc_atomic_sparc64.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_gcc_atomic_x86.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_linux_sendfile_chain.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_linux_aio_read.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_linux_init.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_posix_config.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_os.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_solaris_config.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_posix_init.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_process.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_process.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_process_cycle.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_process_cycle.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_readv_chain.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_recv.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_send.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_setaffinity.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_setaffinity.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_setproctitle.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_setproctitle.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_shmem.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_shmem.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_socket.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_socket.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_solaris.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_sunpro_atomic_sparc64.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_solaris_init.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_sunpro_amd64.il</div><div class="line">nginx-1.9.9/src/os/unix/ngx_solaris_sendfilev_chain.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_sunpro_sparc64.il</div><div class="line">nginx-1.9.9/src/os/unix/ngx_sunpro_x86.il</div><div class="line">nginx-1.9.9/src/os/unix/ngx_thread.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_thread_cond.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_thread_id.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_thread_mutex.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_time.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_time.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_udp_recv.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_user.c</div><div class="line">nginx-1.9.9/src/os/unix/ngx_user.h</div><div class="line">nginx-1.9.9/src/os/unix/ngx_writev_chain.c</div><div class="line">nginx-1.9.9/src/misc/ngx_google_perftools_module.c</div><div class="line">nginx-1.9.9/src/misc/ngx_cpp_test_module.cpp</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_handler.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail.h</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_auth_http_module.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_core_module.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_imap_handler.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_imap_module.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_imap_module.h</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_parse.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_pop3_handler.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_pop3_module.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_pop3_module.h</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_proxy_module.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_smtp_handler.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_smtp_module.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_smtp_module.h</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_ssl_module.c</div><div class="line">nginx-1.9.9/src/mail/ngx_mail_ssl_module.h</div><div class="line">nginx-1.9.9/src/http/modules/</div><div class="line">nginx-1.9.9/src/http/ngx_http_cache.h</div><div class="line">nginx-1.9.9/src/http/ngx_http.c</div><div class="line">nginx-1.9.9/src/http/ngx_http.h</div><div class="line">nginx-1.9.9/src/http/ngx_http_core_module.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_config.h</div><div class="line">nginx-1.9.9/src/http/ngx_http_postpone_filter_module.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_copy_filter_module.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_core_module.h</div><div class="line">nginx-1.9.9/src/http/ngx_http_file_cache.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_header_filter_module.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_parse.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_special_response.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_request.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_request.h</div><div class="line">nginx-1.9.9/src/http/ngx_http_request_body.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_script.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_script.h</div><div class="line">nginx-1.9.9/src/http/ngx_http_variables.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_upstream.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_upstream.h</div><div class="line">nginx-1.9.9/src/http/v2/</div><div class="line">nginx-1.9.9/src/http/ngx_http_upstream_round_robin.c</div><div class="line">nginx-1.9.9/src/http/ngx_http_upstream_round_robin.h</div><div class="line">nginx-1.9.9/src/http/ngx_http_variables.h</div><div class="line">nginx-1.9.9/src/http/ngx_http_write_filter_module.c</div><div class="line">nginx-1.9.9/src/http/v2/ngx_http_v2_module.c</div><div class="line">nginx-1.9.9/src/http/v2/ngx_http_v2.c</div><div class="line">nginx-1.9.9/src/http/v2/ngx_http_v2.h</div><div class="line">nginx-1.9.9/src/http/v2/ngx_http_v2_filter_module.c</div><div class="line">nginx-1.9.9/src/http/v2/ngx_http_v2_huff_decode.c</div><div class="line">nginx-1.9.9/src/http/v2/ngx_http_v2_huff_encode.c</div><div class="line">nginx-1.9.9/src/http/v2/ngx_http_v2_module.h</div><div class="line">nginx-1.9.9/src/http/v2/ngx_http_v2_table.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_addition_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_access_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_charset_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_auth_basic_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_auth_request_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_autoindex_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_browser_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_not_modified_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_chunked_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_dav_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_degradation_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_empty_gif_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_fastcgi_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_flv_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_geo_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_geoip_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_gunzip_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_gzip_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_gzip_static_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_headers_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_image_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_index_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_limit_conn_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_limit_req_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_log_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_map_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_memcached_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_mp4_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_random_index_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_proxy_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_upstream_ip_hash_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_range_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_realip_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_referer_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_rewrite_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_scgi_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_secure_link_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_slice_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_split_clients_module.c</div><div class="line">nginx-1.9.9/src/http/modules/perl/</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_ssi_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_ssi_filter_module.h</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_ssl_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_ssl_module.h</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_static_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_stub_status_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_sub_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_upstream_hash_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_xslt_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_upstream_keepalive_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_upstream_least_conn_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_upstream_zone_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_uwsgi_module.c</div><div class="line">nginx-1.9.9/src/http/modules/ngx_http_userid_filter_module.c</div><div class="line">nginx-1.9.9/src/http/modules/perl/Makefile.PL</div><div class="line">nginx-1.9.9/src/http/modules/perl/nginx.pm</div><div class="line">nginx-1.9.9/src/http/modules/perl/nginx.xs</div><div class="line">nginx-1.9.9/src/http/modules/perl/typemap</div><div class="line">nginx-1.9.9/src/http/modules/perl/ngx_http_perl_module.c</div><div class="line">nginx-1.9.9/src/http/modules/perl/ngx_http_perl_module.h</div><div class="line">nginx-1.9.9/src/event/modules/</div><div class="line">nginx-1.9.9/src/event/ngx_event_accept.c</div><div class="line">nginx-1.9.9/src/event/ngx_event.c</div><div class="line">nginx-1.9.9/src/event/ngx_event.h</div><div class="line">nginx-1.9.9/src/event/ngx_event_openssl_stapling.c</div><div class="line">nginx-1.9.9/src/event/ngx_event_connect.c</div><div class="line">nginx-1.9.9/src/event/ngx_event_connect.h</div><div class="line">nginx-1.9.9/src/event/ngx_event_openssl.c</div><div class="line">nginx-1.9.9/src/event/ngx_event_openssl.h</div><div class="line">nginx-1.9.9/src/event/ngx_event_pipe.c</div><div class="line">nginx-1.9.9/src/event/ngx_event_pipe.h</div><div class="line">nginx-1.9.9/src/event/ngx_event_posted.c</div><div class="line">nginx-1.9.9/src/event/ngx_event_posted.h</div><div class="line">nginx-1.9.9/src/event/ngx_event_timer.c</div><div class="line">nginx-1.9.9/src/event/ngx_event_timer.h</div><div class="line">nginx-1.9.9/src/event/modules/ngx_win32_select_module.c</div><div class="line">nginx-1.9.9/src/event/modules/ngx_devpoll_module.c</div><div class="line">nginx-1.9.9/src/event/modules/ngx_epoll_module.c</div><div class="line">nginx-1.9.9/src/event/modules/ngx_eventport_module.c</div><div class="line">nginx-1.9.9/src/event/modules/ngx_kqueue_module.c</div><div class="line">nginx-1.9.9/src/event/modules/ngx_poll_module.c</div><div class="line">nginx-1.9.9/src/event/modules/ngx_select_module.c</div><div class="line">nginx-1.9.9/src/core/ngx_array.c</div><div class="line">nginx-1.9.9/src/core/nginx.c</div><div class="line">nginx-1.9.9/src/core/nginx.h</div><div class="line">nginx-1.9.9/src/core/ngx_conf_file.c</div><div class="line">nginx-1.9.9/src/core/ngx_array.h</div><div class="line">nginx-1.9.9/src/core/ngx_buf.c</div><div class="line">nginx-1.9.9/src/core/ngx_buf.h</div><div class="line">nginx-1.9.9/src/core/ngx_connection.c</div><div class="line">nginx-1.9.9/src/core/ngx_conf_file.h</div><div class="line">nginx-1.9.9/src/core/ngx_config.h</div><div class="line">nginx-1.9.9/src/core/ngx_murmurhash.c</div><div class="line">nginx-1.9.9/src/core/ngx_file.c</div><div class="line">nginx-1.9.9/src/core/ngx_connection.h</div><div class="line">nginx-1.9.9/src/core/ngx_core.h</div><div class="line">nginx-1.9.9/src/core/ngx_cpuinfo.c</div><div class="line">nginx-1.9.9/src/core/ngx_crc.h</div><div class="line">nginx-1.9.9/src/core/ngx_crc32.c</div><div class="line">nginx-1.9.9/src/core/ngx_crc32.h</div><div class="line">nginx-1.9.9/src/core/ngx_crypt.c</div><div class="line">nginx-1.9.9/src/core/ngx_crypt.h</div><div class="line">nginx-1.9.9/src/core/ngx_cycle.c</div><div class="line">nginx-1.9.9/src/core/ngx_cycle.h</div><div class="line">nginx-1.9.9/src/core/ngx_file.h</div><div class="line">nginx-1.9.9/src/core/ngx_hash.c</div><div class="line">nginx-1.9.9/src/core/ngx_hash.h</div><div class="line">nginx-1.9.9/src/core/ngx_inet.c</div><div class="line">nginx-1.9.9/src/core/ngx_inet.h</div><div class="line">nginx-1.9.9/src/core/ngx_list.c</div><div class="line">nginx-1.9.9/src/core/ngx_list.h</div><div class="line">nginx-1.9.9/src/core/ngx_log.c</div><div class="line">nginx-1.9.9/src/core/ngx_log.h</div><div class="line">nginx-1.9.9/src/core/ngx_md5.c</div><div class="line">nginx-1.9.9/src/core/ngx_md5.h</div><div class="line">nginx-1.9.9/src/core/ngx_open_file_cache.c</div><div class="line">nginx-1.9.9/src/core/ngx_murmurhash.h</div><div class="line">nginx-1.9.9/src/core/ngx_thread_pool.c</div><div class="line">nginx-1.9.9/src/core/ngx_open_file_cache.h</div><div class="line">nginx-1.9.9/src/core/ngx_output_chain.c</div><div class="line">nginx-1.9.9/src/core/ngx_palloc.c</div><div class="line">nginx-1.9.9/src/core/ngx_palloc.h</div><div class="line">nginx-1.9.9/src/core/ngx_parse.c</div><div class="line">nginx-1.9.9/src/core/ngx_parse.h</div><div class="line">nginx-1.9.9/src/core/ngx_parse_time.c</div><div class="line">nginx-1.9.9/src/core/ngx_string.c</div><div class="line">nginx-1.9.9/src/core/ngx_parse_time.h</div><div class="line">nginx-1.9.9/src/core/ngx_proxy_protocol.c</div><div class="line">nginx-1.9.9/src/core/ngx_proxy_protocol.h</div><div class="line">nginx-1.9.9/src/core/ngx_queue.c</div><div class="line">nginx-1.9.9/src/core/ngx_queue.h</div><div class="line">nginx-1.9.9/src/core/ngx_radix_tree.c</div><div class="line">nginx-1.9.9/src/core/ngx_radix_tree.h</div><div class="line">nginx-1.9.9/src/core/ngx_rbtree.c</div><div class="line">nginx-1.9.9/src/core/ngx_rbtree.h</div><div class="line">nginx-1.9.9/src/core/ngx_regex.c</div><div class="line">nginx-1.9.9/src/core/ngx_regex.h</div><div class="line">nginx-1.9.9/src/core/ngx_resolver.c</div><div class="line">nginx-1.9.9/src/core/ngx_resolver.h</div><div class="line">nginx-1.9.9/src/core/ngx_rwlock.c</div><div class="line">nginx-1.9.9/src/core/ngx_rwlock.h</div><div class="line">nginx-1.9.9/src/core/ngx_sha1.h</div><div class="line">nginx-1.9.9/src/core/ngx_shmtx.c</div><div class="line">nginx-1.9.9/src/core/ngx_shmtx.h</div><div class="line">nginx-1.9.9/src/core/ngx_slab.c</div><div class="line">nginx-1.9.9/src/core/ngx_slab.h</div><div class="line">nginx-1.9.9/src/core/ngx_spinlock.c</div><div class="line">nginx-1.9.9/src/core/ngx_string.h</div><div class="line">nginx-1.9.9/src/core/ngx_syslog.c</div><div class="line">nginx-1.9.9/src/core/ngx_syslog.h</div><div class="line">nginx-1.9.9/src/core/ngx_thread_pool.h</div><div class="line">nginx-1.9.9/src/core/ngx_times.c</div><div class="line">nginx-1.9.9/src/core/ngx_times.h</div><div class="line">nginx-1.9.9/contrib/geo2nginx.pl</div><div class="line">nginx-1.9.9/contrib/README</div><div class="line">nginx-1.9.9/contrib/unicode2nginx/</div><div class="line">nginx-1.9.9/contrib/vim/</div><div class="line">nginx-1.9.9/contrib/vim/ftdetect/</div><div class="line">nginx-1.9.9/contrib/vim/indent/</div><div class="line">nginx-1.9.9/contrib/vim/syntax/</div><div class="line">nginx-1.9.9/contrib/vim/syntax/nginx.vim</div><div class="line">nginx-1.9.9/contrib/vim/indent/nginx.vim</div><div class="line">nginx-1.9.9/contrib/vim/ftdetect/nginx.vim</div><div class="line">nginx-1.9.9/contrib/unicode2nginx/koi-utf</div><div class="line">nginx-1.9.9/contrib/unicode2nginx/win-utf</div><div class="line">nginx-1.9.9/contrib/unicode2nginx/unicode-to-nginx.pl</div><div class="line">nginx-1.9.9/conf/fastcgi.conf</div><div class="line">nginx-1.9.9/conf/fastcgi_params</div><div class="line">nginx-1.9.9/conf/koi-utf</div><div class="line">nginx-1.9.9/conf/koi-win</div><div class="line">nginx-1.9.9/conf/mime.types</div><div class="line">nginx-1.9.9/conf/nginx.conf</div><div class="line">nginx-1.9.9/conf/scgi_params</div><div class="line">nginx-1.9.9/conf/uwsgi_params</div><div class="line">nginx-1.9.9/conf/win-utf</div><div class="line">nginx-1.9.9/auto/cc/</div><div class="line">nginx-1.9.9/auto/have_headers</div><div class="line">nginx-1.9.9/auto/define</div><div class="line">nginx-1.9.9/auto/endianness</div><div class="line">nginx-1.9.9/auto/feature</div><div class="line">nginx-1.9.9/auto/have</div><div class="line">nginx-1.9.9/auto/lib/</div><div class="line">nginx-1.9.9/auto/os/</div><div class="line">nginx-1.9.9/auto/headers</div><div class="line">nginx-1.9.9/auto/include</div><div class="line">nginx-1.9.9/auto/init</div><div class="line">nginx-1.9.9/auto/install</div><div class="line">nginx-1.9.9/auto/types/</div><div class="line">nginx-1.9.9/auto/make</div><div class="line">nginx-1.9.9/auto/modules</div><div class="line">nginx-1.9.9/auto/nohave</div><div class="line">nginx-1.9.9/auto/options</div><div class="line">nginx-1.9.9/auto/sources</div><div class="line">nginx-1.9.9/auto/stubs</div><div class="line">nginx-1.9.9/auto/summary</div><div class="line">nginx-1.9.9/auto/threads</div><div class="line">nginx-1.9.9/auto/unix</div><div class="line">nginx-1.9.9/auto/types/uintptr_t</div><div class="line">nginx-1.9.9/auto/types/sizeof</div><div class="line">nginx-1.9.9/auto/types/typedef</div><div class="line">nginx-1.9.9/auto/types/value</div><div class="line">nginx-1.9.9/auto/os/conf</div><div class="line">nginx-1.9.9/auto/os/darwin</div><div class="line">nginx-1.9.9/auto/os/freebsd</div><div class="line">nginx-1.9.9/auto/os/linux</div><div class="line">nginx-1.9.9/auto/os/solaris</div><div class="line">nginx-1.9.9/auto/os/win32</div><div class="line">nginx-1.9.9/auto/lib/geoip/</div><div class="line">nginx-1.9.9/auto/lib/conf</div><div class="line">nginx-1.9.9/auto/lib/google-perftools/</div><div class="line">nginx-1.9.9/auto/lib/libatomic/</div><div class="line">nginx-1.9.9/auto/lib/libgd/</div><div class="line">nginx-1.9.9/auto/lib/libxslt/</div><div class="line">nginx-1.9.9/auto/lib/md5/</div><div class="line">nginx-1.9.9/auto/lib/make</div><div class="line">nginx-1.9.9/auto/lib/openssl/</div><div class="line">nginx-1.9.9/auto/lib/pcre/</div><div class="line">nginx-1.9.9/auto/lib/perl/</div><div class="line">nginx-1.9.9/auto/lib/sha1/</div><div class="line">nginx-1.9.9/auto/lib/zlib/</div><div class="line">nginx-1.9.9/auto/lib/test</div><div class="line">nginx-1.9.9/auto/lib/zlib/makefile.bcc</div><div class="line">nginx-1.9.9/auto/lib/zlib/conf</div><div class="line">nginx-1.9.9/auto/lib/zlib/make</div><div class="line">nginx-1.9.9/auto/lib/zlib/makefile.msvc</div><div class="line">nginx-1.9.9/auto/lib/zlib/makefile.owc</div><div class="line">nginx-1.9.9/auto/lib/sha1/makefile.bcc</div><div class="line">nginx-1.9.9/auto/lib/sha1/conf</div><div class="line">nginx-1.9.9/auto/lib/sha1/make</div><div class="line">nginx-1.9.9/auto/lib/sha1/makefile.msvc</div><div class="line">nginx-1.9.9/auto/lib/sha1/makefile.owc</div><div class="line">nginx-1.9.9/auto/lib/perl/conf</div><div class="line">nginx-1.9.9/auto/lib/perl/make</div><div class="line">nginx-1.9.9/auto/lib/pcre/makefile.bcc</div><div class="line">nginx-1.9.9/auto/lib/pcre/conf</div><div class="line">nginx-1.9.9/auto/lib/pcre/make</div><div class="line">nginx-1.9.9/auto/lib/pcre/makefile.msvc</div><div class="line">nginx-1.9.9/auto/lib/pcre/makefile.owc</div><div class="line">nginx-1.9.9/auto/lib/openssl/makefile.bcc</div><div class="line">nginx-1.9.9/auto/lib/openssl/conf</div><div class="line">nginx-1.9.9/auto/lib/openssl/make</div><div class="line">nginx-1.9.9/auto/lib/openssl/makefile.msvc</div><div class="line">nginx-1.9.9/auto/lib/md5/makefile.bcc</div><div class="line">nginx-1.9.9/auto/lib/md5/conf</div><div class="line">nginx-1.9.9/auto/lib/md5/make</div><div class="line">nginx-1.9.9/auto/lib/md5/makefile.msvc</div><div class="line">nginx-1.9.9/auto/lib/md5/makefile.owc</div><div class="line">nginx-1.9.9/auto/lib/libxslt/conf</div><div class="line">nginx-1.9.9/auto/lib/libgd/conf</div><div class="line">nginx-1.9.9/auto/lib/libatomic/conf</div><div class="line">nginx-1.9.9/auto/lib/libatomic/make</div><div class="line">nginx-1.9.9/auto/lib/google-perftools/conf</div><div class="line">nginx-1.9.9/auto/lib/geoip/conf</div><div class="line">nginx-1.9.9/auto/cc/clang</div><div class="line">nginx-1.9.9/auto/cc/acc</div><div class="line">nginx-1.9.9/auto/cc/bcc</div><div class="line">nginx-1.9.9/auto/cc/ccc</div><div class="line">nginx-1.9.9/auto/cc/conf</div><div class="line">nginx-1.9.9/auto/cc/gcc</div><div class="line">nginx-1.9.9/auto/cc/icc</div><div class="line">nginx-1.9.9/auto/cc/msvc</div><div class="line">nginx-1.9.9/auto/cc/name</div><div class="line">nginx-1.9.9/auto/cc/owc</div><div class="line">nginx-1.9.9/auto/cc/sunc</div><div class="line">[fedora@ip-172-31-22-54 nginx]$ rm -r nginx-1.9.9.tar.gz </div><div class="line">[fedora@ip-172-31-22-54 nginx]$ ls</div><div class="line">nginx-1.9.9</div><div class="line">[fedora@ip-172-31-22-54 nginx]$ cd nginx-1.9.9/</div><div class="line">[fedora@ip-172-31-22-54 nginx-1.9.9]$ ls | wc -c</div><div class="line">75</div></pre></td></tr></table></figure>
<p>Notice: After extracting the source, there are 75 files added.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[fedora@ip-172-31-22-54 nginx-1.9.9]$ ./configure</div><div class="line">checking for OS</div><div class="line"> + Linux 4.2.3-300.fc23.x86_64 x86_64</div><div class="line">checking for C compiler ... not found</div><div class="line"></div><div class="line">./configure: error: C compiler cc is not found</div></pre></td></tr></table></figure>
<p>System need C compiler.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div></pre></td><td class="code"><pre><div class="line">[fedora@ip-172-31-22-54 nginx-1.9.9]$ sudo dnf install gcc</div><div class="line">Last metadata expiration check performed 2:54:43 ago on Mon Feb 20 06:50:08 2017.</div><div class="line">Dependencies resolved.</div><div class="line">=========================================================================================================</div><div class="line"> Package                     Arch                Version                      Repository            Size</div><div class="line">=========================================================================================================</div><div class="line">Installing:</div><div class="line"> binutils                    x86_64              2.25-17.fc23                 updates              5.6 M</div><div class="line"> cpp                         x86_64              5.3.1-6.fc23                 updates              8.3 M</div><div class="line"> gcc                         x86_64              5.3.1-6.fc23                 updates               19 M</div><div class="line"> glibc-devel                 x86_64              2.22-3.fc23                  fedora               909 k</div><div class="line"> glibc-headers               x86_64              2.22-3.fc23                  fedora               493 k</div><div class="line"> isl                         x86_64              0.14-4.fc23                  fedora               490 k</div><div class="line"> kernel-headers              x86_64              4.8.13-100.fc23              updates              1.0 M</div><div class="line"> libmpc                      x86_64              1.0.2-4.fc23                 fedora                55 k</div><div class="line"> mpfr                        x86_64              3.1.3-2.fc23                 updates              214 k</div><div class="line">Upgrading:</div><div class="line"> libgcc                      x86_64              5.3.1-6.fc23                 updates               92 k</div><div class="line"> libgomp                     x86_64              5.3.1-6.fc23                 updates              156 k</div><div class="line"></div><div class="line">Transaction Summary</div><div class="line">=========================================================================================================</div><div class="line">Install  9 Packages</div><div class="line">Upgrade  2 Packages</div><div class="line"></div><div class="line">Total download size: 36 M</div><div class="line">Is this ok [y/N]: y</div><div class="line">Downloading Packages:</div><div class="line">(1/11): cpp-5.3.1-6.fc23.x86_64.rpm                                      9.3 MB/s | 8.3 MB     00:00    </div><div class="line">(2/11): libmpc-1.0.2-4.fc23.x86_64.rpm                                    61 kB/s |  55 kB     00:00    </div><div class="line">(3/11): mpfr-3.1.3-2.fc23.x86_64.rpm                                     3.2 MB/s | 214 kB     00:00    </div><div class="line">(4/11): gcc-5.3.1-6.fc23.x86_64.rpm                                       10 MB/s |  19 MB     00:01    </div><div class="line">(5/11): binutils-2.25-17.fc23.x86_64.rpm                                 5.0 MB/s | 5.6 MB     00:01    </div><div class="line">(6/11): glibc-devel-2.22-3.fc23.x86_64.rpm                               815 kB/s | 909 kB     00:01    </div><div class="line">(7/11): kernel-headers-4.8.13-100.fc23.x86_64.rpm                        7.2 MB/s | 1.0 MB     00:00    </div><div class="line">(8/11): libgcc-5.1.1-4.fc23_5.3.1-6.fc23.x86_64.drpm                     481 kB/s |  35 kB     00:00    </div><div class="line">(9/11): libgomp-5.3.1-6.fc23.x86_64.rpm                                  2.3 MB/s | 156 kB     00:00    </div><div class="line">(10/11): isl-0.14-4.fc23.x86_64.rpm                                      602 kB/s | 490 kB     00:00    </div><div class="line">(11/11): glibc-headers-2.22-3.fc23.x86_64.rpm                            654 kB/s | 493 kB     00:00    </div><div class="line">[DRPM] libgcc-5.1.1-4.fc23_5.3.1-6.fc23.x86_64.drpm: done                                               </div><div class="line">---------------------------------------------------------------------------------------------------------</div><div class="line">Total                                                                     11 MB/s |  36 MB     00:03     </div><div class="line">Delta RPMs reduced 36.4 MB of updates to 36.4 MB (0.1% saved)</div><div class="line">Running transaction check</div><div class="line">Transaction check succeeded.</div><div class="line">Running transaction test</div><div class="line">Transaction test succeeded.</div><div class="line">Running transaction</div><div class="line">  Installing  : mpfr-3.1.3-2.fc23.x86_64                                                            1/13 </div><div class="line">  Installing  : libmpc-1.0.2-4.fc23.x86_64                                                          2/13 </div><div class="line">  Installing  : cpp-5.3.1-6.fc23.x86_64                                                             3/13 </div><div class="line">  Upgrading   : libgomp-5.3.1-6.fc23.x86_64                                                         4/13 </div><div class="line">  Upgrading   : libgcc-5.3.1-6.fc23.x86_64                                                          5/13 </div><div class="line">  Installing  : kernel-headers-4.8.13-100.fc23.x86_64                                               6/13 </div><div class="line">  Installing  : glibc-headers-2.22-3.fc23.x86_64                                                    7/13 </div><div class="line">  Installing  : glibc-devel-2.22-3.fc23.x86_64                                                      8/13 </div><div class="line">  Installing  : isl-0.14-4.fc23.x86_64                                                              9/13 </div><div class="line">  Installing  : binutils-2.25-17.fc23.x86_64                                                       10/13 </div><div class="line">  Installing  : gcc-5.3.1-6.fc23.x86_64                                                            11/13 </div><div class="line">  Cleanup     : libgomp-5.1.1-4.fc23.x86_64                                                        12/13 </div><div class="line">  Cleanup     : libgcc-5.1.1-4.fc23.x86_64                                                         13/13 </div><div class="line">  Verifying   : gcc-5.3.1-6.fc23.x86_64                                                             1/13 </div><div class="line">  Verifying   : cpp-5.3.1-6.fc23.x86_64                                                             2/13 </div><div class="line">  Verifying   : libmpc-1.0.2-4.fc23.x86_64                                                          3/13 </div><div class="line">  Verifying   : mpfr-3.1.3-2.fc23.x86_64                                                            4/13 </div><div class="line">  Verifying   : binutils-2.25-17.fc23.x86_64                                                        5/13 </div><div class="line">  Verifying   : glibc-devel-2.22-3.fc23.x86_64                                                      6/13 </div><div class="line">  Verifying   : isl-0.14-4.fc23.x86_64                                                              7/13 </div><div class="line">  Verifying   : glibc-headers-2.22-3.fc23.x86_64                                                    8/13 </div><div class="line">  Verifying   : kernel-headers-4.8.13-100.fc23.x86_64                                               9/13 </div><div class="line">  Verifying   : libgcc-5.3.1-6.fc23.x86_64                                                         10/13 </div><div class="line">  Verifying   : libgomp-5.3.1-6.fc23.x86_64                                                        11/13 </div><div class="line">  Verifying   : libgomp-5.1.1-4.fc23.x86_64                                                        12/13 </div><div class="line">  Verifying   : libgcc-5.1.1-4.fc23.x86_64                                                         13/13 </div><div class="line"></div><div class="line">Installed:</div><div class="line">  binutils.x86_64 2.25-17.fc23            cpp.x86_64 5.3.1-6.fc23            gcc.x86_64 5.3.1-6.fc23   </div><div class="line">  glibc-devel.x86_64 2.22-3.fc23          glibc-headers.x86_64 2.22-3.fc23   isl.x86_64 0.14-4.fc23    </div><div class="line">  kernel-headers.x86_64 4.8.13-100.fc23   libmpc.x86_64 1.0.2-4.fc23         mpfr.x86_64 3.1.3-2.fc23  </div><div class="line"></div><div class="line">Upgraded:</div><div class="line">  libgcc.x86_64 5.3.1-6.fc23                         libgomp.x86_64 5.3.1-6.fc23                        </div><div class="line"></div><div class="line">Complete!</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div></pre></td><td class="code"><pre><div class="line">[fedora@ip-172-31-22-54 nginx-1.9.9]$ ./configure</div><div class="line">checking for OS</div><div class="line"> + Linux 4.2.3-300.fc23.x86_64 x86_64</div><div class="line">checking for C compiler ... found</div><div class="line"> + using GNU C compiler</div><div class="line"> + gcc version: 5.3.1 20160406 (Red Hat 5.3.1-6) (GCC) </div><div class="line">checking for gcc -pipe switch ... found</div><div class="line">checking for gcc builtin atomic operations ... found</div><div class="line">checking for C99 variadic macros ... found</div><div class="line">checking for gcc variadic macros ... found</div><div class="line">checking for unistd.h ... found</div><div class="line">checking for inttypes.h ... found</div><div class="line">checking for limits.h ... found</div><div class="line">checking for sys/filio.h ... not found</div><div class="line">checking for sys/param.h ... found</div><div class="line">checking for sys/mount.h ... found</div><div class="line">checking for sys/statvfs.h ... found</div><div class="line">checking for crypt.h ... found</div><div class="line">checking for Linux specific features</div><div class="line">checking for epoll ... found</div><div class="line">checking for EPOLLRDHUP ... found</div><div class="line">checking for O_PATH ... found</div><div class="line">checking for sendfile() ... found</div><div class="line">checking for sendfile64() ... found</div><div class="line">checking for sys/prctl.h ... found</div><div class="line">checking for prctl(PR_SET_DUMPABLE) ... found</div><div class="line">checking for sched_setaffinity() ... found</div><div class="line">checking for crypt_r() ... found</div><div class="line">checking for sys/vfs.h ... found</div><div class="line">checking for nobody group ... found</div><div class="line">checking for poll() ... found</div><div class="line">checking for /dev/poll ... not found</div><div class="line">checking for kqueue ... not found</div><div class="line">checking for crypt() ... not found</div><div class="line">checking for crypt() in libcrypt ... found</div><div class="line">checking for F_READAHEAD ... not found</div><div class="line">checking for posix_fadvise() ... found</div><div class="line">checking for O_DIRECT ... found</div><div class="line">checking for F_NOCACHE ... not found</div><div class="line">checking for directio() ... not found</div><div class="line">checking for statfs() ... found</div><div class="line">checking for statvfs() ... found</div><div class="line">checking for dlopen() ... not found</div><div class="line">checking for dlopen() in libdl ... found</div><div class="line">checking for sched_yield() ... found</div><div class="line">checking for SO_SETFIB ... not found</div><div class="line">checking for SO_REUSEPORT ... found</div><div class="line">checking for SO_ACCEPTFILTER ... not found</div><div class="line">checking for TCP_DEFER_ACCEPT ... found</div><div class="line">checking for TCP_KEEPIDLE ... found</div><div class="line">checking for TCP_FASTOPEN ... found</div><div class="line">checking for TCP_INFO ... found</div><div class="line">checking for accept4() ... found</div><div class="line">checking for eventfd() ... found</div><div class="line">checking for int size ... 4 bytes</div><div class="line">checking for long size ... 8 bytes</div><div class="line">checking for long long size ... 8 bytes</div><div class="line">checking for void * size ... 8 bytes</div><div class="line">checking for uint64_t ... found</div><div class="line">checking for sig_atomic_t ... found</div><div class="line">checking for sig_atomic_t size ... 4 bytes</div><div class="line">checking for socklen_t ... found</div><div class="line">checking for in_addr_t ... found</div><div class="line">checking for in_port_t ... found</div><div class="line">checking for rlim_t ... found</div><div class="line">checking for uintptr_t ... uintptr_t found</div><div class="line">checking for system byte ordering ... little endian</div><div class="line">checking for size_t size ... 8 bytes</div><div class="line">checking for off_t size ... 8 bytes</div><div class="line">checking for time_t size ... 8 bytes</div><div class="line">checking for setproctitle() ... not found</div><div class="line">checking for pread() ... found</div><div class="line">checking for pwrite() ... found</div><div class="line">checking for pwritev() ... found</div><div class="line">checking for sys_nerr ... found</div><div class="line">checking for localtime_r() ... found</div><div class="line">checking for posix_memalign() ... found</div><div class="line">checking for memalign() ... found</div><div class="line">checking for mmap(MAP_ANON|MAP_SHARED) ... found</div><div class="line">checking for mmap(&quot;/dev/zero&quot;, MAP_SHARED) ... found</div><div class="line">checking for System V shared memory ... found</div><div class="line">checking for POSIX semaphores ... not found</div><div class="line">checking for POSIX semaphores in libpthread ... found</div><div class="line">checking for struct msghdr.msg_control ... found</div><div class="line">checking for ioctl(FIONBIO) ... found</div><div class="line">checking for struct tm.tm_gmtoff ... found</div><div class="line">checking for struct dirent.d_namlen ... not found</div><div class="line">checking for struct dirent.d_type ... found</div><div class="line">checking for sysconf(_SC_NPROCESSORS_ONLN) ... found</div><div class="line">checking for openat(), fstatat() ... found</div><div class="line">checking for getaddrinfo() ... found</div><div class="line">checking for PCRE library ... not found</div><div class="line">checking for PCRE library in /usr/local/ ... not found</div><div class="line">checking for PCRE library in /usr/include/pcre/ ... not found</div><div class="line">checking for PCRE library in /usr/pkg/ ... not found</div><div class="line">checking for PCRE library in /opt/local/ ... not found</div><div class="line"></div><div class="line">./configure: error: the HTTP rewrite module requires the PCRE library.</div><div class="line">You can either disable the module by using --without-http_rewrite_module</div><div class="line">option, or install the PCRE library into the system, or build the PCRE library</div><div class="line">statically from the source with nginx by using --with-pcre=&lt;path&gt; option.</div></pre></td></tr></table></figure>
<p>System need <code>make</code> package</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div></pre></td><td class="code"><pre><div class="line">[fedora@ip-172-31-22-54 nginx-1.9.9]$ make</div><div class="line">-bash: make: command not found</div><div class="line">[fedora@ip-172-31-22-54 nginx-1.9.9]$ sudo dnf install make</div><div class="line">Last metadata expiration check performed 0:01:37 ago on Mon Feb 20 09:50:49 2017.</div><div class="line">Dependencies resolved.</div><div class="line">=========================================================================================================</div><div class="line"> Package              Arch                   Version                        Repository              Size</div><div class="line">=========================================================================================================</div><div class="line">Installing:</div><div class="line"> make                 x86_64                 1:4.0-5.1.fc23                 fedora                 449 k</div><div class="line"></div><div class="line">Transaction Summary</div><div class="line">=========================================================================================================</div><div class="line">Install  1 Package</div><div class="line"></div><div class="line">Total download size: 449 k</div><div class="line">Installed size: 1.2 M</div><div class="line">Is this ok [y/N]: y</div><div class="line">Downloading Packages:</div><div class="line">make-4.0-5.1.fc23.x86_64.rpm                                             4.7 MB/s | 449 kB     00:00    </div><div class="line">---------------------------------------------------------------------------------------------------------</div><div class="line">Total                                                                    733 kB/s | 449 kB     00:00     </div><div class="line">Running transaction check</div><div class="line">Transaction check succeeded.</div><div class="line">Running transaction test</div><div class="line">Transaction test succeeded.</div><div class="line">Running transaction</div><div class="line">  Installing  : make-1:4.0-5.1.fc23.x86_64                                                           1/1 </div><div class="line">  Verifying   : make-1:4.0-5.1.fc23.x86_64                                                           1/1 </div><div class="line"></div><div class="line">Installed:</div><div class="line">  make.x86_64 1:4.0-5.1.fc23                                                                             </div><div class="line"></div><div class="line">Complete!</div><div class="line">[fedora@ip-172-31-22-54 nginx-1.9.9]$ ./configure --without-http_rewrite_module --without-http_gzip_module</div><div class="line">checking for OS</div><div class="line"> + Linux 4.2.3-300.fc23.x86_64 x86_64</div><div class="line">checking for C compiler ... found</div><div class="line"> + using GNU C compiler</div><div class="line"> + gcc version: 5.3.1 20160406 (Red Hat 5.3.1-6) (GCC) </div><div class="line">checking for gcc -pipe switch ... found</div><div class="line">checking for gcc builtin atomic operations ... found</div><div class="line">checking for C99 variadic macros ... found</div><div class="line">checking for gcc variadic macros ... found</div><div class="line">checking for unistd.h ... found</div><div class="line">checking for inttypes.h ... found</div><div class="line">checking for limits.h ... found</div><div class="line">checking for sys/filio.h ... not found</div><div class="line">checking for sys/param.h ... found</div><div class="line">checking for sys/mount.h ... found</div><div class="line">checking for sys/statvfs.h ... found</div><div class="line">checking for crypt.h ... found</div><div class="line">checking for Linux specific features</div><div class="line">checking for epoll ... found</div><div class="line">checking for EPOLLRDHUP ... found</div><div class="line">checking for O_PATH ... found</div><div class="line">checking for sendfile() ... found</div><div class="line">checking for sendfile64() ... found</div><div class="line">checking for sys/prctl.h ... found</div><div class="line">checking for prctl(PR_SET_DUMPABLE) ... found</div><div class="line">checking for sched_setaffinity() ... found</div><div class="line">checking for crypt_r() ... found</div><div class="line">checking for sys/vfs.h ... found</div><div class="line">checking for nobody group ... found</div><div class="line">checking for poll() ... found</div><div class="line">checking for /dev/poll ... not found</div><div class="line">checking for kqueue ... not found</div><div class="line">checking for crypt() ... not found</div><div class="line">checking for crypt() in libcrypt ... found</div><div class="line">checking for F_READAHEAD ... not found</div><div class="line">checking for posix_fadvise() ... found</div><div class="line">checking for O_DIRECT ... found</div><div class="line">checking for F_NOCACHE ... not found</div><div class="line">checking for directio() ... not found</div><div class="line">checking for statfs() ... found</div><div class="line">checking for statvfs() ... found</div><div class="line">checking for dlopen() ... not found</div><div class="line">checking for dlopen() in libdl ... found</div><div class="line">checking for sched_yield() ... found</div><div class="line">checking for SO_SETFIB ... not found</div><div class="line">checking for SO_REUSEPORT ... found</div><div class="line">checking for SO_ACCEPTFILTER ... not found</div><div class="line">checking for TCP_DEFER_ACCEPT ... found</div><div class="line">checking for TCP_KEEPIDLE ... found</div><div class="line">checking for TCP_FASTOPEN ... found</div><div class="line">checking for TCP_INFO ... found</div><div class="line">checking for accept4() ... found</div><div class="line">checking for eventfd() ... found</div><div class="line">checking for int size ... 4 bytes</div><div class="line">checking for long size ... 8 bytes</div><div class="line">checking for long long size ... 8 bytes</div><div class="line">checking for void * size ... 8 bytes</div><div class="line">checking for uint64_t ... found</div><div class="line">checking for sig_atomic_t ... found</div><div class="line">checking for sig_atomic_t size ... 4 bytes</div><div class="line">checking for socklen_t ... found</div><div class="line">checking for in_addr_t ... found</div><div class="line">checking for in_port_t ... found</div><div class="line">checking for rlim_t ... found</div><div class="line">checking for uintptr_t ... uintptr_t found</div><div class="line">checking for system byte ordering ... little endian</div><div class="line">checking for size_t size ... 8 bytes</div><div class="line">checking for off_t size ... 8 bytes</div><div class="line">checking for time_t size ... 8 bytes</div><div class="line">checking for setproctitle() ... not found</div><div class="line">checking for pread() ... found</div><div class="line">checking for pwrite() ... found</div><div class="line">checking for pwritev() ... found</div><div class="line">checking for sys_nerr ... found</div><div class="line">checking for localtime_r() ... found</div><div class="line">checking for posix_memalign() ... found</div><div class="line">checking for memalign() ... found</div><div class="line">checking for mmap(MAP_ANON|MAP_SHARED) ... found</div><div class="line">checking for mmap(&quot;/dev/zero&quot;, MAP_SHARED) ... found</div><div class="line">checking for System V shared memory ... found</div><div class="line">checking for POSIX semaphores ... not found</div><div class="line">checking for POSIX semaphores in libpthread ... found</div><div class="line">checking for struct msghdr.msg_control ... found</div><div class="line">checking for ioctl(FIONBIO) ... found</div><div class="line">checking for struct tm.tm_gmtoff ... found</div><div class="line">checking for struct dirent.d_namlen ... not found</div><div class="line">checking for struct dirent.d_type ... found</div><div class="line">checking for sysconf(_SC_NPROCESSORS_ONLN) ... found</div><div class="line">checking for openat(), fstatat() ... found</div><div class="line">checking for getaddrinfo() ... found</div><div class="line">checking for md5 in system md library ... not found</div><div class="line">checking for md5 in system md5 library ... not found</div><div class="line">checking for md5 in system OpenSSL crypto library ... not found</div><div class="line">checking for sha1 in system md library ... not found</div><div class="line">checking for sha1 in system OpenSSL crypto library ... not found</div><div class="line">creating objs/Makefile</div><div class="line"></div><div class="line">Configuration summary</div><div class="line">  + PCRE library is not used</div><div class="line">  + OpenSSL library is not used</div><div class="line">  + using builtin md5 code</div><div class="line">  + sha1 library is not found</div><div class="line">  + zlib library is not used</div><div class="line"></div><div class="line">  nginx path prefix: &quot;/usr/local/nginx&quot;</div><div class="line">  nginx binary file: &quot;/usr/local/nginx/sbin/nginx&quot;</div><div class="line">  nginx configuration prefix: &quot;/usr/local/nginx/conf&quot;</div><div class="line">  nginx configuration file: &quot;/usr/local/nginx/conf/nginx.conf&quot;</div><div class="line">  nginx pid file: &quot;/usr/local/nginx/logs/nginx.pid&quot;</div><div class="line">  nginx error log file: &quot;/usr/local/nginx/logs/error.log&quot;</div><div class="line">  nginx http access log file: &quot;/usr/local/nginx/logs/access.log&quot;</div><div class="line">  nginx http client request body temporary files: &quot;client_body_temp&quot;</div><div class="line">  nginx http proxy temporary files: &quot;proxy_temp&quot;</div><div class="line">  nginx http fastcgi temporary files: &quot;fastcgi_temp&quot;</div><div class="line">  nginx http uwsgi temporary files: &quot;uwsgi_temp&quot;</div><div class="line">  nginx http scgi temporary files: &quot;scgi_temp&quot;</div><div class="line"></div><div class="line">[fedora@ip-172-31-22-54 nginx-1.9.9]$ make</div><div class="line">...(omit console print)</div><div class="line">[fedora@ip-172-31-22-54 nginx-1.9.9]$ sudo make install</div><div class="line">make -f objs/Makefile install</div><div class="line">make[1]: Entering directory &apos;/home/fedora/nginx/nginx-1.9.9&apos;</div><div class="line">test -d &apos;/usr/local/nginx&apos; || mkdir -p &apos;/usr/local/nginx&apos;</div><div class="line">test -d &apos;/usr/local/nginx/sbin&apos; 		|| mkdir -p &apos;/usr/local/nginx/sbin&apos;</div><div class="line">test ! -f &apos;/usr/local/nginx/sbin/nginx&apos; 		|| mv &apos;/usr/local/nginx/sbin/nginx&apos; 		&apos;/usr/local/nginx/sbin/nginx.old&apos;</div><div class="line">cp objs/nginx &apos;/usr/local/nginx/sbin/nginx&apos;</div><div class="line">test -d &apos;/usr/local/nginx/conf&apos; 		|| mkdir -p &apos;/usr/local/nginx/conf&apos;</div><div class="line">cp conf/koi-win &apos;/usr/local/nginx/conf&apos;</div><div class="line">cp conf/koi-utf &apos;/usr/local/nginx/conf&apos;</div><div class="line">cp conf/win-utf &apos;/usr/local/nginx/conf&apos;</div><div class="line">test -f &apos;/usr/local/nginx/conf/mime.types&apos; 		|| cp conf/mime.types &apos;/usr/local/nginx/conf&apos;</div><div class="line">cp conf/mime.types &apos;/usr/local/nginx/conf/mime.types.default&apos;</div><div class="line">test -f &apos;/usr/local/nginx/conf/fastcgi_params&apos; 		|| cp conf/fastcgi_params &apos;/usr/local/nginx/conf&apos;</div><div class="line">cp conf/fastcgi_params 		&apos;/usr/local/nginx/conf/fastcgi_params.default&apos;</div><div class="line">test -f &apos;/usr/local/nginx/conf/fastcgi.conf&apos; 		|| cp conf/fastcgi.conf &apos;/usr/local/nginx/conf&apos;</div><div class="line">cp conf/fastcgi.conf &apos;/usr/local/nginx/conf/fastcgi.conf.default&apos;</div><div class="line">test -f &apos;/usr/local/nginx/conf/uwsgi_params&apos; 		|| cp conf/uwsgi_params &apos;/usr/local/nginx/conf&apos;</div><div class="line">cp conf/uwsgi_params 		&apos;/usr/local/nginx/conf/uwsgi_params.default&apos;</div><div class="line">test -f &apos;/usr/local/nginx/conf/scgi_params&apos; 		|| cp conf/scgi_params &apos;/usr/local/nginx/conf&apos;</div><div class="line">cp conf/scgi_params 		&apos;/usr/local/nginx/conf/scgi_params.default&apos;</div><div class="line">test -f &apos;/usr/local/nginx/conf/nginx.conf&apos; 		|| cp conf/nginx.conf &apos;/usr/local/nginx/conf/nginx.conf&apos;</div><div class="line">cp conf/nginx.conf &apos;/usr/local/nginx/conf/nginx.conf.default&apos;</div><div class="line">test -d &apos;/usr/local/nginx/logs&apos; 		|| mkdir -p &apos;/usr/local/nginx/logs&apos;</div><div class="line">test -d &apos;/usr/local/nginx/logs&apos; || 		mkdir -p &apos;/usr/local/nginx/logs&apos;</div><div class="line">test -d &apos;/usr/local/nginx/html&apos; 		|| cp -R html &apos;/usr/local/nginx&apos;</div><div class="line">test -d &apos;/usr/local/nginx/logs&apos; || 		mkdir -p &apos;/usr/local/nginx/logs&apos;</div><div class="line">make[1]: Leaving directory &apos;/home/fedora/nginx/nginx-1.9.9&apos;</div><div class="line">[fedora@ip-172-31-22-54 nginx-1.9.9]$</div></pre></td></tr></table></figure>
<p>Add /usr/local/nginx to the $PATH.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[fedora@ip-172-31-22-54 sbin]$ vi ~/.bashrc</div></pre></td></tr></table></figure></p>
<p>add these at the end of file:<br>export PATH=$PATH:/usr/local/nginx/sbin</p>
<h3 id="Build-manually-from-source-Q-amp-A"><a href="#Build-manually-from-source-Q-amp-A" class="headerlink" title="Build manually from source Q&amp;A"></a>Build manually from source Q&amp;A</h3><ul>
<li>What additional software did you have to install?</li>
</ul>
<ul>
<li>A: gcc, make</li>
</ul>
<ul>
<li>How did you install these pre-requisites? Can you do this without using any package manager at all (i.e. everything from source)?</li>
</ul>
<ul>
<li>A: I use dnf install gcc and make. Maybe I can, but there are too many packages are related. It’s a really heavy work. </li>
</ul>
<ul>
<li>How many new files were added?</li>
<li>A: Around Mon Feb 20 09:45:08 2017 , added <code>gcc</code>.<br>Use the same way like above.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[fedora@ip-172-31-22-54 sbin]$ sudo find / -cmin -50 | grep &apos;\/&apos; -c</div><div class="line">find: ‘/proc/16447/task/16447/fd/6’: No such file or directory</div><div class="line">find: ‘/proc/16447/task/16447/fdinfo/6’: No such file or directory</div><div class="line">find: ‘/proc/16447/fd/5’: No such file or directory</div><div class="line">find: ‘/proc/16447/fdinfo/5’: No such file or directory</div><div class="line">11154</div><div class="line">[fedora@ip-172-31-22-54 sbin]$ sudo find / -cmin -40 | grep &apos;\/&apos; -c</div><div class="line">find: ‘/proc/16459/task/16459/fd/6’: No such file or directory</div><div class="line">find: ‘/proc/16459/task/16459/fdinfo/6’: No such file or directory</div><div class="line">find: ‘/proc/16459/fd/5’: No such file or directory</div><div class="line">find: ‘/proc/16459/fdinfo/5’: No such file or directory</div><div class="line">8422</div></pre></td></tr></table></figure>
<p>So there are about 11154-6422+75=2870 new files.</p>
<ul>
<li>Did this software use any of the added packages you had installed in the previous step? Why / why not?</li>
</ul>
<ul>
<li>A: Yes, the software command <code>configure</code> need C compiler to compile and run.<br>Then need tool <code>make</code> to create Makefile and set file environment.</li>
</ul>
<ul>
<li>Does this version of the software have feature parity with the binary package above? Are there some features enabled in one version that are not enabled in the other?</li>
</ul>
<ul>
<li>A: No. When I use <code>configure</code>, the system told me can’t run these two modules:<br>http_rewrite_module, http_gzip_module.<br>Because there are not PCRE library and zilb library. The first instance didn’t tell me that.</li>
</ul>
<ul>
<li>Which directories did the software get installed into?</li>
<li><p>A: /usr/local/nginx. (refer from tutorial)</p>
</li>
<li><p>How do you know you didn’t get any backdoors installed?<br>If we install manually from source, we only rely on the trust of source.</p>
</li>
<li>A: I can use command <code>top</code> and <code>netstat</code> to check if there is suspicious progress running or port has been occupied. But it’s still not a reliable method.</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Using the AWS-CLI to Set Instance]]></title>
      <url>https://AnkaiLiang.github.io/2017/08/16/Using-the-AWS-CLI-to-set-instance/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<h1 id="Using-the-AWS-CLI-to-set-instance"><a href="#Using-the-AWS-CLI-to-set-instance" class="headerlink" title="Using the AWS-CLI to set instance"></a>Using the AWS-CLI to set instance</h1><ul>
<li>CS615</li>
<li>Ankai Liang</li>
<li>10411998</li>
<li>link: <a href="http://www.cs.stevens.edu/~jschauma/615/s17-hw2.html" target="_blank" rel="external">http://www.cs.stevens.edu/~jschauma/615/s17-hw2.html</a></li>
</ul>
<h2 id="Run-1"><a href="#Run-1" class="headerlink" title="Run 1"></a>Run 1</h2><h3 id="Use-script-to-log"><a href="#Use-script-to-log" class="headerlink" title="Use script to log"></a>Use <code>script</code> to log</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">KKs-MacBook-Air:~ kk$ Script -ar timestamps</div><div class="line">Script started, output file is timestamps</div></pre></td></tr></table></figure>
<h3 id="Create-two-AWS-instances-of-a-given-OS-First-time-I-choose-OmniOS"><a href="#Create-two-AWS-instances-of-a-given-OS-First-time-I-choose-OmniOS" class="headerlink" title="Create two AWS instances of a given OS (First time I choose OmniOS)"></a>Create two AWS instances of a given OS (First time I choose OmniOS)</h3><p>Using the infomation in Assignment1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 run-instances --image-id ami-50ecc847 --count 2 --instance-type t1.micro --key-name keypair3 --security-groups mysg</div><div class="line">&#123;</div><div class="line">    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">    &quot;ReservationId&quot;: &quot;r-0226656e8c065402b&quot;, </div><div class="line">    &quot;Groups&quot;: [], </div><div class="line">    &quot;Instances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;KernelId&quot;: &quot;aki-b4aa75dd&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-02-12T21:35:12.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.51.44&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-0f177e140a2d45383&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-50ecc847&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-51-44.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;12:4e:f4:9c:4c:1e&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-fc54fa0e&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-51-44.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.51.44&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-51-44.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-93f26ab9&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-02-12T21:35:12.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.51.44&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 1</div><div class="line">        &#125;, </div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;KernelId&quot;: &quot;aki-b4aa75dd&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-02-12T21:35:12.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.57.85&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-0ab15f53de99f4dff&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-50ecc847&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-57-85.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;12:6a:12:1b:97:60&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-ff54fa0d&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-57-85.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.57.85&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-57-85.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-94f26abe&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-02-12T21:35:12.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.57.85&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 0</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Get-the-info-of-my-two-instances"><a href="#Get-the-info-of-my-two-instances" class="headerlink" title="Get the info of my two instances"></a>Get the info of my two instances</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 describe-instances --filters &quot;Name=image-id,Values=ami-50ecc847&quot;</div><div class="line">&#123;</div><div class="line">    &quot;Reservations&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-0226656e8c065402b&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-54-82-89-190.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-02-12T22:04:23.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;54.82.89.190&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.51.44&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-0f177e140a2d45383&quot;, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-50ecc847&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-51-44.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;12:4e:f4:9c:4c:1e&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;54.82.89.190&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-54-82-89-190.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-fc54fa0e&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-51-44.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;54.82.89.190&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-54-82-89-190.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.51.44&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-51-44.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-93f26ab9&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-12T21:35:12.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.51.44&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-05a3a6b06a43fc4b6&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-12T21:35:13.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;, </div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/sdf&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: false, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-09a61b9189216583f&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-12T21:49:38.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;KernelId&quot;: &quot;aki-b4aa75dd&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 1</div><div class="line">                &#125;, </div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-52-55-98-238.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-02-12T21:35:12.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;52.55.98.238&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.57.85&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-0ab15f53de99f4dff&quot;, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-50ecc847&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-57-85.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;12:6a:12:1b:97:60&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;52.55.98.238&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-52-55-98-238.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-ff54fa0d&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-57-85.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;52.55.98.238&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-52-55-98-238.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.57.85&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-57-85.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-94f26abe&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-12T21:35:12.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.57.85&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-0e47feae707a44536&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-12T21:35:13.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;KernelId&quot;: &quot;aki-b4aa75dd&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;, </div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-0b0ff317e4b1acab4&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">                    &quot;KernelId&quot;: &quot;aki-b4aa75dd&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 48, </div><div class="line">                        &quot;Name&quot;: &quot;terminated&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-02-12T20:13:47.000Z&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;User initiated (2017-02-12 21:33:48 GMT)&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-06d4cb4ecd0874992&quot;, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-50ecc847&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [], </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;StateReason&quot;: &#123;</div><div class="line">                        &quot;Message&quot;: &quot;Client.UserInitiatedShutdown: User initiated shutdown&quot;, </div><div class="line">                        &quot;Code&quot;: &quot;Client.UserInitiatedShutdown&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 1</div><div class="line">                &#125;, </div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">                    &quot;KernelId&quot;: &quot;aki-b4aa75dd&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 48, </div><div class="line">                        &quot;Name&quot;: &quot;terminated&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-02-12T20:13:47.000Z&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;User initiated (2017-02-12 21:33:48 GMT)&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-0d371a9afb03cea66&quot;, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-50ecc847&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [], </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;StateReason&quot;: &#123;</div><div class="line">                        &quot;Message&quot;: &quot;Client.UserInitiatedShutdown: User initiated shutdown&quot;, </div><div class="line">                        &quot;Code&quot;: &quot;Client.UserInitiatedShutdown&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Create-a-1GB-volume-and-attach-it-to-one-of-the-instances"><a href="#Create-a-1GB-volume-and-attach-it-to-one-of-the-instances" class="headerlink" title="Create a 1GB volume and attach it to one of the instances"></a>Create a 1GB volume and attach it to one of the instances</h3><p>According to the above infomation, I knew the instances-id and public DNS of my two running OmniOs instances:</p>
<ol>
<li>i-0ab15f53de99f4dff    ec2-52-55-98-238.compute-1.amazonaws.com</li>
<li>i-0f177e140a2d45383    ec2-54-166-108-26.compute-1.amazonaws.com</li>
</ol>
<p>Because I used to reboot the second instance, the public DNS has changed. It’s not a necessary step, I omit that part.</p>
<p>And their “AvailabilityZone” is “us-east-1d”<br>I create the colume and attach it to the first instance “/dev/sdf”.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 create-volume --no-dry-run --size 1 --availability-zone us-east-1d --volume-type gp2 --no-encrypted</div><div class="line">&#123;</div><div class="line">    &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;, </div><div class="line">    &quot;Encrypted&quot;: false, </div><div class="line">    &quot;VolumeType&quot;: &quot;gp2&quot;, </div><div class="line">    &quot;VolumeId&quot;: &quot;vol-0a3064debd17cede4&quot;, </div><div class="line">    &quot;State&quot;: &quot;creating&quot;, </div><div class="line">    &quot;Iops&quot;: 100, </div><div class="line">    &quot;SnapshotId&quot;: &quot;&quot;, </div><div class="line">    &quot;CreateTime&quot;: &quot;2017-02-13T05:19:24.216Z&quot;, </div><div class="line">    &quot;Size&quot;: 1</div><div class="line">&#125;</div><div class="line"></div><div class="line">bash-3.2$ aws ec2 attach-volume --volume-id vol-0a3064debd17cede4 --instance-id i-0ab15f53de99f4dff --device /dev/sdg</div><div class="line">&#123;</div><div class="line">    &quot;AttachTime&quot;: &quot;2017-02-13T05:20:41.520Z&quot;, </div><div class="line">    &quot;InstanceId&quot;: &quot;i-0ab15f53de99f4dff&quot;, </div><div class="line">    &quot;VolumeId&quot;: &quot;vol-0a3064debd17cede4&quot;, </div><div class="line">    &quot;State&quot;: &quot;attaching&quot;, </div><div class="line">    &quot;Device&quot;: &quot;/dev/sdg&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Create-the-file-system-in-the-volume-mount-it-to-the-first-instance-then-create-a-file"><a href="#Create-the-file-system-in-the-volume-mount-it-to-the-first-instance-then-create-a-file" class="headerlink" title="Create the file system in the volume, mount it to the first instance then create a file."></a>Create the file system in the volume, mount it to the first instance then create a file.</h3><p>In this section, I met a lot of troubles to create the file system. After command <code>format</code>, I got the DISK device-name is ‘c1t2144d0’.<br>But I cannot run by command <code>newfs c1t2144d0</code> or <code>newfs /devices/xpvd/xdf@2144</code>. CLI told me “it’s not a raw device”. After searching lots of blog and tutorial, I knew that newfs parameter ‘address’ should locate into <code>/dev/rdsk</code>. But under the directory <code>/dev/rdsk</code>, there isn’t file whose name is ‘c1t2144d0’. By comparing the example command and the files name in <code>/dev/rdsk</code>, I realized that the volume has been divided into slices, and I should use the ‘c1t2144d0s0’ as the part of parameter.</p>
<p>In the OmniOS, I create a UFS file system. The OmniOS also support ZFS, but the creation of ZFS is more complecate than UFS.<br>Using the command <code>newfs</code>. <code>newfs</code> is a friendly front-end command of <code>mkfs</code>. It could caculate the properly parameters then transfer to <code>mkfs</code> to run. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">root@ip-10-152-178-106.ec2.internal:/root# format</div><div class="line">Searching for disks...done</div><div class="line"></div><div class="line"></div><div class="line">AVAILABLE DISK SELECTIONS:</div><div class="line">       0. c1t2048d0 &lt;Unknown-Unknown-0001 cyl 4085 alt 2 hd 128 sec 32&gt;</div><div class="line">          /xpvd/xdf@2048</div><div class="line">       1. c1t2144d0 &lt;Unknown-Unknown-0001 cyl 1024 alt 0 hd 64 sec 32&gt;</div><div class="line">          /xpvd/xdf@2144</div><div class="line">Specify disk (enter its number): 1</div><div class="line">selecting c1t2144d0</div><div class="line">[disk formatted, no defect list found]</div><div class="line">No Solaris fdisk partition found.</div><div class="line"></div><div class="line"></div><div class="line">FORMAT MENU:</div><div class="line">        disk       - select a disk</div><div class="line">        type       - select (define) a disk type</div><div class="line">        partition  - select (define) a partition table</div><div class="line">        current    - describe the current disk</div><div class="line">        format     - format and analyze the disk</div><div class="line">        fdisk      - run the fdisk program</div><div class="line">        repair     - repair a defective sector</div><div class="line">        show       - translate a disk address</div><div class="line">        label      - write label to the disk</div><div class="line">        analyze    - surface analysis</div><div class="line">        defect     - defect list management</div><div class="line">        backup     - search for backup labels</div><div class="line">        verify     - read and display labels</div><div class="line">        save       - save new disk/partition definitions</div><div class="line">        volname    - set 8-character volume name</div><div class="line">        !&lt;cmd&gt;     - execute &lt;cmd&gt;, then return</div><div class="line">        quit</div><div class="line">format&gt; quit</div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# newfs /dev/rdsk/c1t2144d0s0</div><div class="line">newfs: construct a new file system /dev/rdsk/c1t2144d0s0: (y/n)? y</div><div class="line">/dev/rdsk/c1t2144d0s0:  2097152 sectors in 1024 cylinders of 64 tracks, 32 sectors</div><div class="line">        1024.0MB in 32 cyl groups (32 c/g, 32.00MB/g, 15872 i/g)</div><div class="line">super-block backups (for fsck -F ufs -o b=#) at:</div><div class="line"> 32, 65600, 131168, 196736, 262304, 327872, 393440, 459008, 524576, 590144,</div><div class="line"> 1442528, 1508096, 1573664, 1639232, 1704800, 1770368, 1835936, 1901504,</div><div class="line"> 1967072, 2032640</div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# fsck /dev/rdsk/c1t2144d0s0</div><div class="line">** /dev/rdsk/c1t2144d0s0</div><div class="line">** Last Mounted on </div><div class="line">** Phase 1 - Check Blocks and Sizes</div><div class="line">** Phase 2 - Check Pathnames</div><div class="line">** Phase 3a - Check Connectivity</div><div class="line">** Phase 3b - Verify Shadows/ACLs</div><div class="line">** Phase 4 - Check Reference Counts</div><div class="line">** Phase 5 - Check Cylinder Groups</div><div class="line">2 files, 9 used, 984550 free (14 frags, 123067 blocks, 0.0% fragmentation)</div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# mkdir /data</div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# mount /dev/dsk/c1t2144d0s0 /data</div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# mount</div><div class="line">/ on syspool/ROOT/omnios-r151020-1 read/write/setuid/devices/dev=1710002 on Thu Jan  1 00:00:00 1970</div><div class="line">/devices on /devices read/write/setuid/devices/dev=8340000 on Sun Feb 12 21:36:02 2017</div><div class="line">/dev on /dev read/write/setuid/devices/dev=8380000 on Sun Feb 12 21:36:02 2017</div><div class="line">/system/contract on ctfs read/write/setuid/devices/dev=8440001 on Sun Feb 12 21:36:03 2017</div><div class="line">/proc on proc read/write/setuid/devices/dev=83c0000 on Sun Feb 12 21:36:03 2017</div><div class="line">/etc/mnttab on mnttab read/write/setuid/devices/dev=8480001 on Sun Feb 12 21:36:03 2017</div><div class="line">/etc/svc/volatile on swap read/write/setuid/devices/xattr/dev=84c0001 on Sun Feb 12 21:36:03 2017</div><div class="line">/system/object on objfs read/write/setuid/devices/dev=8500001 on Sun Feb 12 21:36:03 2017</div><div class="line">/system/boot on bootfs read/write/setuid/devices/dev=8540001 on Sun Feb 12 21:36:03 2017</div><div class="line">/etc/dfs/sharetab on sharefs read/write/setuid/devices/dev=8580001 on Sun Feb 12 21:36:03 2017</div><div class="line">/lib/libc.so.1 on /usr/lib/libc/libc_hwcap3.so.1 read/write/setuid/devices/dev=1710002 on Sun Feb 12 21:36:41 2017</div><div class="line">/dev/fd on fd read/write/setuid/devices/dev=8680001 on Sun Feb 12 21:36:46 2017</div><div class="line">/tmp on swap read/write/setuid/devices/xattr/dev=84c0002 on Sun Feb 12 21:36:47 2017</div><div class="line">/var/run on swap read/write/setuid/devices/xattr/dev=84c0003 on Sun Feb 12 21:36:47 2017</div><div class="line">/syspool on syspool read/write/setuid/devices/nonbmand/exec/xattr/atime/dev=1710007 on Sun Feb 12 21:36:58 2017</div><div class="line">/data on /dev/dsk/c1t2144d0s0 read/write/setuid/devices/intr/largefiles/logging/xattr/onerror=panic/dev=21800c0 on Mon Feb 13 06:10:02 2017</div></pre></td></tr></table></figure>
<p>Create a file(testfile).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">root@ip-10-152-178-106.ec2.internal:/# cd /</div><div class="line">root@ip-10-152-178-106.ec2.internal:/# sudo chmod 777 data</div><div class="line">root@ip-10-152-178-106.ec2.internal:/# cd data</div><div class="line">root@ip-10-152-178-106.ec2.internal:/data# vi testfile</div></pre></td></tr></table></figure>
<h3 id="Terminate-the-first-OmniOS-instace"><a href="#Terminate-the-first-OmniOS-instace" class="headerlink" title="Terminate the first OmniOS instace"></a>Terminate the first OmniOS instace</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 terminate-instances --instance-ids i-0ab15f53de99f4dff</div><div class="line">&#123;</div><div class="line">    &quot;TerminatingInstances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;InstanceId&quot;: &quot;i-0ab15f53de99f4dff&quot;, </div><div class="line">            &quot;CurrentState&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 32, </div><div class="line">                &quot;Name&quot;: &quot;shutting-down&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PreviousState&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 16, </div><div class="line">                &quot;Name&quot;: &quot;running&quot;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Attach-the-volume-to-the-second-instance"><a href="#Attach-the-volume-to-the-second-instance" class="headerlink" title="Attach the volume to the second instance"></a>Attach the volume to the second instance</h3><p>The volume id is: vol-0a3064debd17cede4<br>The second instance id is: i-0f177e140a2d45383<br>The second instance public DNS is: ec2-54-166-108-26.compute-1.amazonaws.com</p>
<p>Check the state of this volume.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 describe-volumes --filters Name=volume-id,Values=vol-0a3064debd17cede4</div><div class="line">&#123;</div><div class="line">    &quot;Volumes&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;, </div><div class="line">            &quot;Attachments&quot;: [], </div><div class="line">            &quot;Encrypted&quot;: false, </div><div class="line">            &quot;VolumeType&quot;: &quot;gp2&quot;, </div><div class="line">            &quot;VolumeId&quot;: &quot;vol-0a3064debd17cede4&quot;, </div><div class="line">            &quot;State&quot;: &quot;available&quot;, </div><div class="line">            &quot;Iops&quot;: 100, </div><div class="line">            &quot;SnapshotId&quot;: &quot;&quot;, </div><div class="line">            &quot;CreateTime&quot;: &quot;2017-02-13T05:19:24.216Z&quot;, </div><div class="line">            &quot;Size&quot;: 1</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>We find that its state is available. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 attach-volume --volume-id vol-0a3064debd17cede4 --instance-id i-0f177e140a2d45383 --device /dev/sdf</div><div class="line">&#123;</div><div class="line">    &quot;AttachTime&quot;: &quot;2017-02-13T06:26:28.486Z&quot;, </div><div class="line">    &quot;InstanceId&quot;: &quot;i-0f177e140a2d45383&quot;, </div><div class="line">    &quot;VolumeId&quot;: &quot;vol-0a3064debd17cede4&quot;, </div><div class="line">    &quot;State&quot;: &quot;attaching&quot;, </div><div class="line">    &quot;Device&quot;: &quot;/dev/sdf&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>SSH to the seconde instance, mount the volume and retrieve the file we just created.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ pwd</div><div class="line">/Users/kk/Documents</div><div class="line">bash-3.2$ ssh -i p.pem root@ec2-54-166-108-26.compute-1.amazonaws.com</div><div class="line">Last login: Mon Feb 13 04:59:30 2017 from 98.109.151.68</div><div class="line">OmniOS 5.11     omnios-r151020-b5b8c75  November 2016</div><div class="line">root@ip-172-31-51-44:/root# format</div><div class="line">Searching for disks...done</div><div class="line"></div><div class="line"></div><div class="line">AVAILABLE DISK SELECTIONS:</div><div class="line">       0. c1t2048d0 &lt;Unknown-Unknown-0001 cyl 4085 alt 2 hd 128 sec 32&gt;</div><div class="line">          /xpvd/xdf@2048</div><div class="line">       1. c1t2128d0 &lt;Unknown-Unknown-0001 cyl 1024 alt 0 hd 64 sec 32&gt;</div><div class="line">          /xpvd/xdf@2128</div><div class="line">Specify disk (enter its number): 1</div><div class="line">selecting c1t2128d0</div><div class="line">[disk formatted, no defect list found]</div><div class="line">No Solaris fdisk partition found.</div><div class="line"></div><div class="line"></div><div class="line">FORMAT MENU:</div><div class="line">        disk       - select a disk</div><div class="line">        type       - select (define) a disk type</div><div class="line">        partition  - select (define) a partition table</div><div class="line">        current    - describe the current disk</div><div class="line">        format     - format and analyze the disk</div><div class="line">        fdisk      - run the fdisk program</div><div class="line">        repair     - repair a defective sector</div><div class="line">        show       - translate a disk address</div><div class="line">        label      - write label to the disk</div><div class="line">        analyze    - surface analysis</div><div class="line">        defect     - defect list management</div><div class="line">        backup     - search for backup labels</div><div class="line">        verify     - read and display labels</div><div class="line">        save       - save new disk/partition definitions</div><div class="line">        volname    - set 8-character volume name</div><div class="line">        !&lt;cmd&gt;     - execute &lt;cmd&gt;, then return</div><div class="line">        quit</div><div class="line">format&gt; quit</div><div class="line">root@ip-172-31-51-44:/root# fsck /dev/rdsk/c1t2128d0s0</div><div class="line">** /dev/rdsk/c1t2128d0s0</div><div class="line">** Last Mounted on /data</div><div class="line">** Phase 1 - Check Blocks and Sizes</div><div class="line">** Phase 2 - Check Pathnames</div><div class="line">** Phase 3a - Check Connectivity</div><div class="line">** Phase 3b - Verify Shadows/ACLs</div><div class="line">** Phase 4 - Check Reference Counts</div><div class="line">** Phase 5 - Check Cylinder Groups</div><div class="line">3 files, 10 used, 983517 free (13 frags, 122938 blocks, 0.0% fragmentation)</div><div class="line">root@ip-172-31-51-44:/root# mkdir /data</div><div class="line">root@ip-172-31-51-44:/root# mount /dev/dsk/c1t2128d0s0 /data</div><div class="line">root@ip-172-31-51-44:/root# mount</div><div class="line">/ on syspool/ROOT/omnios-r151020-1 read/write/setuid/devices/dev=1710002 on Thu Jan  1 00:00:00 1970</div><div class="line">/devices on /devices read/write/setuid/devices/dev=8340000 on Mon Feb 13 04:55:17 2017</div><div class="line">/dev on /dev read/write/setuid/devices/dev=8380000 on Mon Feb 13 04:55:17 2017</div><div class="line">/system/contract on ctfs read/write/setuid/devices/dev=8440001 on Mon Feb 13 04:55:17 2017</div><div class="line">/proc on proc read/write/setuid/devices/dev=83c0000 on Mon Feb 13 04:55:17 2017</div><div class="line">/etc/mnttab on mnttab read/write/setuid/devices/dev=8480001 on Mon Feb 13 04:55:17 2017</div><div class="line">/etc/svc/volatile on swap read/write/setuid/devices/xattr/dev=84c0001 on Mon Feb 13 04:55:17 2017</div><div class="line">/system/object on objfs read/write/setuid/devices/dev=8500001 on Mon Feb 13 04:55:17 2017</div><div class="line">/system/boot on bootfs read/write/setuid/devices/dev=8540001 on Mon Feb 13 04:55:17 2017</div><div class="line">/etc/dfs/sharetab on sharefs read/write/setuid/devices/dev=8580001 on Mon Feb 13 04:55:17 2017</div><div class="line">/lib/libc.so.1 on /usr/lib/libc/libc_hwcap3.so.1 read/write/setuid/devices/dev=1710002 on Mon Feb 13 04:55:25 2017</div><div class="line">/dev/fd on fd read/write/setuid/devices/dev=8680001 on Mon Feb 13 04:55:26 2017</div><div class="line">/tmp on swap read/write/setuid/devices/xattr/dev=84c0002 on Mon Feb 13 04:55:26 2017</div><div class="line">/var/run on swap read/write/setuid/devices/xattr/dev=84c0003 on Mon Feb 13 04:55:26 2017</div><div class="line">/syspool on syspool read/write/setuid/devices/nonbmand/exec/xattr/atime/dev=1710007 on Mon Feb 13 04:55:31 2017</div><div class="line">/data on /dev/dsk/c1t2128d0s0 read/write/setuid/devices/intr/largefiles/logging/xattr/onerror=panic/dev=21800c0 on Mon Feb 13 06:38:28 2017</div><div class="line">root@ip-172-31-51-44:/root# cd /data</div><div class="line">root@ip-172-31-51-44:/data# ls</div><div class="line">lost+found  testfile</div></pre></td></tr></table></figure>
<h3 id="Retrieve-the-file"><a href="#Retrieve-the-file" class="headerlink" title="Retrieve the file."></a>Retrieve the file.</h3><p>Then we use <code>scp</code> to retrieve the file.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">root@ip-172-31-51-44:/data# exit</div><div class="line">logout</div><div class="line">Connection to ec2-54-166-108-26.compute-1.amazonaws.com closed.</div><div class="line">bash-3.2$ pwd</div><div class="line">/Users/kk/Documents</div><div class="line">bash-3.2$ scp -i p.pem root@ec2-54-166-108-26.compute-1.amazonaws.com:/data/testfile testfile</div><div class="line">testfile                                      100%    7     0.2KB/s   00:00    </div><div class="line">bash-3.2$ vi testfile</div><div class="line">bash-3.2$ exit</div><div class="line">exit</div><div class="line"></div><div class="line">Script done, output file is timestamps</div></pre></td></tr></table></figure>
<h2 id="Run-2"><a href="#Run-2" class="headerlink" title="Run 2"></a>Run 2</h2><h3 id="Use-script-to-log-1"><a href="#Use-script-to-log-1" class="headerlink" title="Use script to log"></a>Use <code>script</code> to log</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">KKs-MacBook-Air:~ kk$ Script -ar timestamps</div><div class="line">Script started, output file is timestamps</div></pre></td></tr></table></figure>
<h3 id="Create-two-AWS-instances-of-a-given-OS-First-time-I-choose-Linux"><a href="#Create-two-AWS-instances-of-a-given-OS-First-time-I-choose-Linux" class="headerlink" title="Create two AWS instances of a given OS (First time I choose Linux)"></a>Create two AWS instances of a given OS (First time I choose Linux)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 run-instances --image-id ami-0b33d91d --count 1 --instance-type t2.micro --key-name keypair3 --security-groups mysg</div><div class="line">&#123;</div><div class="line">    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">    &quot;ReservationId&quot;: &quot;r-09603da3f14e5fd5d&quot;, </div><div class="line">    &quot;Groups&quot;: [], </div><div class="line">    &quot;Instances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-02-13T00:23:07.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.26.132&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-0892e3a2148d40757&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-0b33d91d&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-26-132.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;0e:4e:0d:5f:f1:08&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-da07b71e&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-26-132.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.26.132&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-26-132.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-98eacfc6&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-02-13T00:23:07.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.26.132&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 0</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div><div class="line">bash-3.2$ aws ec2 run-instances --image-id ami-0b33d91d --count 1 --instance-type t2.micro --key-name keypair3 --security-groups mysg</div><div class="line">&#123;</div><div class="line">    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">    &quot;ReservationId&quot;: &quot;r-0e5f45ce61018f566&quot;, </div><div class="line">    &quot;Groups&quot;: [], </div><div class="line">    &quot;Instances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-02-13T00:24:52.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.25.133&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-03c597e94f5bd3809&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-0b33d91d&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-133.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;0e:a0:9c:c8:ef:14&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-b40ebe70&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-133.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.25.133&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-133.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-6cf6d332&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-02-13T00:24:52.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.25.133&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 0</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Get-the-info-of-my-two-instances-1"><a href="#Get-the-info-of-my-two-instances-1" class="headerlink" title="Get the info of my two instances"></a>Get the info of my two instances</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 describe-instances --filters &quot;Name=image-id,Values=ami-0b33d91d&quot;</div><div class="line">&#123;</div><div class="line">    &quot;Reservations&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-09603da3f14e5fd5d&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-54-242-31-152.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-02-13T00:23:07.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;54.242.31.152&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.26.132&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-0892e3a2148d40757&quot;, </div><div class="line">                    &quot;EnaSupport&quot;: true, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-0b33d91d&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-26-132.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;0e:4e:0d:5f:f1:08&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;54.242.31.152&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-54-242-31-152.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-da07b71e&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-26-132.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;54.242.31.152&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-54-242-31-152.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.26.132&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-26-132.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-98eacfc6&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-13T00:23:07.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.26.132&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-02cdf49416a100301&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-13T00:23:08.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;, </div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-0e5f45ce61018f566&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-54-165-167-87.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-02-13T00:24:52.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;54.165.167.87&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.25.133&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-03c597e94f5bd3809&quot;, </div><div class="line">                    &quot;EnaSupport&quot;: true, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-0b33d91d&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-133.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;0e:a0:9c:c8:ef:14&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;54.165.167.87&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-54-165-167-87.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-b40ebe70&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-133.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;54.165.167.87&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-54-165-167-87.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.25.133&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-133.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-6cf6d332&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-13T00:24:52.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.25.133&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-07171c3dd90e84036&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-13T00:24:53.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Create-a-1GB-volume-and-attach-it-to-one-of-the-instances-1"><a href="#Create-a-1GB-volume-and-attach-it-to-one-of-the-instances-1" class="headerlink" title="Create a 1GB volume and attach it to one of the instances"></a>Create a 1GB volume and attach it to one of the instances</h3><p>According to the above infomation, I knew the instance id and public DNS of my two running Linux instances:</p>
<p>i-0892e3a2148d40757    ec2-54-242-31-152.compute-1.amazonaws.com<br>i-03c597e94f5bd3809    ec2-54-165-167-87.compute-1.amazonaws.com</p>
<p>And their “AvailabilityZone” is “us-east-1d”<br>I create the colume and attach it to the first instance “/dev/sdf”.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 create-volume --no-dry-run --size 1 --availability-zone us-east-1b --volume-type gp2 --no-encrypted</div><div class="line">&#123;</div><div class="line">    &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;, </div><div class="line">    &quot;Encrypted&quot;: false, </div><div class="line">    &quot;VolumeType&quot;: &quot;gp2&quot;, </div><div class="line">    &quot;VolumeId&quot;: &quot;vol-020bf1f8883a55593&quot;, </div><div class="line">    &quot;State&quot;: &quot;creating&quot;, </div><div class="line">    &quot;Iops&quot;: 100, </div><div class="line">    &quot;SnapshotId&quot;: &quot;&quot;, </div><div class="line">    &quot;CreateTime&quot;: &quot;2017-02-13T00:34:46.510Z&quot;, </div><div class="line">    &quot;Size&quot;: 1</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">bash-3.2$ aws ec2 attach-volume --volume-id vol-020bf1f8883a55593 --instance-id i-0892e3a2148d40757 --device /dev/sdf</div><div class="line">&#123;</div><div class="line">    &quot;AttachTime&quot;: &quot;2017-02-13T00:35:18.188Z&quot;, </div><div class="line">    &quot;InstanceId&quot;: &quot;i-0892e3a2148d40757&quot;, </div><div class="line">    &quot;VolumeId&quot;: &quot;vol-020bf1f8883a55593&quot;, </div><div class="line">    &quot;State&quot;: &quot;attaching&quot;, </div><div class="line">    &quot;Device&quot;: &quot;/dev/sdf&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Create-the-new-file-system-on-the-first-linux-instance"><a href="#Create-the-new-file-system-on-the-first-linux-instance" class="headerlink" title="Create the new file system on the first linux instance"></a>Create the new file system on the first linux instance</h3><ol>
<li>Use lsblk to view available disk devices and their mount points.</li>
<li>Determine whether we need to create a file system on the volume. In Linux, use the sudo file -s device command to list special information.</li>
<li>Make a new file system by using command mkfs.</li>
<li>Check again on step 2.</li>
<li>Create a mount point directory for the volume.</li>
<li>Mount the volume at the location we just created.</li>
</ol>
<p>In Linux, I create a exts4 type file system. Using the command <code>mkfs</code>, we could use <code>-t</code> to point out which type we want to create.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ ssh -i p.pem ec2-user@ec2-54-242-31-152.compute-1.amazonaws.com</div><div class="line">The authenticity of host &apos;ec2-54-242-31-152.compute-1.amazonaws.com (54.242.31.152)&apos; can&apos;t be established.</div><div class="line">ECDSA key fingerprint is SHA256:KrwlS0mnxQph+wOGxgzmWpOJ9FqL4nhZfBu/kZ0CF5U.</div><div class="line">Are you sure you want to continue connecting (yes/no)? yes</div><div class="line">Warning: Permanently added &apos;ec2-54-242-31-152.compute-1.amazonaws.com,54.242.31.152&apos; (ECDSA) to the list of known hosts.</div><div class="line"></div><div class="line">       __|  __|_  )</div><div class="line">       _|  (     /   Amazon Linux AMI</div><div class="line">      ___|\___|___|</div><div class="line"></div><div class="line">https://aws.amazon.com/amazon-linux-ami/2016.09-release-notes/</div><div class="line">3 package(s) needed for security, out of 6 available</div><div class="line">Run &quot;sudo yum update&quot; to apply all updates.</div><div class="line">[ec2-user@ip-172-31-26-132 ~]$ lsblk</div><div class="line">NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT</div><div class="line">xvda    202:0    0   8G  0 disk </div><div class="line">└─xvda1 202:1    0   8G  0 part /</div><div class="line">xvdf    202:80   0   1G  0 disk</div><div class="line">[ec2-user@ip-172-31-26-132 ~]$ sudo file -s /dev/xvdf</div><div class="line">/dev/xvdf: data</div><div class="line">[ec2-user@ip-172-31-26-132 ~]$ sudo mkfs -t ext4 /dev/xvdf</div><div class="line">mke2fs 1.42.12 (29-Aug-2014)</div><div class="line">Creating filesystem with 262144 4k blocks and 65536 inodes</div><div class="line">Filesystem UUID: 2fde40f0-e868-4590-b225-eb35a32b15be</div><div class="line">Superblock backups stored on blocks: </div><div class="line">	32768, 98304, 163840, 229376</div><div class="line"></div><div class="line">Allocating group tables: done                            </div><div class="line">Writing inode tables: done                            </div><div class="line">Creating journal (8192 blocks): done</div><div class="line">Writing superblocks and filesystem accounting information: done</div><div class="line"></div><div class="line">[ec2-user@ip-172-31-26-132 ~]$ sudo file -s /dev/xvdf</div><div class="line">/dev/xvdf: Linux rev 1.0 ext4 filesystem data, UUID=2fde40f0-e868-4590-b225-eb35a32b15be (extents) (large files) (huge files)</div><div class="line">[ec2-user@ip-172-31-26-132 ~]$ sudo mkdir data</div><div class="line">[ec2-user@ip-172-31-26-132 ~]$ sudo mount /dev/xvdf/ ~/data</div><div class="line">[ec2-user@ip-172-31-26-132 ~]$ mount</div><div class="line">proc on /proc type proc (rw,relatime)</div><div class="line">sysfs on /sys type sysfs (rw,relatime)</div><div class="line">devtmpfs on /dev type devtmpfs (rw,relatime,size=498764k,nr_inodes=124691,mode=755)</div><div class="line">devpts on /dev/pts type devpts (rw,relatime,gid=5,mode=620,ptmxmode=000)</div><div class="line">tmpfs on /dev/shm type tmpfs (rw,relatime)</div><div class="line">/dev/xvda1 on / type ext4 (rw,noatime,data=ordered)</div><div class="line">none on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,relatime)</div><div class="line">/dev/xvdf on /home/ec2-user/data type ext4 (rw,relatime,data=ordered)</div></pre></td></tr></table></figure>
<p>Then we create a file (‘TestFile’) in this volume</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[ec2-user@ip-172-31-26-132 ~]$ sudo chmod 777 data</div><div class="line">[ec2-user@ip-172-31-26-132 ~]$ cd data</div><div class="line">[ec2-user@ip-172-31-26-132 data]$ vi TestFile</div><div class="line">[ec2-user@ip-172-31-26-132 data]$ ls</div><div class="line">lost+found  TestFile</div><div class="line">[ec2-user@ip-172-31-26-132 data]$</div></pre></td></tr></table></figure>
<h3 id="Terminate-the-first-Linux-instace"><a href="#Terminate-the-first-Linux-instace" class="headerlink" title="Terminate the first Linux instace"></a>Terminate the first Linux instace</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">[ec2-user@ip-172-31-26-132 data]$ exit</div><div class="line">logout</div><div class="line">Connection to ec2-54-242-31-152.compute-1.amazonaws.com closed.</div><div class="line">bash-3.2$ aws ec2 terminate-instances --instance-ids i-0892e3a2148d40757</div><div class="line">&#123;</div><div class="line">    &quot;TerminatingInstances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;InstanceId&quot;: &quot;i-0892e3a2148d40757&quot;, </div><div class="line">            &quot;CurrentState&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 32, </div><div class="line">                &quot;Name&quot;: &quot;shutting-down&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PreviousState&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 16, </div><div class="line">                &quot;Name&quot;: &quot;running&quot;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Attach-the-volume-to-the-second-instance-1"><a href="#Attach-the-volume-to-the-second-instance-1" class="headerlink" title="Attach the volume to the second instance"></a>Attach the volume to the second instance</h3><p>The volume id is: vol-020bf1f8883a55593<br>The second instance id is:i-03c597e94f5bd3809<br>The second instance public DNS is: ec2-54-165-167-87.compute-1.amazonaws.com</p>
<p>Check the state of this volume.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 describe-volumes --filters Name=volume-id,Values=vol-020bf1f8883a55593</div><div class="line">&#123;</div><div class="line">    &quot;Volumes&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;, </div><div class="line">            &quot;Attachments&quot;: [], </div><div class="line">            &quot;Encrypted&quot;: false, </div><div class="line">            &quot;VolumeType&quot;: &quot;gp2&quot;, </div><div class="line">            &quot;VolumeId&quot;: &quot;vol-020bf1f8883a55593&quot;, </div><div class="line">            &quot;State&quot;: &quot;available&quot;, </div><div class="line">            &quot;Iops&quot;: 100, </div><div class="line">            &quot;SnapshotId&quot;: &quot;&quot;, </div><div class="line">            &quot;CreateTime&quot;: &quot;2017-02-13T00:34:46.510Z&quot;, </div><div class="line">            &quot;Size&quot;: 1</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>We find that its state is available. Attach it to the second instance.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 attach-volume --volume-id vol-020bf1f8883a55593 --instance-id i-03c597e94f5bd3809 --device /dev/sdf</div><div class="line">&#123;</div><div class="line">    &quot;AttachTime&quot;: &quot;2017-02-13T01:11:02.840Z&quot;, </div><div class="line">    &quot;InstanceId&quot;: &quot;i-03c597e94f5bd3809&quot;, </div><div class="line">    &quot;VolumeId&quot;: &quot;vol-020bf1f8883a55593&quot;, </div><div class="line">    &quot;State&quot;: &quot;attaching&quot;, </div><div class="line">    &quot;Device&quot;: &quot;/dev/sdf&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>SSH to the seconde instance, mount the volume and retrieve the file we just created.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ pwd</div><div class="line">/Users/kk/Documents</div><div class="line">bash-3.2$ ssh -i p.pem ec2-user@ec2-54-165-167-87.compute-1.amazonaws.com</div><div class="line">The authenticity of host &apos;ec2-54-165-167-87.compute-1.amazonaws.com (54.165.167.87)&apos; can&apos;t be established.</div><div class="line">ECDSA key fingerprint is SHA256:GRYNKKQ7WPTdq5jIxx6MA2tl7lCcbpoM58dMOeP6KfQ.</div><div class="line">Are you sure you want to continue connecting (yes/no)? yes</div><div class="line">Warning: Permanently added &apos;ec2-54-165-167-87.compute-1.amazonaws.com,54.165.167.87&apos; (ECDSA) to the list of known hosts.</div><div class="line"></div><div class="line">       __|  __|_  )</div><div class="line">       _|  (     /   Amazon Linux AMI</div><div class="line">      ___|\___|___|</div><div class="line"></div><div class="line">https://aws.amazon.com/amazon-linux-ami/2016.09-release-notes/</div><div class="line">3 package(s) needed for security, out of 6 available</div><div class="line">Run &quot;sudo yum update&quot; to apply all updates.</div><div class="line"></div><div class="line">[ec2-user@ip-172-31-25-133 ~]$ lsblk</div><div class="line">NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT</div><div class="line">xvda    202:0    0   8G  0 disk </div><div class="line">└─xvda1 202:1    0   8G  0 part /</div><div class="line">xvdf    202:80   0   1G  0 disk </div><div class="line">[ec2-user@ip-172-31-25-133 ~]$ mkdir data</div><div class="line">[ec2-user@ip-172-31-25-133 ~]$ sudo mount /dev/xvdf/ ~/data</div><div class="line">[ec2-user@ip-172-31-25-133 ~]$ mount</div><div class="line">proc on /proc type proc (rw,relatime)</div><div class="line">sysfs on /sys type sysfs (rw,relatime)</div><div class="line">devtmpfs on /dev type devtmpfs (rw,relatime,size=498764k,nr_inodes=124691,mode=755)</div><div class="line">devpts on /dev/pts type devpts (rw,relatime,gid=5,mode=620,ptmxmode=000)</div><div class="line">tmpfs on /dev/shm type tmpfs (rw,relatime)</div><div class="line">/dev/xvda1 on / type ext4 (rw,noatime,data=ordered)</div><div class="line">none on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,relatime)</div><div class="line">/dev/xvdf on /home/ec2-user/data type ext4 (rw,relatime,data=ordered)</div><div class="line">[ec2-user@ip-172-31-25-133 ~]$ sudo chmod 777 data</div><div class="line">[ec2-user@ip-172-31-25-133 ~]$ cd data</div><div class="line">[ec2-user@ip-172-31-25-133 data]$ ls</div><div class="line">lost+found  TestFile</div></pre></td></tr></table></figure>
<p>Then we use <code>scp</code> to retrieve the file.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ scp -i p.pem ec2-user@ec2-54-165-167-87.compute-1.amazonaws.com:~/data/TestFile ~/Documents/Testfile</div><div class="line">TestFile                                                                                  100%    7     0.6KB/s   00:00    </div><div class="line">bash-3.2$ vi Testfile</div><div class="line">bash-3.2$ exit</div><div class="line">exit</div><div class="line"></div><div class="line">Script done, output file is timestamps</div></pre></td></tr></table></figure>
<p>#Run 3</p>
<h2 id="Test-Can-I-use-the-same-volume-filesystem-across-different-OS-instances"><a href="#Test-Can-I-use-the-same-volume-filesystem-across-different-OS-instances" class="headerlink" title="Test Can I use the same volume / filesystem across different OS instances"></a>Test Can I use the same volume / filesystem across different OS instances</h2><p>The volume id we create in OmniOS: vol-0a3064debd17cede4 </p>
<p>unmount the volume<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ cd Documents</div><div class="line">bash-3.2$ ssh -i p.pem root@ec2-54-166-108-26.compute-1.amazonaws.com</div><div class="line">Last login: Mon Feb 13 06:40:12 2017 from 98.109.151.68</div><div class="line">OmniOS 5.11     omnios-r151020-b5b8c75  November 2016</div><div class="line">root@ip-172-31-51-44:/root# umount /data</div></pre></td></tr></table></figure></p>
<p>Reboot the instance of OmniOS</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">root@ip-172-31-51-44:/root# shutdown -y -i6 -g0</div><div class="line"></div><div class="line">Shutdown started.    February 13, 2017 07:51:33 AM UTC</div><div class="line"></div><div class="line">Changing to init state 6 - please wait</div><div class="line">Broadcast Message from root (pts/1) on ip-172-31-51-44 Mon Feb 13 07:51:33...</div><div class="line">THE SYSTEM ip-172-31-51-44 IS BEING SHUT DOWN NOW ! ! !</div><div class="line">Log off now or risk your files being damaged</div><div class="line"></div><div class="line">showmount: ip-172-31-51-44: RPC: Program not registered</div><div class="line">^Croot@ip-172-31-51-44:/root# packet_write_wait: Connection to 54.166.108.26 port 22: Broken pipe</div></pre></td></tr></table></figure>
<p>Detach it<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 detach-volume --volume-id vol-0a3064debd17cede4</div><div class="line">&#123;</div><div class="line">    &quot;AttachTime&quot;: &quot;2017-02-13T06:26:28.000Z&quot;, </div><div class="line">    &quot;InstanceId&quot;: &quot;i-0f177e140a2d45383&quot;, </div><div class="line">    &quot;VolumeId&quot;: &quot;vol-0a3064debd17cede4&quot;, </div><div class="line">    &quot;State&quot;: &quot;detaching&quot;, </div><div class="line">    &quot;Device&quot;: &quot;/dev/sdf&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>OH! After I detach the volume, the volume immediately was terminated… I would try to create another one with file system in OmniOS.<br>Wait…I don’n know what happen. The volume state change from <code>terminated</code> to <code>running</code>. Never mind, keep test. </p>
<p>Check the state of this volume.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 describe-volumes --filters Name=volume-id,Values=vol-0a3064debd17cede4</div><div class="line">&#123;</div><div class="line">    &quot;Volumes&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;, </div><div class="line">            &quot;Attachments&quot;: [], </div><div class="line">            &quot;Encrypted&quot;: false, </div><div class="line">            &quot;VolumeType&quot;: &quot;gp2&quot;, </div><div class="line">            &quot;VolumeId&quot;: &quot;vol-0a3064debd17cede4&quot;, </div><div class="line">            &quot;State&quot;: &quot;available&quot;, </div><div class="line">            &quot;Iops&quot;: 100, </div><div class="line">            &quot;SnapshotId&quot;: &quot;&quot;, </div><div class="line">            &quot;CreateTime&quot;: &quot;2017-02-13T05:19:24.216Z&quot;, </div><div class="line">            &quot;Size&quot;: 1</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Creat a linux instance in <code>us-east-1d</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 run-instances --image-id ami-0b33d91d --count 1 --instance-type t2.micro --placement AvailabilityZone=us-east-1d --key-name keypair3 --security-groups mysg</div><div class="line">&#123;</div><div class="line">    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">    &quot;ReservationId&quot;: &quot;r-0634424c6101c95eb&quot;, </div><div class="line">    &quot;Groups&quot;: [], </div><div class="line">    &quot;Instances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-02-13T07:40:04.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.48.166&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-0e28b8fb27b75b707&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-0b33d91d&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-48-166.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;12:9b:60:2c:bc:d4&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-ffcd790d&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-48-166.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.48.166&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-48-166.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-6c650246&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-02-13T07:40:04.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.48.166&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 0</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Get the info of this instance<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 describe-instances --filters &quot;Name=instance-id,Values=i-0e28b8fb27b75b707&quot;</div><div class="line">&#123;</div><div class="line">    &quot;Reservations&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-0634424c6101c95eb&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-52-70-181-33.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-02-13T07:40:04.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;52.70.181.33&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.48.166&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-0e28b8fb27b75b707&quot;, </div><div class="line">                    &quot;EnaSupport&quot;: true, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-0b33d91d&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-48-166.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;12:9b:60:2c:bc:d4&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;52.70.181.33&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-52-70-181-33.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-ffcd790d&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-48-166.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;52.70.181.33&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-52-70-181-33.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.48.166&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-48-166.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-6c650246&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-13T07:40:04.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-8e2c63a3&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.48.166&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1d&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-0f29532370cb532b9&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-02-13T07:40:05.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="Attach-the-volume-to-the-instance"><a href="#Attach-the-volume-to-the-instance" class="headerlink" title="Attach the volume to the instance"></a>Attach the volume to the instance</h3><p>We knew:<br>The volume id is: vol-0a3064debd17cede4<br>instance-id = i-0e28b8fb27b75b707<br>public DNS = ec2-52-70-181-33.compute-1.amazonaws.com</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 attach-volume --volume-id vol-0a3064debd17cede4 --instance-id i-0e28b8fb27b75b707 --device /dev/sdf</div><div class="line">&#123;</div><div class="line">    &quot;AttachTime&quot;: &quot;2017-02-13T07:59:21.710Z&quot;, </div><div class="line">    &quot;InstanceId&quot;: &quot;i-0e28b8fb27b75b707&quot;, </div><div class="line">    &quot;VolumeId&quot;: &quot;vol-0a3064debd17cede4&quot;, </div><div class="line">    &quot;State&quot;: &quot;attaching&quot;, </div><div class="line">    &quot;Device&quot;: &quot;/dev/sdf&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>SSH to the instance of Linux, mount the volume and check the file.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ pwd</div><div class="line">/Users/kk/Documents</div><div class="line">bash-3.2$ ssh -i p.pem ec2-user@ec2-52-70-181-33.compute-1.amazonaws.com</div><div class="line">The authenticity of host &apos;ec2-52-70-181-33.compute-1.amazonaws.com (52.70.181.33)&apos; can&apos;t be established.</div><div class="line">ECDSA key fingerprint is SHA256:055jVmtgghod4qBq0FtRNZxiJrEIclh1fCxkq6x3XQ4.</div><div class="line">Are you sure you want to continue connecting (yes/no)? yes</div><div class="line">Warning: Permanently added &apos;ec2-52-70-181-33.compute-1.amazonaws.com,52.70.181.33&apos; (ECDSA) to the list of known hosts.</div><div class="line"></div><div class="line">       __|  __|_  )</div><div class="line">       _|  (     /   Amazon Linux AMI</div><div class="line">      ___|\___|___|</div><div class="line"></div><div class="line">https://aws.amazon.com/amazon-linux-ami/2016.09-release-notes/</div><div class="line">3 package(s) needed for security, out of 6 available</div><div class="line">Run &quot;sudo yum update&quot; to apply all updates.</div><div class="line">[ec2-user@ip-172-31-48-166 ~]$ </div><div class="line">[ec2-user@ip-172-31-48-166 data]$ lsblk</div><div class="line">NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT</div><div class="line">xvda    202:0    0   8G  0 disk </div><div class="line">└─xvda1 202:1    0   8G  0 part /</div><div class="line">xvdf    202:80   0   1G  0 disk </div><div class="line">[ec2-user@ip-172-31-48-166 ~]$ sudo mount /dev/xvdf ~/data</div><div class="line">mount: /dev/xvdf is write-protected, mounting read-only</div><div class="line">[ec2-user@ip-172-31-48-166 ~]$ cd ~/data</div><div class="line">[ec2-user@ip-172-31-48-166 data]$ ls</div><div class="line">lost+found  testfile</div><div class="line">[ec2-user@ip-172-31-48-166 data]$ vi testfile</div></pre></td></tr></table></figure>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>We can use the same volume / filesystem across different OS instances.<br>But the volumn was write-protected state, mounting read-only.<br>I found something in this web:<br><a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-volume-status.html" target="_blank" rel="external">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/monitoring-volume-status.html</a></p>
<p>“When Amazon EBS determines that a volume’s data is potentially inconsistent, it disables I/O to the volume from any attached EC2 instances by default. This causes the volume status check to fail, and creates a volume status event that indicates the cause of the failure.”</p>
<p>Check the Attribute of autoEnableIO<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 describe-volume-attribute --volume-id vol-0a3064debd17cede4 --attribute autoEnableIO</div><div class="line">&#123;</div><div class="line">    &quot;AutoEnableIO&quot;: &#123;</div><div class="line">        &quot;Value&quot;: false</div><div class="line">    &#125;, </div><div class="line">    &quot;VolumeId&quot;: &quot;vol-0a3064debd17cede4&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Active the AutoEnableIO.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bash-3.2$ aws ec2 modify-volume-attribute --volume-id vol-0a3064debd17cede4 --auto-enable-io</div><div class="line">bash-3.2$ aws ec2 describe-volume-attribute --volume-id vol-0a3064debd17cede4 --attribute autoEnableIO</div><div class="line">&#123;</div><div class="line">    &quot;AutoEnableIO&quot;: &#123;</div><div class="line">        &quot;Value&quot;: true</div><div class="line">    &#125;, </div><div class="line">    &quot;VolumeId&quot;: &quot;vol-0a3064debd17cede4&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>But after setting and reboot the instance, mounting still is read-only…<br>I check the mount<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[ec2-user@ip-172-31-48-166 data]$ mount | grep xvdf</div><div class="line">/dev/xvdf on /home/ec2-user/data type ufs (ro,relatime,ufstype=old,onerror=lock)</div></pre></td></tr></table></figure></p>
<p>I think the reason why volume lock is that this ufstype is too old… So this Linux cann’t support.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Install and Configure AWS Tools]]></title>
      <url>https://AnkaiLiang.github.io/2017/05/19/Install%20and%20Configure%20AWS%20Tools/</url>
      <content type="html"><![CDATA[<a id="more"></a>
<ul>
<li>Ankai Liang</li>
<li>CWID:10411998</li>
<li>Environment: Mac OS </li>
</ul>
<h3 id="Install-AWS-Tool"><a href="#Install-AWS-Tool" class="headerlink" title="Install AWS Tool"></a>Install AWS Tool</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">➜  bin git:(master) sudo pip install awscli --ignore-installed six</div></pre></td></tr></table></figure>
<h3 id="AWS-Command-Line-Configuration"><a href="#AWS-Command-Line-Configuration" class="headerlink" title="AWS Command Line Configuration"></a>AWS Command Line Configuration</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">➜  bin git:(master) aws configure</div><div class="line">AWS Access Key ID [None]: ***</div><div class="line">AWS Secret Access Key [None]: ***</div><div class="line">Default region name [None]: ***</div><div class="line">Default output format [None]: ***</div></pre></td></tr></table></figure>
<h3 id="Creating-a-Key-Pair-and-setting-the-chomod-mod"><a href="#Creating-a-Key-Pair-and-setting-the-chomod-mod" class="headerlink" title="Creating a Key Pair and setting the chomod mod"></a>Creating a Key Pair and setting the chomod mod</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ aws ec2 create-key-pair --key-name keypair3 --query &apos;KeyMaterial&apos; --output text &gt; p.pem</div><div class="line">➜  Documents git:(master) ✗ chmod 400 p.pem </div><div class="line">➜  Documents git:(master) ✗ aws ec2 create-security-group --group-name mysg --description &quot;My security group&quot; </div><div class="line">&#123;</div><div class="line">    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Adding-Rules-to-Your-Security-Group"><a href="#Adding-Rules-to-Your-Security-Group" class="headerlink" title="Adding Rules to Your Security Group"></a>Adding Rules to Your Security Group</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ aws ec2 authorize-security-group-ingress --group-name mysg --protocol tcp --port 22 --cidr 0.0.0.0/0</div></pre></td></tr></table></figure>
<h2 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h2><h3 id="Find-images-id-get-ami-50ecc847"><a href="#Find-images-id-get-ami-50ecc847" class="headerlink" title="Find images id (get ami-50ecc847)"></a>Find images id (get ami-50ecc847)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ aws ec2 describe-images --filters &apos;Name=name, Values=OmniOS r151020*&apos; </div><div class="line">&#123;</div><div class="line">    &quot;Images&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">            &quot;Name&quot;: &quot;OmniOS r151020 Stable 20161102&quot;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-50ecc847&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;State&quot;: &quot;available&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;DeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                    &quot;Ebs&quot;: &#123;</div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;SnapshotId&quot;: &quot;snap-48c359d7&quot;, </div><div class="line">                        &quot;VolumeSize&quot;: 8, </div><div class="line">                        &quot;VolumeType&quot;: &quot;gp2&quot;, </div><div class="line">                        &quot;Encrypted&quot;: false</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;ImageLocation&quot;: &quot;182711560792/OmniOS r151020 Stable 20161102&quot;, </div><div class="line">            &quot;KernelId&quot;: &quot;aki-b4aa75dd&quot;, </div><div class="line">            &quot;OwnerId&quot;: &quot;182711560792&quot;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">            &quot;CreationDate&quot;: &quot;2016-11-02T19:38:56.000Z&quot;, </div><div class="line">            &quot;Public&quot;: true, </div><div class="line">            &quot;ImageType&quot;: &quot;machine&quot;, </div><div class="line">            &quot;Description&quot;: &quot;OmniOS r151020 Stable created 20161102&quot;</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Run-a-instance"><a href="#Run-a-instance" class="headerlink" title="Run a instance"></a>Run a instance</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ aws ec2 run-instances --image-id ami-50ecc847 --count 1 --instance-type t1.micro --key-name keypair3 --security-groups mysg</div><div class="line">&#123;</div><div class="line">    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">    &quot;ReservationId&quot;: &quot;r-01c81ac895aa8c726&quot;, </div><div class="line">    &quot;Groups&quot;: [], </div><div class="line">    &quot;Instances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;KernelId&quot;: &quot;aki-b4aa75dd&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-01-30T02:24:36.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.15.139&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-054b740b8e10e8438&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-50ecc847&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-15-139.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-6e82bf27&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;0a:16:eb:98:f7:d4&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-2533a1c4&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-15-139.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.15.139&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-15-139.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-6cd9522f&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-01-30T02:24:36.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-6e82bf27&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.15.139&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1a&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 0</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Create-a-Tag-for-my-Instance"><a href="#Create-a-Tag-for-my-Instance" class="headerlink" title="Create a Tag for my Instance"></a>Create a Tag for my Instance</h3><p>From above: “InstanceId”: “i-054b740b8e10e8438”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ aws ec2 create-tags --resources i-054b740b8e10e8438 --tags Key=Name,Value=MyInstance</div></pre></td></tr></table></figure></p>
<h3 id="Get-the-info-of-my-Instance"><a href="#Get-the-info-of-my-Instance" class="headerlink" title="Get the info of my Instance"></a>Get the info of my Instance</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ aws ec2 describe-instances --filters &quot;Name=instance-id,Values=i-054b740b8e10e8438&quot;</div><div class="line">&#123;</div><div class="line">    &quot;Reservations&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-01c81ac895aa8c726&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-54-89-190-118.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-01-30T02:24:36.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;54.89.190.118&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.15.139&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-054b740b8e10e8438&quot;, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-50ecc847&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-15-139.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-6e82bf27&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t1.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;0a:16:eb:98:f7:d4&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;54.89.190.118&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-54-89-190-118.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-2533a1c4&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-15-139.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;54.89.190.118&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-54-89-190-118.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.15.139&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-15-139.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-6cd9522f&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-01-30T02:24:36.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-6e82bf27&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.15.139&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1a&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-0582ffa74b5a1b765&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-01-30T02:24:37.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;KernelId&quot;: &quot;aki-b4aa75dd&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/sda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;paravirtual&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="SSH-to-Instance-and-Check-the-info"><a href="#SSH-to-Instance-and-Check-the-info" class="headerlink" title="SSH to Instance and Check the info"></a>SSH to Instance and Check the info</h3><p>From above:<br>“PublicDnsName”: “ec2-54-89-190-118.compute-1.amazonaws.com”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ ssh -i p.pem root@ec2-54-89-190-118.compute-1.amazonaws.com</div><div class="line">Last login: Mon Jan 30 02:52:26 2017 from 100.1.162.250</div><div class="line">OmniOS 5.11     omnios-r151020-b5b8c75  November 2016</div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# uname -a</div><div class="line">SunOS ip-10-152-178-106.ec2.internal 5.11 omnios-r151020-b5b8c75 i86pc i386 i86xpv</div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# whoami</div><div class="line">root</div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# date</div><div class="line">January 30, 2017 03:23:12 AM </div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# w</div><div class="line">03:23:18    up 57 min(s),  2 users,  load average: 0.00, 0.00, 0.00</div><div class="line">User     tty      login@         idle    JCPU    PCPU what</div><div class="line">root     pts/1    02:52:27         30       0       0 -bash</div><div class="line">root     pts/2    03:22:13          0       0       0 w</div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# ifconfig -a</div><div class="line">lo0: flags=2001000849&lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv4,VIRTUAL&gt; mtu 8232 index 1</div><div class="line">        inet 127.0.0.1 netmask ff000000 </div><div class="line">xnf0: flags=1004843&lt;UP,BROADCAST,RUNNING,MULTICAST,DHCP,IPv4&gt; mtu 1500 index 2</div><div class="line">        inet 172.31.15.139 netmask fffff000 broadcast 172.31.15.255</div><div class="line">        ether a:16:eb:98:f7:d4 </div><div class="line">lo0: flags=2002000849&lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv6,VIRTUAL&gt; mtu 8252 index 1</div><div class="line">        inet6 ::1/128 </div><div class="line">xnf0: flags=20002000840&lt;RUNNING,MULTICAST,IPv6&gt; mtu 1500 index 2</div><div class="line">        inet6 ::/0 </div><div class="line">        ether a:16:eb:98:f7:d4 </div><div class="line">root@ip-10-152-178-106.ec2.internal:/root# netstat -na</div><div class="line"></div><div class="line">UDP: IPv4</div><div class="line">   Local Address        Remote Address      State</div><div class="line">-------------------- -------------------- ----------</div><div class="line">      *.68                                Idle</div><div class="line">      *.546                               Idle</div><div class="line">172.31.15.139.68                          Idle</div><div class="line">      *.111                               Idle</div><div class="line">      *.*                                 Unbound</div><div class="line">      *.50058                             Idle</div><div class="line">      *.111                               Idle</div><div class="line">      *.*                                 Unbound</div><div class="line">      *.45332                             Idle</div><div class="line">      *.*                                 Unbound</div><div class="line"></div><div class="line">UDP: IPv6</div><div class="line">   Local Address                     Remote Address                   State      If</div><div class="line">--------------------------------- --------------------------------- ---------- -----</div><div class="line">      *.546                                                         Idle       </div><div class="line">      *.111                                                         Idle       </div><div class="line">      *.*                                                           Unbound    </div><div class="line">      *.50058                                                       Idle       </div><div class="line">      *.*                                                           Unbound    </div><div class="line"></div><div class="line">TCP: IPv4</div><div class="line">   Local Address        Remote Address    Swind Send-Q Rwind Recv-Q    State</div><div class="line">-------------------- -------------------- ----- ------ ----- ------ -----------</div><div class="line">127.0.0.1.4999             *.*                0      0 128000      0 LISTEN</div><div class="line">      *.111                *.*                0      0 128000      0 LISTEN</div><div class="line">      *.*                  *.*                0      0 128000      0 IDLE</div><div class="line">      *.111                *.*                0      0 128000      0 LISTEN</div><div class="line">      *.*                  *.*                0      0 128000      0 IDLE</div><div class="line">      *.56771              *.*                0      0 128000      0 LISTEN</div><div class="line">      *.36196              *.*                0      0 128000      0 LISTEN</div><div class="line">      *.22                 *.*                0      0 128000      0 LISTEN</div><div class="line">172.31.15.139.22     100.1.162.250.59344  130976      0 128872      0 ESTABLISHED</div><div class="line">172.31.15.139.22     98.109.151.68.59431  131072     35 128872      0 ESTABLISHED</div><div class="line"></div><div class="line">TCP: IPv6</div><div class="line">   Local Address                     Remote Address                 Swind Send-Q Rwind Recv-Q   State      If</div><div class="line">--------------------------------- --------------------------------- ----- ------ ----- ------ ----------- -----</div><div class="line">      *.111                             *.*                             0      0 128000      0 LISTEN      </div><div class="line">      *.*                               *.*                             0      0 128000      0 IDLE        </div><div class="line">      *.36196                           *.*                             0      0 128000      0 LISTEN      </div><div class="line">      *.22                              *.*                             0      0 128000      0 LISTEN      </div><div class="line"></div><div class="line">Active UNIX domain sockets</div><div class="line">Address  Type          Vnode     Conn  Local Addr      Remote Addr</div><div class="line">ffffff00a8af4020 dgram      ffffff00a8c77600 0000000 /var/run/in.ndpd_mib                </div><div class="line">ffffff00a8af43d0 stream-ord ffffff00a8c77800 0000000 /var/run/in.ndpd_ipadm                </div><div class="line">ffffff00a8af4780 stream-ord ffffff00a8bad040 0000000 /var/run/.inetd.uds                </div><div class="line">ffffff00a8af4b30 stream-ord 0000000 0000000 /var/run/hald/dbus-PSIt9xbdm8                </div><div class="line">ffffff00a8ac4018 stream-ord 0000000 0000000 /var/run/dbus/system_bus_socket                </div><div class="line">ffffff00a8ac43c8 stream-ord 0000000 ffffff00a873c680                /var/run/dbus/system_bus_socket </div><div class="line">ffffff00a8ac4778 stream-ord 0000000 ffffff00a8a35280                /var/run/hald/dbus-PSIt9xbdm8 </div><div class="line">ffffff00a8ac4b28 stream-ord 0000000 0000000 /var/run/hald/dbus-PSIt9xbdm8                </div><div class="line">ffffff00a8a8e010 stream-ord 0000000 ffffff00a8a35280                /var/run/hald/dbus-PSIt9xbdm8 </div><div class="line">ffffff00a8a8e3c0 stream-ord 0000000 0000000 /var/run/hald/dbus-s4jHYz6LbO                </div><div class="line">ffffff00a8a8e770 stream-ord 0000000 ffffff00a8a32400                /var/run/hald/dbus-s4jHYz6LbO </div><div class="line">ffffff00a8a8eb20 stream-ord ffffff00a8a32400 0000000 /var/run/hald/dbus-s4jHYz6LbO                </div><div class="line">ffffff00a7c4e008 stream-ord 0000000 0000000                               </div><div class="line">ffffff00a7c4e3b8 stream-ord 0000000 0000000                               </div><div class="line">ffffff00a7c4e768 stream-ord ffffff00a8a35280 0000000 /var/run/hald/dbus-PSIt9xbdm8                </div><div class="line">ffffff00a7c4eb18 stream-ord ffffff00a873c680 0000000 /var/run/dbus/system_bus_socket</div></pre></td></tr></table></figure>
<h3 id="Display-the-partition-table-currently-mounted-filesystems-disk-space"><a href="#Display-the-partition-table-currently-mounted-filesystems-disk-space" class="headerlink" title="Display the partition table, currently mounted filesystems, disk space"></a>Display the partition table, currently mounted filesystems, disk space</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">root@ip-10-152-178-106.ec2.internal:/root# format -M</div><div class="line">Searching for disks...</div><div class="line">No request sense for command inquiry</div><div class="line">Inquiry failed</div><div class="line"></div><div class="line">Inquiry failed - Inappropriate ioctl for device</div><div class="line">done</div><div class="line"></div><div class="line"></div><div class="line">AVAILABLE DISK SELECTIONS:</div><div class="line">       0. c1t2048d0 &lt;Unknown-Unknown-0001 cyl 4085 alt 2 hd 128 sec 32&gt;</div><div class="line">          /xpvd/xdf@2048</div><div class="line">Specify disk (enter its number): 0</div><div class="line">selecting c1t2048d0</div><div class="line">[disk formatted, no defect list found]</div><div class="line">             Total disk size is 4096 cylinders</div><div class="line">             Cylinder size is 4096 (512 byte) blocks</div><div class="line"></div><div class="line">                                               Cylinders</div><div class="line">      Partition   Status    Type          Start   End   Length    %</div><div class="line">      =========   ======    ============  =====   ===   ======   ===</div><div class="line">          1                 DOS-BIG           0     7       8      0</div><div class="line">          2                 Solaris2          8  4095    4088    100</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">SELECT ONE OF THE FOLLOWING:</div><div class="line">   1. Create a partition</div><div class="line">   2. Specify the active partition</div><div class="line">   3. Delete a partition</div><div class="line">   4. Change between Solaris and Solaris2 Partition IDs</div><div class="line">   5. Edit/View extended partitions</div><div class="line">   6. Exit (update disk configuration and exit)</div><div class="line">   7. Cancel (exit without updating disk configuration)</div><div class="line">Enter Selection: 7</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">root@ip-10-152-178-106.ec2.internal:/root# mount</div><div class="line">/ on syspool/ROOT/omnios-r151020-1 read/write/setuid/devices/dev=1710002 on Thu Jan  1 00:00:00 1970</div><div class="line">/devices on /devices read/write/setuid/devices/dev=8340000 on Mon Jan 30 02:26:31 2017</div><div class="line">/dev on /dev read/write/setuid/devices/dev=8380000 on Mon Jan 30 02:26:31 2017</div><div class="line">/system/contract on ctfs read/write/setuid/devices/dev=8440001 on Mon Jan 30 02:26:32 2017</div><div class="line">/proc on proc read/write/setuid/devices/dev=83c0000 on Mon Jan 30 02:26:32 2017</div><div class="line">/etc/mnttab on mnttab read/write/setuid/devices/dev=8480001 on Mon Jan 30 02:26:32 2017</div><div class="line">/etc/svc/volatile on swap read/write/setuid/devices/xattr/dev=84c0001 on Mon Jan 30 02:26:32 2017</div><div class="line">/system/object on objfs read/write/setuid/devices/dev=8500001 on Mon Jan 30 02:26:32 2017</div><div class="line">/system/boot on bootfs read/write/setuid/devices/dev=8540001 on Mon Jan 30 02:26:32 2017</div><div class="line">/etc/dfs/sharetab on sharefs read/write/setuid/devices/dev=8580001 on Mon Jan 30 02:26:32 2017</div><div class="line">/lib/libc.so.1 on /usr/lib/libc/libc_hwcap3.so.1 read/write/setuid/devices/dev=1710002 on Mon Jan 30 02:27:04 2017</div><div class="line">/dev/fd on fd read/write/setuid/devices/dev=8680001 on Mon Jan 30 02:27:09 2017</div><div class="line">/tmp on swap read/write/setuid/devices/xattr/dev=84c0002 on Mon Jan 30 02:27:09 2017</div><div class="line">/var/run on swap read/write/setuid/devices/xattr/dev=84c0003 on Mon Jan 30 02:27:09 2017</div><div class="line">/syspool on syspool read/write/setuid/devices/nonbmand/exec/xattr/atime/dev=1710007 on Mon Jan 30 02:27:15 2017</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">root@ip-10-152-178-106.ec2.internal:/root# df -h</div><div class="line">Filesystem             Size   Used  Available Capacity  Mounted on</div><div class="line">syspool/ROOT/omnios-r151020-1</div><div class="line">                       7.7G   864M       6.3G    12%    /</div><div class="line">/devices                 0K     0K         0K     0%    /devices</div><div class="line">/dev                     0K     0K         0K     0%    /dev</div><div class="line">ctfs                     0K     0K         0K     0%    /system/contract</div><div class="line">proc                     0K     0K         0K     0%    /proc</div><div class="line">mnttab                   0K     0K         0K     0%    /etc/mnttab</div><div class="line">swap                   261M   292K       261M     1%    /etc/svc/volatile</div><div class="line">objfs                    0K     0K         0K     0%    /system/object</div><div class="line">bootfs                   0K     0K         0K     0%    /system/boot</div><div class="line">sharefs                  0K     0K         0K     0%    /etc/dfs/sharetab</div><div class="line">/usr/lib/libc/libc_hwcap3.so.1</div><div class="line">                       7.2G   864M       6.3G    12%    /lib/libc.so.1</div><div class="line">fd                       0K     0K         0K     0%    /dev/fd</div><div class="line">swap                   261M     0K       261M     0%    /tmp</div><div class="line">swap                   261M    32K       261M     1%    /var/run</div><div class="line">syspool                7.7G    30K       6.3G     1%    /syspool</div></pre></td></tr></table></figure>
<h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><h3 id="Images-Select"><a href="#Images-Select" class="headerlink" title="Images Select"></a>Images Select</h3><p>Amazon Linux AMI 2016.09.1 (HVM), SSD Volume Type - ami-0b33d91d</p>
<h3 id="Run-a-instance-1"><a href="#Run-a-instance-1" class="headerlink" title="Run a instance"></a>Run a instance</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line">➜  bin git:(master) ✗ aws ec2 run-instances --image-id ami-0b33d91d --count 1 --instance-type t2.micro --key-name keypair3 --security-groups mysg</div><div class="line">&#123;</div><div class="line">    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">    &quot;ReservationId&quot;: &quot;r-081d903479e0a8659&quot;, </div><div class="line">    &quot;Groups&quot;: [], </div><div class="line">    &quot;Instances&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;Monitoring&quot;: &#123;</div><div class="line">                &quot;State&quot;: &quot;disabled&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;PublicDnsName&quot;: &quot;&quot;, </div><div class="line">            &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">            &quot;State&quot;: &#123;</div><div class="line">                &quot;Code&quot;: 0, </div><div class="line">                &quot;Name&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;EbsOptimized&quot;: false, </div><div class="line">            &quot;LaunchTime&quot;: &quot;2017-01-30T04:40:43.000Z&quot;, </div><div class="line">            &quot;PrivateIpAddress&quot;: &quot;172.31.25.111&quot;, </div><div class="line">            &quot;ProductCodes&quot;: [], </div><div class="line">            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">            &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">            &quot;InstanceId&quot;: &quot;i-0f34e210bdf46cf93&quot;, </div><div class="line">            &quot;ImageId&quot;: &quot;ami-0b33d91d&quot;, </div><div class="line">            &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-111.ec2.internal&quot;, </div><div class="line">            &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">            &quot;SecurityGroups&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">            &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">            &quot;NetworkInterfaces&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                    &quot;MacAddress&quot;: &quot;0e:7e:53:40:0a:26&quot;, </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;Description&quot;: &quot;&quot;, </div><div class="line">                    &quot;NetworkInterfaceId&quot;: &quot;eni-274dd2e2&quot;, </div><div class="line">                    &quot;PrivateIpAddresses&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-111.ec2.internal&quot;, </div><div class="line">                            &quot;Primary&quot;: true, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.25.111&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-111.ec2.internal&quot;, </div><div class="line">                    &quot;Attachment&quot;: &#123;</div><div class="line">                        &quot;Status&quot;: &quot;attaching&quot;, </div><div class="line">                        &quot;DeviceIndex&quot;: 0, </div><div class="line">                        &quot;DeleteOnTermination&quot;: true, </div><div class="line">                        &quot;AttachmentId&quot;: &quot;eni-attach-7eccda21&quot;, </div><div class="line">                        &quot;AttachTime&quot;: &quot;2017-01-30T04:40:43.000Z&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Groups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Ipv6Addresses&quot;: [], </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.25.111&quot;</div><div class="line">                &#125;</div><div class="line">            ], </div><div class="line">            &quot;SourceDestCheck&quot;: true, </div><div class="line">            &quot;Placement&quot;: &#123;</div><div class="line">                &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">            &quot;BlockDeviceMappings&quot;: [], </div><div class="line">            &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">            &quot;StateReason&quot;: &#123;</div><div class="line">                &quot;Message&quot;: &quot;pending&quot;, </div><div class="line">                &quot;Code&quot;: &quot;pending&quot;</div><div class="line">            &#125;, </div><div class="line">            &quot;RootDeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">            &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">            &quot;AmiLaunchIndex&quot;: 0</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Get-the-info-of-my-Instance-1"><a href="#Get-the-info-of-my-Instance-1" class="headerlink" title="Get the info of my Instance"></a>Get the info of my Instance</h3><p>From above: “InstanceId”: “i-0f34e210bdf46cf93”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div></pre></td><td class="code"><pre><div class="line">➜  bin git:(master) ✗ aws ec2 describe-instances --filters &quot;Name=instance-id,Values=i-0f34e210bdf46cf93&quot;</div><div class="line">&#123;</div><div class="line">    &quot;Reservations&quot;: [</div><div class="line">        &#123;</div><div class="line">            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">            &quot;ReservationId&quot;: &quot;r-081d903479e0a8659&quot;, </div><div class="line">            &quot;Groups&quot;: [], </div><div class="line">            &quot;Instances&quot;: [</div><div class="line">                &#123;</div><div class="line">                    &quot;Monitoring&quot;: &#123;</div><div class="line">                        &quot;State&quot;: &quot;disabled&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;PublicDnsName&quot;: &quot;ec2-52-207-16-176.compute-1.amazonaws.com&quot;, </div><div class="line">                    &quot;State&quot;: &#123;</div><div class="line">                        &quot;Code&quot;: 16, </div><div class="line">                        &quot;Name&quot;: &quot;running&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;EbsOptimized&quot;: false, </div><div class="line">                    &quot;LaunchTime&quot;: &quot;2017-01-30T04:40:43.000Z&quot;, </div><div class="line">                    &quot;PublicIpAddress&quot;: &quot;52.207.16.176&quot;, </div><div class="line">                    &quot;PrivateIpAddress&quot;: &quot;172.31.25.111&quot;, </div><div class="line">                    &quot;ProductCodes&quot;: [], </div><div class="line">                    &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                    &quot;StateTransitionReason&quot;: &quot;&quot;, </div><div class="line">                    &quot;InstanceId&quot;: &quot;i-0f34e210bdf46cf93&quot;, </div><div class="line">                    &quot;EnaSupport&quot;: true, </div><div class="line">                    &quot;ImageId&quot;: &quot;ami-0b33d91d&quot;, </div><div class="line">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-111.ec2.internal&quot;, </div><div class="line">                    &quot;KeyName&quot;: &quot;keypair3&quot;, </div><div class="line">                    &quot;SecurityGroups&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                            &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;ClientToken&quot;: &quot;&quot;, </div><div class="line">                    &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                    &quot;InstanceType&quot;: &quot;t2.micro&quot;, </div><div class="line">                    &quot;NetworkInterfaces&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;Status&quot;: &quot;in-use&quot;, </div><div class="line">                            &quot;MacAddress&quot;: &quot;0e:7e:53:40:0a:26&quot;, </div><div class="line">                            &quot;SourceDestCheck&quot;: true, </div><div class="line">                            &quot;VpcId&quot;: &quot;vpc-adb325cb&quot;, </div><div class="line">                            &quot;Description&quot;: &quot;&quot;, </div><div class="line">                            &quot;Association&quot;: &#123;</div><div class="line">                                &quot;PublicIp&quot;: &quot;52.207.16.176&quot;, </div><div class="line">                                &quot;PublicDnsName&quot;: &quot;ec2-52-207-16-176.compute-1.amazonaws.com&quot;, </div><div class="line">                                &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;NetworkInterfaceId&quot;: &quot;eni-274dd2e2&quot;, </div><div class="line">                            &quot;PrivateIpAddresses&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-111.ec2.internal&quot;, </div><div class="line">                                    &quot;Association&quot;: &#123;</div><div class="line">                                        &quot;PublicIp&quot;: &quot;52.207.16.176&quot;, </div><div class="line">                                        &quot;PublicDnsName&quot;: &quot;ec2-52-207-16-176.compute-1.amazonaws.com&quot;, </div><div class="line">                                        &quot;IpOwnerId&quot;: &quot;amazon&quot;</div><div class="line">                                    &#125;, </div><div class="line">                                    &quot;Primary&quot;: true, </div><div class="line">                                    &quot;PrivateIpAddress&quot;: &quot;172.31.25.111&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;PrivateDnsName&quot;: &quot;ip-172-31-25-111.ec2.internal&quot;, </div><div class="line">                            &quot;Attachment&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeviceIndex&quot;: 0, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;AttachmentId&quot;: &quot;eni-attach-7eccda21&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-01-30T04:40:43.000Z&quot;</div><div class="line">                            &#125;, </div><div class="line">                            &quot;Groups&quot;: [</div><div class="line">                                &#123;</div><div class="line">                                    &quot;GroupName&quot;: &quot;mysg&quot;, </div><div class="line">                                    &quot;GroupId&quot;: &quot;sg-a364e4df&quot;</div><div class="line">                                &#125;</div><div class="line">                            ], </div><div class="line">                            &quot;Ipv6Addresses&quot;: [], </div><div class="line">                            &quot;SubnetId&quot;: &quot;subnet-09dda752&quot;, </div><div class="line">                            &quot;OwnerId&quot;: &quot;624990436890&quot;, </div><div class="line">                            &quot;PrivateIpAddress&quot;: &quot;172.31.25.111&quot;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;SourceDestCheck&quot;: true, </div><div class="line">                    &quot;Placement&quot;: &#123;</div><div class="line">                        &quot;Tenancy&quot;: &quot;default&quot;, </div><div class="line">                        &quot;GroupName&quot;: &quot;&quot;, </div><div class="line">                        &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;</div><div class="line">                    &#125;, </div><div class="line">                    &quot;Hypervisor&quot;: &quot;xen&quot;, </div><div class="line">                    &quot;BlockDeviceMappings&quot;: [</div><div class="line">                        &#123;</div><div class="line">                            &quot;DeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">                            &quot;Ebs&quot;: &#123;</div><div class="line">                                &quot;Status&quot;: &quot;attached&quot;, </div><div class="line">                                &quot;DeleteOnTermination&quot;: true, </div><div class="line">                                &quot;VolumeId&quot;: &quot;vol-049fb7df3a019542f&quot;, </div><div class="line">                                &quot;AttachTime&quot;: &quot;2017-01-30T04:40:44.000Z&quot;</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    ], </div><div class="line">                    &quot;Architecture&quot;: &quot;x86_64&quot;, </div><div class="line">                    &quot;RootDeviceType&quot;: &quot;ebs&quot;, </div><div class="line">                    &quot;RootDeviceName&quot;: &quot;/dev/xvda&quot;, </div><div class="line">                    &quot;VirtualizationType&quot;: &quot;hvm&quot;, </div><div class="line">                    &quot;AmiLaunchIndex&quot;: 0</div><div class="line">                &#125;</div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="SSH-to-Instance-and-Check-the-info-1"><a href="#SSH-to-Instance-and-Check-the-info-1" class="headerlink" title="SSH to Instance and Check the info"></a>SSH to Instance and Check the info</h3><p>From above:<br>“PublicDnsName”: “ec2-52-207-16-176.compute-1.amazonaws.com”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div></pre></td><td class="code"><pre><div class="line">➜  Documents git:(master) ✗ ssh -i p.pem ec2-user@ec2-52-207-16-176.compute-1.amazonaws.com</div><div class="line"></div><div class="line">       __|  __|_  )</div><div class="line">       _|  (     /   Amazon Linux AMI</div><div class="line">      ___|\___|___|</div><div class="line"></div><div class="line">https://aws.amazon.com/amazon-linux-ami/2016.09-release-notes/</div><div class="line">[ec2-user@ip-172-31-25-111 ~]$ uname -a</div><div class="line">Linux ip-172-31-25-111 4.4.41-36.55.amzn1.x86_64 #1 SMP Wed Jan 18 01:03:26 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux</div><div class="line">[ec2-user@ip-172-31-25-111 ~]$ whoami</div><div class="line">ec2-user</div><div class="line">[ec2-user@ip-172-31-25-111 ~]$ date</div><div class="line">Mon Jan 30 05:49:27 UTC 2017</div><div class="line">[ec2-user@ip-172-31-25-111 ~]$ w</div><div class="line"> 05:49:28 up  1:08,  1 user,  load average: 0.00, 0.00, 0.00</div><div class="line">USER     TTY      FROM              LOGIN@   IDLE   JCPU   PCPU WHAT</div><div class="line">ec2-user pts/0    pool-98-109-151- 05:42    0.00s  0.00s  0.00s w</div><div class="line">[ec2-user@ip-172-31-25-111 ~]$ ifconfig -a</div><div class="line">eth0      Link encap:Ethernet  HWaddr 0E:7E:53:40:0A:26  </div><div class="line">          inet addr:172.31.25.111  Bcast:172.31.31.255  Mask:255.255.240.0</div><div class="line">          inet6 addr: fe80::c7e:53ff:fe40:a26/64 Scope:Link</div><div class="line">          UP BROADCAST RUNNING MULTICAST  MTU:9001  Metric:1</div><div class="line">          RX packets:4425 errors:0 dropped:0 overruns:0 frame:0</div><div class="line">          TX packets:2918 errors:0 dropped:0 overruns:0 carrier:0</div><div class="line">          collisions:0 txqueuelen:1000 </div><div class="line">          RX bytes:4922228 (4.6 MiB)  TX bytes:218230 (213.1 KiB)</div><div class="line"></div><div class="line">lo        Link encap:Local Loopback  </div><div class="line">          inet addr:127.0.0.1  Mask:255.0.0.0</div><div class="line">          inet6 addr: ::1/128 Scope:Host</div><div class="line">          UP LOOPBACK RUNNING  MTU:65536  Metric:1</div><div class="line">          RX packets:2 errors:0 dropped:0 overruns:0 frame:0</div><div class="line">          TX packets:2 errors:0 dropped:0 overruns:0 carrier:0</div><div class="line">          collisions:0 txqueuelen:1 </div><div class="line">          RX bytes:140 (140.0 b)  TX bytes:140 (140.0 b)</div><div class="line"></div><div class="line">[ec2-user@ip-172-31-25-111 ~]$ netstat -na</div><div class="line">Active Internet connections (servers and established)</div><div class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State      </div><div class="line">tcp        0      0 127.0.0.1:25                0.0.0.0:*                   LISTEN      </div><div class="line">tcp        0      0 0.0.0.0:111                 0.0.0.0:*                   LISTEN      </div><div class="line">tcp        0      0 0.0.0.0:52816               0.0.0.0:*                   LISTEN      </div><div class="line">tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      </div><div class="line">tcp        0    252 172.31.25.111:22            98.109.151.68:49300         ESTABLISHED </div><div class="line">tcp        0      0 :::50557                    :::*                        LISTEN      </div><div class="line">tcp        0      0 :::111                      :::*                        LISTEN      </div><div class="line">tcp        0      0 :::22                       :::*                        LISTEN      </div><div class="line">udp        0      0 0.0.0.0:33305               0.0.0.0:*                               </div><div class="line">udp        0      0 0.0.0.0:68                  0.0.0.0:*                               </div><div class="line">udp        0      0 0.0.0.0:111                 0.0.0.0:*                               </div><div class="line">udp        0      0 172.31.25.111:123           0.0.0.0:*                               </div><div class="line">udp        0      0 127.0.0.1:123               0.0.0.0:*                               </div><div class="line">udp        0      0 0.0.0.0:123                 0.0.0.0:*                               </div><div class="line">udp        0      0 0.0.0.0:694                 0.0.0.0:*                               </div><div class="line">udp        0      0 127.0.0.1:717               0.0.0.0:*                               </div><div class="line">udp        0      0 fe80::c7e:53ff:fe40:a26:546 :::*                                    </div><div class="line">udp        0      0 :::111                      :::*                                    </div><div class="line">udp        0      0 :::694                      :::*                                    </div><div class="line">udp        0      0 :::52689                    :::*                                    </div><div class="line">Active UNIX domain sockets (servers and established)</div><div class="line">Proto RefCnt Flags       Type       State         I-Node Path</div><div class="line">unix  2      [ ACC ]     STREAM     LISTENING     8060   @/com/ubuntu/upstart</div><div class="line">unix  2      [ ACC ]     SEQPACKET  LISTENING     8322   @/org/kernel/udev/udevd</div><div class="line">unix  11     [ ]         DGRAM                    9389   /dev/log</div><div class="line">unix  2      [ ACC ]     STREAM     LISTENING     9844   /var/run/rpcbind.sock</div><div class="line">unix  2      [ ACC ]     STREAM     LISTENING     10017  /var/run/dbus/system_bus_socket</div><div class="line">unix  2      [ ]         DGRAM                    11085  </div><div class="line">unix  2      [ ]         DGRAM                    10973  </div><div class="line">unix  3      [ ]         STREAM     CONNECTED     10025  </div><div class="line">unix  3      [ ]         DGRAM                    8330   </div><div class="line">unix  3      [ ]         STREAM     CONNECTED     11661  </div><div class="line">unix  3      [ ]         DGRAM                    8331   </div><div class="line">unix  2      [ ]         DGRAM                    11656  </div><div class="line">unix  3      [ ]         STREAM     CONNECTED     11660  </div><div class="line">unix  3      [ ]         STREAM     CONNECTED     10026  /var/run/dbus/system_bus_socket</div><div class="line">unix  2      [ ]         DGRAM                    10150  </div><div class="line">unix  2      [ ]         DGRAM                    10608  </div><div class="line">unix  2      [ ]         DGRAM                    9920   </div><div class="line">unix  2      [ ]         DGRAM                    10506  </div><div class="line">unix  3      [ ]         STREAM     CONNECTED     10020  </div><div class="line">unix  2      [ ]         DGRAM                    10587  </div><div class="line">unix  2      [ ]         DGRAM                    10629  </div><div class="line">unix  3      [ ]         STREAM     CONNECTED     10021</div></pre></td></tr></table></figure>
<h3 id="Display-the-partition-table-currently-mounted-filesystems-disk-space-1"><a href="#Display-the-partition-table-currently-mounted-filesystems-disk-space-1" class="headerlink" title="Display the partition table, currently mounted filesystems, disk space"></a>Display the partition table, currently mounted filesystems, disk space</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">[ec2-user@ip-172-31-25-111 ~]$ sudo su</div><div class="line">[root@ip-172-31-25-111 ec2-user]# fdisk -l</div><div class="line">WARNING: fdisk GPT support is currently new, and therefore in an experimental phase. Use at your own discretion.</div><div class="line"></div><div class="line">Disk /dev/xvda: 8589 MB, 8589934592 bytes, 16777216 sectors</div><div class="line">Units = sectors of 1 * 512 = 512 bytes</div><div class="line">Sector size (logical/physical): 512 bytes / 512 bytes</div><div class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div class="line">Disk label type: gpt</div><div class="line"></div><div class="line"></div><div class="line">#         Start          End    Size  Type            Name</div><div class="line"> 1         4096     16777182      8G  Linux filesyste Linux</div><div class="line">128         2048         4095      1M  BIOS boot parti BIOS Boot Partition</div><div class="line">[root@ip-172-31-25-111 ec2-user]# </div><div class="line">[root@ip-172-31-25-111 ec2-user]# df -h</div><div class="line">Filesystem      Size  Used Avail Use% Mounted on</div><div class="line">devtmpfs        488M   56K  488M   1% /dev</div><div class="line">tmpfs           498M     0  498M   0% /dev/shm</div><div class="line">/dev/xvda1      7.8G  984M  6.7G  13% /</div><div class="line">[root@ip-172-31-25-111 ec2-user]# mount</div><div class="line">proc on /proc type proc (rw,relatime)</div><div class="line">sysfs on /sys type sysfs (rw,relatime)</div><div class="line">devtmpfs on /dev type devtmpfs (rw,relatime,size=498764k,nr_inodes=124691,mode=755)</div><div class="line">devpts on /dev/pts type devpts (rw,relatime,gid=5,mode=620,ptmxmode=000)</div><div class="line">tmpfs on /dev/shm type tmpfs (rw,relatime)</div><div class="line">/dev/xvda1 on / type ext4 (rw,noatime,data=ordered)</div><div class="line">none on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,relatime)</div></pre></td></tr></table></figure>
<h2 id="The-Difference-of-Two-Instance"><a href="#The-Difference-of-Two-Instance" class="headerlink" title="The Difference of Two Instance"></a>The Difference of Two Instance</h2><ol>
<li>The SSH access user names.</li>
<li>The orders which are used to view the disk info.</li>
<li>Instance type.</li>
</ol>
]]></content>
    </entry>
    
  
  
</search>
